function i0(n,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function r0(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),e}var zd={exports:{}},so={},Rd={exports:{}},N={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),o0=Symbol.for("react.portal"),l0=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),u0=Symbol.for("react.profiler"),h0=Symbol.for("react.provider"),c0=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),f0=Symbol.for("react.suspense"),p0=Symbol.for("react.memo"),m0=Symbol.for("react.lazy"),nh=Symbol.iterator;function v0(n){return n===null||typeof n!="object"?null:(n=nh&&n[nh]||n["@@iterator"],typeof n=="function"?n:null)}var Nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Od=Object.assign,Id={};function mi(n,t,e){this.props=n,this.context=t,this.refs=Id,this.updater=e||Nd}mi.prototype.isReactComponent={};mi.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};mi.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Dd(){}Dd.prototype=mi.prototype;function Ba(n,t,e){this.props=n,this.context=t,this.refs=Id,this.updater=e||Nd}var Wa=Ba.prototype=new Dd;Wa.constructor=Ba;Od(Wa,mi.prototype);Wa.isPureReactComponent=!0;var ih=Array.isArray,Ad=Object.prototype.hasOwnProperty,Ha={current:null},Vd={key:!0,ref:!0,__self:!0,__source:!0};function Ud(n,t,e){var i,s={},r=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)Ad.call(t,i)&&!Vd.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(l===1)s.children=e;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:ks,type:n,key:r,ref:o,props:s,_owner:Ha.current}}function g0(n,t){return{$$typeof:ks,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function Ka(n){return typeof n=="object"&&n!==null&&n.$$typeof===ks}function y0(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var sh=/\/+/g;function Io(n,t){return typeof n=="object"&&n!==null&&n.key!=null?y0(""+n.key):t.toString(36)}function pr(n,t,e,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ks:case o0:o=!0}}if(o)return o=n,s=s(o),n=i===""?"."+Io(o,0):i,ih(s)?(e="",n!=null&&(e=n.replace(sh,"$&/")+"/"),pr(s,t,e,"",function(u){return u})):s!=null&&(Ka(s)&&(s=g0(s,e+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(sh,"$&/")+"/")+n)),t.push(s)),1;if(o=0,i=i===""?".":i+":",ih(n))for(var l=0;l<n.length;l++){r=n[l];var a=i+Io(r,l);o+=pr(r,t,e,a,s)}else if(a=v0(n),typeof a=="function")for(n=a.call(n),l=0;!(r=n.next()).done;)r=r.value,a=i+Io(r,l++),o+=pr(r,t,e,a,s);else if(r==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Is(n,t,e){if(n==null)return n;var i=[],s=0;return pr(n,i,"","",function(r){return t.call(e,r,s++)}),i}function w0(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var yt={current:null},mr={transition:null},_0={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:mr,ReactCurrentOwner:Ha};function Fd(){throw Error("act(...) is not supported in production builds of React.")}N.Children={map:Is,forEach:function(n,t,e){Is(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Is(n,function(){t++}),t},toArray:function(n){return Is(n,function(t){return t})||[]},only:function(n){if(!Ka(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};N.Component=mi;N.Fragment=l0;N.Profiler=u0;N.PureComponent=Ba;N.StrictMode=a0;N.Suspense=f0;N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_0;N.act=Fd;N.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Od({},n.props),s=n.key,r=n.ref,o=n._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=Ha.current),t.key!==void 0&&(s=""+t.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(a in t)Ad.call(t,a)&&!Vd.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:ks,type:n.type,key:s,ref:r,props:i,_owner:o}};N.createContext=function(n){return n={$$typeof:c0,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:h0,_context:n},n.Consumer=n};N.createElement=Ud;N.createFactory=function(n){var t=Ud.bind(null,n);return t.type=n,t};N.createRef=function(){return{current:null}};N.forwardRef=function(n){return{$$typeof:d0,render:n}};N.isValidElement=Ka;N.lazy=function(n){return{$$typeof:m0,_payload:{_status:-1,_result:n},_init:w0}};N.memo=function(n,t){return{$$typeof:p0,type:n,compare:t===void 0?null:t}};N.startTransition=function(n){var t=mr.transition;mr.transition={};try{n()}finally{mr.transition=t}};N.unstable_act=Fd;N.useCallback=function(n,t){return yt.current.useCallback(n,t)};N.useContext=function(n){return yt.current.useContext(n)};N.useDebugValue=function(){};N.useDeferredValue=function(n){return yt.current.useDeferredValue(n)};N.useEffect=function(n,t){return yt.current.useEffect(n,t)};N.useId=function(){return yt.current.useId()};N.useImperativeHandle=function(n,t,e){return yt.current.useImperativeHandle(n,t,e)};N.useInsertionEffect=function(n,t){return yt.current.useInsertionEffect(n,t)};N.useLayoutEffect=function(n,t){return yt.current.useLayoutEffect(n,t)};N.useMemo=function(n,t){return yt.current.useMemo(n,t)};N.useReducer=function(n,t,e){return yt.current.useReducer(n,t,e)};N.useRef=function(n){return yt.current.useRef(n)};N.useState=function(n){return yt.current.useState(n)};N.useSyncExternalStore=function(n,t,e){return yt.current.useSyncExternalStore(n,t,e)};N.useTransition=function(){return yt.current.useTransition()};N.version="18.3.1";Rd.exports=N;var k=Rd.exports;const b0=s0(k),S0=i0({__proto__:null,default:b0},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=k,x0=Symbol.for("react.element"),C0=Symbol.for("react.fragment"),E0=Object.prototype.hasOwnProperty,P0=k0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T0={key:!0,ref:!0,__self:!0,__source:!0};function Bd(n,t,e){var i,s={},r=null,o=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)E0.call(t,i)&&!T0.hasOwnProperty(i)&&(s[i]=t[i]);if(n&&n.defaultProps)for(i in t=n.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:x0,type:n,key:r,ref:o,props:s,_owner:P0.current}}so.Fragment=C0;so.jsx=Bd;so.jsxs=Bd;zd.exports=so;var w=zd.exports,Wd={exports:{}},Rt={},Hd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(L,j){var z=L.length;L.push(j);t:for(;0<z;){var F=z-1>>>1,it=L[F];if(0<s(it,j))L[F]=j,L[z]=it,z=F;else break t}}function e(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var j=L[0],z=L.pop();if(z!==j){L[0]=z;t:for(var F=0,it=L.length,Ns=it>>>1;F<Ns;){var qe=2*(F+1)-1,Oo=L[qe],tn=qe+1,Os=L[tn];if(0>s(Oo,z))tn<it&&0>s(Os,Oo)?(L[F]=Os,L[tn]=z,F=tn):(L[F]=Oo,L[qe]=z,F=qe);else if(tn<it&&0>s(Os,z))L[F]=Os,L[tn]=z,F=tn;else break t}}return j}function s(L,j){var z=L.sortIndex-j.sortIndex;return z!==0?z:L.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,d=3,f=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var j=e(u);j!==null;){if(j.callback===null)i(u);else if(j.startTime<=L)i(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=e(u)}}function b(L){if(v=!1,y(L),!g)if(e(a)!==null)g=!0,Se(S);else{var j=e(u);j!==null&&Mn(b,j.startTime-L)}}function S(L,j){g=!1,v&&(v=!1,m(T),T=-1),f=!0;var z=d;try{for(y(j),c=e(a);c!==null&&(!(c.expirationTime>j)||L&&!_t());){var F=c.callback;if(typeof F=="function"){c.callback=null,d=c.priorityLevel;var it=F(c.expirationTime<=j);j=n.unstable_now(),typeof it=="function"?c.callback=it:c===e(a)&&i(a),y(j)}else i(a);c=e(a)}if(c!==null)var Ns=!0;else{var qe=e(u);qe!==null&&Mn(b,qe.startTime-j),Ns=!1}return Ns}finally{c=null,d=z,f=!1}}var x=!1,P=null,T=-1,O=5,$=-1;function _t(){return!(n.unstable_now()-$<O)}function Ye(){if(P!==null){var L=n.unstable_now();$=L;var j=!0;try{j=P(!0,L)}finally{j?be():(x=!1,P=null)}}else x=!1}var be;if(typeof p=="function")be=function(){p(Ye)};else if(typeof MessageChannel<"u"){var Ln=new MessageChannel,Rs=Ln.port2;Ln.port1.onmessage=Ye,be=function(){Rs.postMessage(null)}}else be=function(){_(Ye,0)};function Se(L){P=L,x||(x=!0,be())}function Mn(L,j){T=_(function(){L(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){g||f||(g=!0,Se(S))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return e(a)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var z=d;d=j;try{return L()}finally{d=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return j()}finally{d=z}},n.unstable_scheduleCallback=function(L,j,z){var F=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,L){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=z+it,L={id:h++,callback:j,priorityLevel:L,startTime:z,expirationTime:it,sortIndex:-1},z>F?(L.sortIndex=z,t(u,L),e(a)===null&&L===e(u)&&(v?(m(T),T=-1):v=!0,Mn(b,z-F))):(L.sortIndex=it,t(a,L),g||f||(g=!0,Se(S))),L},n.unstable_shouldYield=_t,n.unstable_wrapCallback=function(L){var j=d;return function(){var z=d;d=j;try{return L.apply(this,arguments)}finally{d=z}}}})(Kd);Hd.exports=Kd;var L0=Hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=k,zt=L0;function E(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jd=new Set,Yi={};function xn(n,t){si(n,t),si(n+"Capture",t)}function si(n,t){for(Yi[n]=t,n=0;n<t.length;n++)Jd.add(t[n])}var ve=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=Object.prototype.hasOwnProperty,j0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rh={},oh={};function $0(n){return zl.call(oh,n)?!0:zl.call(rh,n)?!1:j0.test(n)?oh[n]=!0:(rh[n]=!0,!1)}function z0(n,t,e,i){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function R0(n,t,e,i){if(t===null||typeof t>"u"||z0(n,t,e,i))return!0;if(i)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(n,t,e,i,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ht[n]=new wt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];ht[t]=new wt(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ht[n]=new wt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ht[n]=new wt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ht[n]=new wt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ht[n]=new wt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ht[n]=new wt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ht[n]=new wt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ht[n]=new wt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Ga(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(Ja,Ga);ht[t]=new wt(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(Ja,Ga);ht[t]=new wt(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Ja,Ga);ht[t]=new wt(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ht[n]=new wt(n,1,!1,n.toLowerCase(),null,!1,!1)});ht.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ht[n]=new wt(n,1,!1,n.toLowerCase(),null,!0,!0)});function Xa(n,t,e,i){var s=ht.hasOwnProperty(t)?ht[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R0(t,e,s,i)&&(e=null),i||s===null?$0(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):s.mustUseProperty?n[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,i=s.attributeNamespace,e===null?n.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,i?n.setAttributeNS(i,t,e):n.setAttribute(t,e))))}var _e=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ds=Symbol.for("react.element"),On=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),Za=Symbol.for("react.strict_mode"),Rl=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),Qa=Symbol.for("react.forward_ref"),Nl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Ya=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Zd=Symbol.for("react.offscreen"),lh=Symbol.iterator;function bi(n){return n===null||typeof n!="object"?null:(n=lh&&n[lh]||n["@@iterator"],typeof n=="function"?n:null)}var X=Object.assign,Do;function $i(n){if(Do===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Do=t&&t[1]||""}return`
`+Do+n}var Ao=!1;function Vo(n,t){if(!n||Ao)return"";Ao=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){i=u}n.call(t.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return n.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",n.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ao=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?$i(n):""}function N0(n){switch(n.tag){case 5:return $i(n.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return n=Vo(n.type,!1),n;case 11:return n=Vo(n.type.render,!1),n;case 1:return n=Vo(n.type,!0),n;default:return""}}function Il(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case In:return"Fragment";case On:return"Portal";case Rl:return"Profiler";case Za:return"StrictMode";case Nl:return"Suspense";case Ol:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Xd:return(n.displayName||"Context")+".Consumer";case Gd:return(n._context.displayName||"Context")+".Provider";case Qa:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ya:return t=n.displayName||null,t!==null?t:Il(n.type)||"Memo";case Pe:t=n._payload,n=n._init;try{return Il(n(t))}catch{}}return null}function O0(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Il(t);case 8:return t===Za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function He(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qd(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I0(n){var t=Qd(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),i=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function As(n){n._valueTracker||(n._valueTracker=I0(n))}function Yd(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),i="";return n&&(i=Qd(n)?n.checked?"true":"false":n.value),n=i,n!==e?(t.setValue(n),!0):!1}function Lr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Dl(n,t){var e=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function ah(n,t){var e=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;e=He(t.value!=null?t.value:e),n._wrapperState={initialChecked:i,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qd(n,t){t=t.checked,t!=null&&Xa(n,"checked",t,!1)}function Al(n,t){qd(n,t);var e=He(t.value),i=t.type;if(e!=null)i==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?Vl(n,t.type,e):t.hasOwnProperty("defaultValue")&&Vl(n,t.type,He(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function uh(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function Vl(n,t,e){(t!=="number"||Lr(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var zi=Array.isArray;function Zn(n,t,e,i){if(n=n.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<n.length;e++)s=t.hasOwnProperty("$"+n[e].value),n[e].selected!==s&&(n[e].selected=s),s&&i&&(n[e].defaultSelected=!0)}else{for(e=""+He(e),t=null,s=0;s<n.length;s++){if(n[s].value===e){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}t!==null||n[s].disabled||(t=n[s])}t!==null&&(t.selected=!0)}}function Ul(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function hh(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(E(92));if(zi(e)){if(1<e.length)throw Error(E(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:He(e)}}function tf(n,t){var e=He(t.value),i=He(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),i!=null&&(n.defaultValue=""+i)}function ch(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function ef(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fl(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?ef(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vs,nf=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction(function(){return n(t,e,i,s)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vs.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function qi(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D0=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(n){D0.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Ii[t]=Ii[n]})});function sf(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Ii.hasOwnProperty(n)&&Ii[n]?(""+t).trim():t+"px"}function rf(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var i=e.indexOf("--")===0,s=sf(e,t[e],i);e==="float"&&(e="cssFloat"),i?n.setProperty(e,s):n[e]=s}}var A0=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bl(n,t){if(t){if(A0[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Wl(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function qa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kl=null,Qn=null,Yn=null;function dh(n){if(n=Es(n)){if(typeof Kl!="function")throw Error(E(280));var t=n.stateNode;t&&(t=uo(t),Kl(n.stateNode,n.type,t))}}function of(n){Qn?Yn?Yn.push(n):Yn=[n]:Qn=n}function lf(){if(Qn){var n=Qn,t=Yn;if(Yn=Qn=null,dh(n),t)for(n=0;n<t.length;n++)dh(t[n])}}function af(n,t){return n(t)}function uf(){}var Uo=!1;function hf(n,t,e){if(Uo)return n(t,e);Uo=!0;try{return af(n,t,e)}finally{Uo=!1,(Qn!==null||Yn!==null)&&(uf(),lf())}}function ts(n,t){var e=n.stateNode;if(e===null)return null;var i=uo(e);if(i===null)return null;e=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(E(231,t,typeof e));return e}var Jl=!1;if(ve)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Jl=!1}function V0(n,t,e,i,s,r,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(h){this.onError(h)}}var Di=!1,Mr=null,jr=!1,Gl=null,U0={onError:function(n){Di=!0,Mr=n}};function F0(n,t,e,i,s,r,o,l,a){Di=!1,Mr=null,V0.apply(U0,arguments)}function B0(n,t,e,i,s,r,o,l,a){if(F0.apply(this,arguments),Di){if(Di){var u=Mr;Di=!1,Mr=null}else throw Error(E(198));jr||(jr=!0,Gl=u)}}function Cn(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function cf(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function fh(n){if(Cn(n)!==n)throw Error(E(188))}function W0(n){var t=n.alternate;if(!t){if(t=Cn(n),t===null)throw Error(E(188));return t!==n?null:n}for(var e=n,i=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){e=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return fh(s),n;if(r===i)return fh(s),t;r=r.sibling}throw Error(E(188))}if(e.return!==i.return)e=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===e){o=!0,e=s,i=r;break}if(l===i){o=!0,i=s,e=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===e){o=!0,e=r,i=s;break}if(l===i){o=!0,i=r,e=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(e.alternate!==i)throw Error(E(190))}if(e.tag!==3)throw Error(E(188));return e.stateNode.current===e?n:t}function df(n){return n=W0(n),n!==null?ff(n):null}function ff(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=ff(n);if(t!==null)return t;n=n.sibling}return null}var pf=zt.unstable_scheduleCallback,ph=zt.unstable_cancelCallback,H0=zt.unstable_shouldYield,K0=zt.unstable_requestPaint,Q=zt.unstable_now,J0=zt.unstable_getCurrentPriorityLevel,tu=zt.unstable_ImmediatePriority,mf=zt.unstable_UserBlockingPriority,$r=zt.unstable_NormalPriority,G0=zt.unstable_LowPriority,vf=zt.unstable_IdlePriority,ro=null,oe=null;function X0(n){if(oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(ro,n,void 0,(n.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Y0,Z0=Math.log,Q0=Math.LN2;function Y0(n){return n>>>=0,n===0?32:31-(Z0(n)/Q0|0)|0}var Us=64,Fs=4194304;function Ri(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zr(n,t){var e=n.pendingLanes;if(e===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,o=e&268435455;if(o!==0){var l=o&~s;l!==0?i=Ri(l):(r&=o,r!==0&&(i=Ri(r)))}else o=e&~s,o!==0?i=Ri(o):r!==0&&(i=Ri(r));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(i&4&&(i|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=i;0<t;)e=31-Xt(t),s=1<<e,i|=n[e],t&=~s;return i}function q0(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tv(n,t){for(var e=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var o=31-Xt(r),l=1<<o,a=s[o];a===-1?(!(l&e)||l&i)&&(s[o]=q0(l,t)):a<=t&&(n.expiredLanes|=l),r&=~l}}function Xl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gf(){var n=Us;return Us<<=1,!(Us&4194240)&&(Us=64),n}function Fo(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function xs(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Xt(t),n[t]=e}function ev(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<e;){var s=31-Xt(e),r=1<<s;t[s]=0,i[s]=-1,n[s]=-1,e&=~r}}function eu(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var i=31-Xt(e),s=1<<i;s&t|n[i]&t&&(n[i]|=t),e&=~s}}var A=0;function yf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var wf,nu,_f,bf,Sf,Zl=!1,Bs=[],Oe=null,Ie=null,De=null,es=new Map,ns=new Map,Me=[],nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mh(n,t){switch(n){case"focusin":case"focusout":Oe=null;break;case"dragenter":case"dragleave":Ie=null;break;case"mouseover":case"mouseout":De=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function ki(n,t,e,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:t,domEventName:e,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Es(t),t!==null&&nu(t)),n):(n.eventSystemFlags|=i,t=n.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),n)}function iv(n,t,e,i,s){switch(t){case"focusin":return Oe=ki(Oe,n,t,e,i,s),!0;case"dragenter":return Ie=ki(Ie,n,t,e,i,s),!0;case"mouseover":return De=ki(De,n,t,e,i,s),!0;case"pointerover":var r=s.pointerId;return es.set(r,ki(es.get(r)||null,n,t,e,i,s)),!0;case"gotpointercapture":return r=s.pointerId,ns.set(r,ki(ns.get(r)||null,n,t,e,i,s)),!0}return!1}function kf(n){var t=un(n.target);if(t!==null){var e=Cn(t);if(e!==null){if(t=e.tag,t===13){if(t=cf(e),t!==null){n.blockedOn=t,Sf(n.priority,function(){_f(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vr(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Ql(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var i=new e.constructor(e.type,e);Hl=i,e.target.dispatchEvent(i),Hl=null}else return t=Es(e),t!==null&&nu(t),n.blockedOn=e,!1;t.shift()}return!0}function vh(n,t,e){vr(n)&&e.delete(t)}function sv(){Zl=!1,Oe!==null&&vr(Oe)&&(Oe=null),Ie!==null&&vr(Ie)&&(Ie=null),De!==null&&vr(De)&&(De=null),es.forEach(vh),ns.forEach(vh)}function xi(n,t){n.blockedOn===t&&(n.blockedOn=null,Zl||(Zl=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,sv)))}function is(n){function t(s){return xi(s,n)}if(0<Bs.length){xi(Bs[0],n);for(var e=1;e<Bs.length;e++){var i=Bs[e];i.blockedOn===n&&(i.blockedOn=null)}}for(Oe!==null&&xi(Oe,n),Ie!==null&&xi(Ie,n),De!==null&&xi(De,n),es.forEach(t),ns.forEach(t),e=0;e<Me.length;e++)i=Me[e],i.blockedOn===n&&(i.blockedOn=null);for(;0<Me.length&&(e=Me[0],e.blockedOn===null);)kf(e),e.blockedOn===null&&Me.shift()}var qn=_e.ReactCurrentBatchConfig,Rr=!0;function rv(n,t,e,i){var s=A,r=qn.transition;qn.transition=null;try{A=1,iu(n,t,e,i)}finally{A=s,qn.transition=r}}function ov(n,t,e,i){var s=A,r=qn.transition;qn.transition=null;try{A=4,iu(n,t,e,i)}finally{A=s,qn.transition=r}}function iu(n,t,e,i){if(Rr){var s=Ql(n,t,e,i);if(s===null)Yo(n,t,i,Nr,e),mh(n,i);else if(iv(s,n,t,e,i))i.stopPropagation();else if(mh(n,i),t&4&&-1<nv.indexOf(n)){for(;s!==null;){var r=Es(s);if(r!==null&&wf(r),r=Ql(n,t,e,i),r===null&&Yo(n,t,i,Nr,e),r===s)break;s=r}s!==null&&i.stopPropagation()}else Yo(n,t,i,null,e)}}var Nr=null;function Ql(n,t,e,i){if(Nr=null,n=qa(i),n=un(n),n!==null)if(t=Cn(n),t===null)n=null;else if(e=t.tag,e===13){if(n=cf(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Nr=n,null}function xf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J0()){case tu:return 1;case mf:return 4;case $r:case G0:return 16;case vf:return 536870912;default:return 16}default:return 16}}var ze=null,su=null,gr=null;function Cf(){if(gr)return gr;var n,t=su,e=t.length,i,s="value"in ze?ze.value:ze.textContent,r=s.length;for(n=0;n<e&&t[n]===s[n];n++);var o=e-n;for(i=1;i<=o&&t[e-i]===s[r-i];i++);return gr=s.slice(n,1<i?1-i:void 0)}function yr(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Ws(){return!0}function gh(){return!1}function Nt(n){function t(e,i,s,r,o){this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(e=n[l],this[l]=e?e(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ws:gh,this.isPropagationStopped=gh,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=Nt(vi),Cs=X({},vi,{view:0,detail:0}),lv=Nt(Cs),Bo,Wo,Ci,oo=X({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ci&&(Ci&&n.type==="mousemove"?(Bo=n.screenX-Ci.screenX,Wo=n.screenY-Ci.screenY):Wo=Bo=0,Ci=n),Bo)},movementY:function(n){return"movementY"in n?n.movementY:Wo}}),yh=Nt(oo),av=X({},oo,{dataTransfer:0}),uv=Nt(av),hv=X({},Cs,{relatedTarget:0}),Ho=Nt(hv),cv=X({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=Nt(cv),fv=X({},vi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pv=Nt(fv),mv=X({},vi,{data:0}),wh=Nt(mv),vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=yv[n])?!!t[n]:!1}function ou(){return wv}var _v=X({},Cs,{key:function(n){if(n.key){var t=vv[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=yr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(n){return n.type==="keypress"?yr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bv=Nt(_v),Sv=X({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_h=Nt(Sv),kv=X({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),xv=Nt(kv),Cv=X({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ev=Nt(Cv),Pv=X({},oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tv=Nt(Pv),Lv=[9,13,27,32],lu=ve&&"CompositionEvent"in window,Ai=null;ve&&"documentMode"in document&&(Ai=document.documentMode);var Mv=ve&&"TextEvent"in window&&!Ai,Ef=ve&&(!lu||Ai&&8<Ai&&11>=Ai),bh=" ",Sh=!1;function Pf(n,t){switch(n){case"keyup":return Lv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Dn=!1;function jv(n,t){switch(n){case"compositionend":return Tf(t);case"keypress":return t.which!==32?null:(Sh=!0,bh);case"textInput":return n=t.data,n===bh&&Sh?null:n;default:return null}}function $v(n,t){if(Dn)return n==="compositionend"||!lu&&Pf(n,t)?(n=Cf(),gr=su=ze=null,Dn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ef&&t.locale!=="ko"?null:t.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kh(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!zv[n.type]:t==="textarea"}function Lf(n,t,e,i){of(i),t=Or(t,"onChange"),0<t.length&&(e=new ru("onChange","change",null,e,i),n.push({event:e,listeners:t}))}var Vi=null,ss=null;function Rv(n){Vf(n,0)}function lo(n){var t=Un(n);if(Yd(t))return n}function Nv(n,t){if(n==="change")return t}var Mf=!1;if(ve){var Ko;if(ve){var Jo="oninput"in document;if(!Jo){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Jo=typeof xh.oninput=="function"}Ko=Jo}else Ko=!1;Mf=Ko&&(!document.documentMode||9<document.documentMode)}function Ch(){Vi&&(Vi.detachEvent("onpropertychange",jf),ss=Vi=null)}function jf(n){if(n.propertyName==="value"&&lo(ss)){var t=[];Lf(t,ss,n,qa(n)),hf(Rv,t)}}function Ov(n,t,e){n==="focusin"?(Ch(),Vi=t,ss=e,Vi.attachEvent("onpropertychange",jf)):n==="focusout"&&Ch()}function Iv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lo(ss)}function Dv(n,t){if(n==="click")return lo(t)}function Av(n,t){if(n==="input"||n==="change")return lo(t)}function Vv(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Vv;function rs(n,t){if(Qt(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(i=0;i<e.length;i++){var s=e[i];if(!zl.call(t,s)||!Qt(n[s],t[s]))return!1}return!0}function Eh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ph(n,t){var e=Eh(n);n=0;for(var i;e;){if(e.nodeType===3){if(i=n+e.textContent.length,n<=t&&i>=t)return{node:e,offset:t-n};n=i}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=Eh(e)}}function $f(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?$f(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function zf(){for(var n=window,t=Lr();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=Lr(n.document)}return t}function au(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function Uv(n){var t=zf(),e=n.focusedElem,i=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&$f(e.ownerDocument.documentElement,e)){if(i!==null&&au(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var s=e.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=Ph(e,r);var o=Ph(e,i);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Fv=ve&&"documentMode"in document&&11>=document.documentMode,An=null,Yl=null,Ui=null,ql=!1;function Th(n,t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;ql||An==null||An!==Lr(i)||(i=An,"selectionStart"in i&&au(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ui&&rs(Ui,i)||(Ui=i,i=Or(Yl,"onSelect"),0<i.length&&(t=new ru("onSelect","select",null,t,e),n.push({event:t,listeners:i}),t.target=An)))}function Hs(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Vn={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},Go={},Rf={};ve&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function ao(n){if(Go[n])return Go[n];if(!Vn[n])return n;var t=Vn[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in Rf)return Go[n]=t[e];return n}var Nf=ao("animationend"),Of=ao("animationiteration"),If=ao("animationstart"),Df=ao("transitionend"),Af=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ge(n,t){Af.set(n,t),xn(t,[n])}for(var Xo=0;Xo<Lh.length;Xo++){var Zo=Lh[Xo],Bv=Zo.toLowerCase(),Wv=Zo[0].toUpperCase()+Zo.slice(1);Ge(Bv,"on"+Wv)}Ge(Nf,"onAnimationEnd");Ge(Of,"onAnimationIteration");Ge(If,"onAnimationStart");Ge("dblclick","onDoubleClick");Ge("focusin","onFocus");Ge("focusout","onBlur");Ge(Df,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Mh(n,t,e){var i=n.type||"unknown-event";n.currentTarget=e,B0(i,t,void 0,n),n.currentTarget=null}function Vf(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var i=n[e],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break t;Mh(s,l,u),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break t;Mh(s,l,u),r=a}}}if(jr)throw n=Gl,jr=!1,Gl=null,n}function B(n,t){var e=t[sa];e===void 0&&(e=t[sa]=new Set);var i=n+"__bubble";e.has(i)||(Uf(t,n,2,!1),e.add(i))}function Qo(n,t,e){var i=0;t&&(i|=4),Uf(e,n,i,t)}var Ks="_reactListening"+Math.random().toString(36).slice(2);function os(n){if(!n[Ks]){n[Ks]=!0,Jd.forEach(function(e){e!=="selectionchange"&&(Hv.has(e)||Qo(e,!1,n),Qo(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Ks]||(t[Ks]=!0,Qo("selectionchange",!1,t))}}function Uf(n,t,e,i){switch(xf(t)){case 1:var s=rv;break;case 4:s=ov;break;default:s=iu}e=s.bind(null,t,e,n),s=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(t,e,{capture:!0,passive:s}):n.addEventListener(t,e,!0):s!==void 0?n.addEventListener(t,e,{passive:s}):n.addEventListener(t,e,!1)}function Yo(n,t,e,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=un(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue t}l=l.parentNode}}i=i.return}hf(function(){var u=r,h=qa(e),c=[];t:{var d=Af.get(n);if(d!==void 0){var f=ru,g=n;switch(n){case"keypress":if(yr(e)===0)break t;case"keydown":case"keyup":f=bv;break;case"focusin":g="focus",f=Ho;break;case"focusout":g="blur",f=Ho;break;case"beforeblur":case"afterblur":f=Ho;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=uv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=xv;break;case Nf:case Of:case If:f=dv;break;case Df:f=Ev;break;case"scroll":f=lv;break;case"wheel":f=Tv;break;case"copy":case"cut":case"paste":f=pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=_h}var v=(t&4)!==0,_=!v&&n==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,m!==null&&(b=ts(p,m),b!=null&&v.push(ls(p,b,y)))),_)break;p=p.return}0<v.length&&(d=new f(d,g,null,e,h),c.push({event:d,listeners:v}))}}if(!(t&7)){t:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&e!==Hl&&(g=e.relatedTarget||e.fromElement)&&(un(g)||g[ge]))break t;if((f||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=e.relatedTarget||e.toElement,f=u,g=g?un(g):null,g!==null&&(_=Cn(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=yh,b="onMouseLeave",m="onMouseEnter",p="mouse",(n==="pointerout"||n==="pointerover")&&(v=_h,b="onPointerLeave",m="onPointerEnter",p="pointer"),_=f==null?d:Un(f),y=g==null?d:Un(g),d=new v(b,p+"leave",f,e,h),d.target=_,d.relatedTarget=y,b=null,un(h)===u&&(v=new v(m,p+"enter",g,e,h),v.target=y,v.relatedTarget=_,b=v),_=b,f&&g)e:{for(v=f,m=g,p=0,y=v;y;y=jn(y))p++;for(y=0,b=m;b;b=jn(b))y++;for(;0<p-y;)v=jn(v),p--;for(;0<y-p;)m=jn(m),y--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break e;v=jn(v),m=jn(m)}v=null}else v=null;f!==null&&jh(c,d,f,v,!1),g!==null&&_!==null&&jh(c,_,g,v,!0)}}t:{if(d=u?Un(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=Nv;else if(kh(d))if(Mf)S=Av;else{S=Iv;var x=Ov}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Dv);if(S&&(S=S(n,u))){Lf(c,S,e,h);break t}x&&x(n,d,u),n==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Vl(d,"number",d.value)}switch(x=u?Un(u):window,n){case"focusin":(kh(x)||x.contentEditable==="true")&&(An=x,Yl=u,Ui=null);break;case"focusout":Ui=Yl=An=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Th(c,e,h);break;case"selectionchange":if(Fv)break;case"keydown":case"keyup":Th(c,e,h)}var P;if(lu)t:{switch(n){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else Dn?Pf(n,e)&&(T="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(T="onCompositionStart");T&&(Ef&&e.locale!=="ko"&&(Dn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Dn&&(P=Cf()):(ze=h,su="value"in ze?ze.value:ze.textContent,Dn=!0)),x=Or(u,T),0<x.length&&(T=new wh(T,n,null,e,h),c.push({event:T,listeners:x}),P?T.data=P:(P=Tf(e),P!==null&&(T.data=P)))),(P=Mv?jv(n,e):$v(n,e))&&(u=Or(u,"onBeforeInput"),0<u.length&&(h=new wh("onBeforeInput","beforeinput",null,e,h),c.push({event:h,listeners:u}),h.data=P))}Vf(c,t)})}function ls(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Or(n,t){for(var e=t+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=ts(n,e),r!=null&&i.unshift(ls(n,r,s)),r=ts(n,t),r!=null&&i.push(ls(n,r,s))),n=n.return}return i}function jn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function jh(n,t,e,i,s){for(var r=t._reactName,o=[];e!==null&&e!==i;){var l=e,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,s?(a=ts(e,r),a!=null&&o.unshift(ls(e,a,l))):s||(a=ts(e,r),a!=null&&o.push(ls(e,a,l)))),e=e.return}o.length!==0&&n.push({event:t,listeners:o})}var Kv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function $h(n){return(typeof n=="string"?n:""+n).replace(Kv,`
`).replace(Jv,"")}function Js(n,t,e){if(t=$h(t),$h(n)!==t&&e)throw Error(E(425))}function Ir(){}var ta=null,ea=null;function na(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,Xv=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(n){return zh.resolve(null).then(n).catch(Zv)}:ia;function Zv(n){setTimeout(function(){throw n})}function qo(n,t){var e=t,i=0;do{var s=e.nextSibling;if(n.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(i===0){n.removeChild(s),is(t);return}i--}else e!=="$"&&e!=="$?"&&e!=="$!"||i++;e=s}while(e);is(t)}function Ae(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function Rh(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var gi=Math.random().toString(36).slice(2),se="__reactFiber$"+gi,as="__reactProps$"+gi,ge="__reactContainer$"+gi,sa="__reactEvents$"+gi,Qv="__reactListeners$"+gi,Yv="__reactHandles$"+gi;function un(n){var t=n[se];if(t)return t;for(var e=n.parentNode;e;){if(t=e[ge]||e[se]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=Rh(n);n!==null;){if(e=n[se])return e;n=Rh(n)}return t}n=e,e=n.parentNode}return null}function Es(n){return n=n[se]||n[ge],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Un(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(E(33))}function uo(n){return n[as]||null}var ra=[],Fn=-1;function Xe(n){return{current:n}}function H(n){0>Fn||(n.current=ra[Fn],ra[Fn]=null,Fn--)}function U(n,t){Fn++,ra[Fn]=n.current,n.current=t}var Ke={},pt=Xe(Ke),Ct=Xe(!1),mn=Ke;function ri(n,t){var e=n.type.contextTypes;if(!e)return Ke;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=s),s}function Et(n){return n=n.childContextTypes,n!=null}function Dr(){H(Ct),H(pt)}function Nh(n,t,e){if(pt.current!==Ke)throw Error(E(168));U(pt,t),U(Ct,e)}function Ff(n,t,e){var i=n.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return e;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(E(108,O0(n)||"Unknown",s));return X({},e,i)}function Ar(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ke,mn=pt.current,U(pt,n),U(Ct,Ct.current),!0}function Oh(n,t,e){var i=n.stateNode;if(!i)throw Error(E(169));e?(n=Ff(n,t,mn),i.__reactInternalMemoizedMergedChildContext=n,H(Ct),H(pt),U(pt,n)):H(Ct),U(Ct,e)}var he=null,ho=!1,tl=!1;function Bf(n){he===null?he=[n]:he.push(n)}function qv(n){ho=!0,Bf(n)}function Ze(){if(!tl&&he!==null){tl=!0;var n=0,t=A;try{var e=he;for(A=1;n<e.length;n++){var i=e[n];do i=i(!0);while(i!==null)}he=null,ho=!1}catch(s){throw he!==null&&(he=he.slice(n+1)),pf(tu,Ze),s}finally{A=t,tl=!1}}return null}var Bn=[],Wn=0,Vr=null,Ur=0,It=[],Dt=0,vn=null,ce=1,de="";function rn(n,t){Bn[Wn++]=Ur,Bn[Wn++]=Vr,Vr=n,Ur=t}function Wf(n,t,e){It[Dt++]=ce,It[Dt++]=de,It[Dt++]=vn,vn=n;var i=ce;n=de;var s=32-Xt(i)-1;i&=~(1<<s),e+=1;var r=32-Xt(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,ce=1<<32-Xt(t)+s|e<<s|i,de=r+n}else ce=1<<r|e<<s|i,de=n}function uu(n){n.return!==null&&(rn(n,1),Wf(n,1,0))}function hu(n){for(;n===Vr;)Vr=Bn[--Wn],Bn[Wn]=null,Ur=Bn[--Wn],Bn[Wn]=null;for(;n===vn;)vn=It[--Dt],It[Dt]=null,de=It[--Dt],It[Dt]=null,ce=It[--Dt],It[Dt]=null}var $t=null,jt=null,K=!1,Gt=null;function Hf(n,t){var e=At(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function Ih(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,$t=n,jt=Ae(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,$t=n,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=vn!==null?{id:ce,overflow:de}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=At(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,$t=n,jt=null,!0):!1;default:return!1}}function oa(n){return(n.mode&1)!==0&&(n.flags&128)===0}function la(n){if(K){var t=jt;if(t){var e=t;if(!Ih(n,t)){if(oa(n))throw Error(E(418));t=Ae(e.nextSibling);var i=$t;t&&Ih(n,t)?Hf(i,e):(n.flags=n.flags&-4097|2,K=!1,$t=n)}}else{if(oa(n))throw Error(E(418));n.flags=n.flags&-4097|2,K=!1,$t=n}}}function Dh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;$t=n}function Gs(n){if(n!==$t)return!1;if(!K)return Dh(n),K=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!na(n.type,n.memoizedProps)),t&&(t=jt)){if(oa(n))throw Kf(),Error(E(418));for(;t;)Hf(n,t),t=Ae(t.nextSibling)}if(Dh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(E(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){jt=Ae(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}jt=null}}else jt=$t?Ae(n.stateNode.nextSibling):null;return!0}function Kf(){for(var n=jt;n;)n=Ae(n.nextSibling)}function oi(){jt=$t=null,K=!1}function cu(n){Gt===null?Gt=[n]:Gt.push(n)}var tg=_e.ReactCurrentBatchConfig;function Ei(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(E(309));var i=e.stateNode}if(!i)throw Error(E(147,n));var s=i,r=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},t._stringRef=r,t)}if(typeof n!="string")throw Error(E(284));if(!e._owner)throw Error(E(290,n))}return n}function Xs(n,t){throw n=Object.prototype.toString.call(t),Error(E(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function Ah(n){var t=n._init;return t(n._payload)}function Jf(n){function t(m,p){if(n){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function e(m,p){if(!n)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function i(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Be(m,p),m.index=0,m.sibling=null,m}function r(m,p,y){return m.index=y,n?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function l(m,p,y,b){return p===null||p.tag!==6?(p=ll(y,m.mode,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function a(m,p,y,b){var S=y.type;return S===In?h(m,p,y.props.children,b,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pe&&Ah(S)===p.type)?(b=s(p,y.props),b.ref=Ei(m,p,y),b.return=m,b):(b=Cr(y.type,y.key,y.props,null,m.mode,b),b.ref=Ei(m,p,y),b.return=m,b)}function u(m,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=al(y,m.mode,b),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function h(m,p,y,b,S){return p===null||p.tag!==7?(p=fn(y,m.mode,b,S),p.return=m,p):(p=s(p,y),p.return=m,p)}function c(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ll(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ds:return y=Cr(p.type,p.key,p.props,null,m.mode,y),y.ref=Ei(m,null,p),y.return=m,y;case On:return p=al(p,m.mode,y),p.return=m,p;case Pe:var b=p._init;return c(m,b(p._payload),y)}if(zi(p)||bi(p))return p=fn(p,m.mode,y,null),p.return=m,p;Xs(m,p)}return null}function d(m,p,y,b){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ds:return y.key===S?a(m,p,y,b):null;case On:return y.key===S?u(m,p,y,b):null;case Pe:return S=y._init,d(m,p,S(y._payload),b)}if(zi(y)||bi(y))return S!==null?null:h(m,p,y,b,null);Xs(m,y)}return null}function f(m,p,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(y)||null,l(p,m,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ds:return m=m.get(b.key===null?y:b.key)||null,a(p,m,b,S);case On:return m=m.get(b.key===null?y:b.key)||null,u(p,m,b,S);case Pe:var x=b._init;return f(m,p,y,x(b._payload),S)}if(zi(b)||bi(b))return m=m.get(y)||null,h(p,m,b,S,null);Xs(p,b)}return null}function g(m,p,y,b){for(var S=null,x=null,P=p,T=p=0,O=null;P!==null&&T<y.length;T++){P.index>T?(O=P,P=null):O=P.sibling;var $=d(m,P,y[T],b);if($===null){P===null&&(P=O);break}n&&P&&$.alternate===null&&t(m,P),p=r($,p,T),x===null?S=$:x.sibling=$,x=$,P=O}if(T===y.length)return e(m,P),K&&rn(m,T),S;if(P===null){for(;T<y.length;T++)P=c(m,y[T],b),P!==null&&(p=r(P,p,T),x===null?S=P:x.sibling=P,x=P);return K&&rn(m,T),S}for(P=i(m,P);T<y.length;T++)O=f(P,m,T,y[T],b),O!==null&&(n&&O.alternate!==null&&P.delete(O.key===null?T:O.key),p=r(O,p,T),x===null?S=O:x.sibling=O,x=O);return n&&P.forEach(function(_t){return t(m,_t)}),K&&rn(m,T),S}function v(m,p,y,b){var S=bi(y);if(typeof S!="function")throw Error(E(150));if(y=S.call(y),y==null)throw Error(E(151));for(var x=S=null,P=p,T=p=0,O=null,$=y.next();P!==null&&!$.done;T++,$=y.next()){P.index>T?(O=P,P=null):O=P.sibling;var _t=d(m,P,$.value,b);if(_t===null){P===null&&(P=O);break}n&&P&&_t.alternate===null&&t(m,P),p=r(_t,p,T),x===null?S=_t:x.sibling=_t,x=_t,P=O}if($.done)return e(m,P),K&&rn(m,T),S;if(P===null){for(;!$.done;T++,$=y.next())$=c(m,$.value,b),$!==null&&(p=r($,p,T),x===null?S=$:x.sibling=$,x=$);return K&&rn(m,T),S}for(P=i(m,P);!$.done;T++,$=y.next())$=f(P,m,T,$.value,b),$!==null&&(n&&$.alternate!==null&&P.delete($.key===null?T:$.key),p=r($,p,T),x===null?S=$:x.sibling=$,x=$);return n&&P.forEach(function(Ye){return t(m,Ye)}),K&&rn(m,T),S}function _(m,p,y,b){if(typeof y=="object"&&y!==null&&y.type===In&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ds:t:{for(var S=y.key,x=p;x!==null;){if(x.key===S){if(S=y.type,S===In){if(x.tag===7){e(m,x.sibling),p=s(x,y.props.children),p.return=m,m=p;break t}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pe&&Ah(S)===x.type){e(m,x.sibling),p=s(x,y.props),p.ref=Ei(m,x,y),p.return=m,m=p;break t}e(m,x);break}else t(m,x);x=x.sibling}y.type===In?(p=fn(y.props.children,m.mode,b,y.key),p.return=m,m=p):(b=Cr(y.type,y.key,y.props,null,m.mode,b),b.ref=Ei(m,p,y),b.return=m,m=b)}return o(m);case On:t:{for(x=y.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){e(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break t}else{e(m,p);break}else t(m,p);p=p.sibling}p=al(y,m.mode,b),p.return=m,m=p}return o(m);case Pe:return x=y._init,_(m,p,x(y._payload),b)}if(zi(y))return g(m,p,y,b);if(bi(y))return v(m,p,y,b);Xs(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(e(m,p.sibling),p=s(p,y),p.return=m,m=p):(e(m,p),p=ll(y,m.mode,b),p.return=m,m=p),o(m)):e(m,p)}return _}var li=Jf(!0),Gf=Jf(!1),Fr=Xe(null),Br=null,Hn=null,du=null;function fu(){du=Hn=Br=null}function pu(n){var t=Fr.current;H(Fr),n._currentValue=t}function aa(n,t,e){for(;n!==null;){var i=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),n===e)break;n=n.return}}function ti(n,t){Br=n,du=Hn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(xt=!0),n.firstContext=null)}function Ft(n){var t=n._currentValue;if(du!==n)if(n={context:n,memoizedValue:t,next:null},Hn===null){if(Br===null)throw Error(E(308));Hn=n,Br.dependencies={lanes:0,firstContext:n}}else Hn=Hn.next=n;return t}var hn=null;function mu(n){hn===null?hn=[n]:hn.push(n)}function Xf(n,t,e,i){var s=t.interleaved;return s===null?(e.next=e,mu(t)):(e.next=s.next,s.next=e),t.interleaved=e,ye(n,i)}function ye(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var Te=!1;function vu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zf(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function me(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Ve(n,t,e){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,D&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,ye(n,e)}return s=i.interleaved,s===null?(t.next=t,mu(i)):(t.next=s.next,s.next=t),i.interleaved=t,ye(n,e)}function wr(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,eu(n,e)}}function Vh(n,t){var e=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,e===i)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=o:r=r.next=o,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Wr(n,t,e,i){var s=n.updateQueue;Te=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?r=u:o.next=u,o=a;var h=n.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(r!==null){var c=s.baseState;o=0,h=u=a=null,l=r;do{var d=l.lane,f=l.eventTime;if((i&d)===d){h!==null&&(h=h.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var g=n,v=l;switch(d=t,f=e,v.tag){case 1:if(g=v.payload,typeof g=="function"){c=g.call(f,c,d);break t}c=g;break t;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(f,c,d):g,d==null)break t;c=X({},c,d);break t;case 2:Te=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=f,a=c):h=h.next=f,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);yn|=o,n.lanes=o,n.memoizedState=c}}function Uh(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var i=n[t],s=i.callback;if(s!==null){if(i.callback=null,i=e,typeof s!="function")throw Error(E(191,s));s.call(i)}}}var Ps={},le=Xe(Ps),us=Xe(Ps),hs=Xe(Ps);function cn(n){if(n===Ps)throw Error(E(174));return n}function gu(n,t){switch(U(hs,t),U(us,n),U(le,Ps),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fl(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=Fl(t,n)}H(le),U(le,t)}function ai(){H(le),H(us),H(hs)}function Qf(n){cn(hs.current);var t=cn(le.current),e=Fl(t,n.type);t!==e&&(U(us,n),U(le,e))}function yu(n){us.current===n&&(H(le),H(us))}var J=Xe(0);function Hr(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function wu(){for(var n=0;n<el.length;n++)el[n]._workInProgressVersionPrimary=null;el.length=0}var _r=_e.ReactCurrentDispatcher,nl=_e.ReactCurrentBatchConfig,gn=0,G=null,et=null,rt=null,Kr=!1,Fi=!1,cs=0,eg=0;function ct(){throw Error(E(321))}function _u(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Qt(n[e],t[e]))return!1;return!0}function bu(n,t,e,i,s,r){if(gn=r,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_r.current=n===null||n.memoizedState===null?rg:og,n=e(i,s),Fi){r=0;do{if(Fi=!1,cs=0,25<=r)throw Error(E(301));r+=1,rt=et=null,t.updateQueue=null,_r.current=lg,n=e(i,s)}while(Fi)}if(_r.current=Jr,t=et!==null&&et.next!==null,gn=0,rt=et=G=null,Kr=!1,t)throw Error(E(300));return n}function Su(){var n=cs!==0;return cs=0,n}function ie(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?G.memoizedState=rt=n:rt=rt.next=n,rt}function Bt(){if(et===null){var n=G.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var t=rt===null?G.memoizedState:rt.next;if(t!==null)rt=t,et=n;else{if(n===null)throw Error(E(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},rt===null?G.memoizedState=rt=n:rt=rt.next=n}return rt}function ds(n,t){return typeof t=="function"?t(n):t}function il(n){var t=Bt(),e=t.queue;if(e===null)throw Error(E(311));e.lastRenderedReducer=n;var i=et,s=i.baseQueue,r=e.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,u=r;do{var h=u.lane;if((gn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=i):a=a.next=c,G.lanes|=h,yn|=h}u=u.next}while(u!==null&&u!==r);a===null?o=i:a.next=l,Qt(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=a,e.lastRenderedState=i}if(n=e.interleaved,n!==null){s=n;do r=s.lane,G.lanes|=r,yn|=r,s=s.next;while(s!==n)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function sl(n){var t=Bt(),e=t.queue;if(e===null)throw Error(E(311));e.lastRenderedReducer=n;var i=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var o=s=s.next;do r=n(r,o.action),o=o.next;while(o!==s);Qt(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,i]}function Yf(){}function qf(n,t){var e=G,i=Bt(),s=t(),r=!Qt(i.memoizedState,s);if(r&&(i.memoizedState=s,xt=!0),i=i.queue,ku(np.bind(null,e,i,n),[n]),i.getSnapshot!==t||r||rt!==null&&rt.memoizedState.tag&1){if(e.flags|=2048,fs(9,ep.bind(null,e,i,s,t),void 0,null),ot===null)throw Error(E(349));gn&30||tp(e,t,s)}return s}function tp(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function ep(n,t,e,i){t.value=e,t.getSnapshot=i,ip(t)&&sp(n)}function np(n,t,e){return e(function(){ip(t)&&sp(n)})}function ip(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Qt(n,e)}catch{return!0}}function sp(n){var t=ye(n,1);t!==null&&Zt(t,n,1,-1)}function Fh(n){var t=ie();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:n},t.queue=n,n=n.dispatch=sg.bind(null,G,n),[t.memoizedState,n]}function fs(n,t,e,i){return n={tag:n,create:t,destroy:e,deps:i,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(i=e.next,e.next=n,n.next=i,t.lastEffect=n)),n}function rp(){return Bt().memoizedState}function br(n,t,e,i){var s=ie();G.flags|=n,s.memoizedState=fs(1|t,e,void 0,i===void 0?null:i)}function co(n,t,e,i){var s=Bt();i=i===void 0?null:i;var r=void 0;if(et!==null){var o=et.memoizedState;if(r=o.destroy,i!==null&&_u(i,o.deps)){s.memoizedState=fs(t,e,r,i);return}}G.flags|=n,s.memoizedState=fs(1|t,e,r,i)}function Bh(n,t){return br(8390656,8,n,t)}function ku(n,t){return co(2048,8,n,t)}function op(n,t){return co(4,2,n,t)}function lp(n,t){return co(4,4,n,t)}function ap(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function up(n,t,e){return e=e!=null?e.concat([n]):null,co(4,4,ap.bind(null,t,n),e)}function xu(){}function hp(n,t){var e=Bt();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&_u(t,i[1])?i[0]:(e.memoizedState=[n,t],n)}function cp(n,t){var e=Bt();t=t===void 0?null:t;var i=e.memoizedState;return i!==null&&t!==null&&_u(t,i[1])?i[0]:(n=n(),e.memoizedState=[n,t],n)}function dp(n,t,e){return gn&21?(Qt(e,t)||(e=gf(),G.lanes|=e,yn|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,xt=!0),n.memoizedState=e)}function ng(n,t){var e=A;A=e!==0&&4>e?e:4,n(!0);var i=nl.transition;nl.transition={};try{n(!1),t()}finally{A=e,nl.transition=i}}function fp(){return Bt().memoizedState}function ig(n,t,e){var i=Fe(n);if(e={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null},pp(n))mp(t,e);else if(e=Xf(n,t,e,i),e!==null){var s=vt();Zt(e,n,i,s),vp(e,t,i)}}function sg(n,t,e){var i=Fe(n),s={lane:i,action:e,hasEagerState:!1,eagerState:null,next:null};if(pp(n))mp(t,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,l=r(o,e);if(s.hasEagerState=!0,s.eagerState=l,Qt(l,o)){var a=t.interleaved;a===null?(s.next=s,mu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}e=Xf(n,t,s,i),e!==null&&(s=vt(),Zt(e,n,i,s),vp(e,t,i))}}function pp(n){var t=n.alternate;return n===G||t!==null&&t===G}function mp(n,t){Fi=Kr=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function vp(n,t,e){if(e&4194240){var i=t.lanes;i&=n.pendingLanes,e|=i,t.lanes=e,eu(n,e)}}var Jr={readContext:Ft,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},rg={readContext:Ft,useCallback:function(n,t){return ie().memoizedState=[n,t===void 0?null:t],n},useContext:Ft,useEffect:Bh,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,br(4194308,4,ap.bind(null,t,n),e)},useLayoutEffect:function(n,t){return br(4194308,4,n,t)},useInsertionEffect:function(n,t){return br(4,2,n,t)},useMemo:function(n,t){var e=ie();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var i=ie();return t=e!==void 0?e(t):t,i.memoizedState=i.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},i.queue=n,n=n.dispatch=ig.bind(null,G,n),[i.memoizedState,n]},useRef:function(n){var t=ie();return n={current:n},t.memoizedState=n},useState:Fh,useDebugValue:xu,useDeferredValue:function(n){return ie().memoizedState=n},useTransition:function(){var n=Fh(!1),t=n[0];return n=ng.bind(null,n[1]),ie().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var i=G,s=ie();if(K){if(e===void 0)throw Error(E(407));e=e()}else{if(e=t(),ot===null)throw Error(E(349));gn&30||tp(i,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,Bh(np.bind(null,i,r,n),[n]),i.flags|=2048,fs(9,ep.bind(null,i,r,e,t),void 0,null),e},useId:function(){var n=ie(),t=ot.identifierPrefix;if(K){var e=de,i=ce;e=(i&~(1<<32-Xt(i)-1)).toString(32)+e,t=":"+t+"R"+e,e=cs++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=eg++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},og={readContext:Ft,useCallback:hp,useContext:Ft,useEffect:ku,useImperativeHandle:up,useInsertionEffect:op,useLayoutEffect:lp,useMemo:cp,useReducer:il,useRef:rp,useState:function(){return il(ds)},useDebugValue:xu,useDeferredValue:function(n){var t=Bt();return dp(t,et.memoizedState,n)},useTransition:function(){var n=il(ds)[0],t=Bt().memoizedState;return[n,t]},useMutableSource:Yf,useSyncExternalStore:qf,useId:fp,unstable_isNewReconciler:!1},lg={readContext:Ft,useCallback:hp,useContext:Ft,useEffect:ku,useImperativeHandle:up,useInsertionEffect:op,useLayoutEffect:lp,useMemo:cp,useReducer:sl,useRef:rp,useState:function(){return sl(ds)},useDebugValue:xu,useDeferredValue:function(n){var t=Bt();return et===null?t.memoizedState=n:dp(t,et.memoizedState,n)},useTransition:function(){var n=sl(ds)[0],t=Bt().memoizedState;return[n,t]},useMutableSource:Yf,useSyncExternalStore:qf,useId:fp,unstable_isNewReconciler:!1};function Ht(n,t){if(n&&n.defaultProps){t=X({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function ua(n,t,e,i){t=n.memoizedState,e=e(i,t),e=e==null?t:X({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var fo={isMounted:function(n){return(n=n._reactInternals)?Cn(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var i=vt(),s=Fe(n),r=me(i,s);r.payload=t,e!=null&&(r.callback=e),t=Ve(n,r,s),t!==null&&(Zt(t,n,s,i),wr(t,n,s))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var i=vt(),s=Fe(n),r=me(i,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=Ve(n,r,s),t!==null&&(Zt(t,n,s,i),wr(t,n,s))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=vt(),i=Fe(n),s=me(e,i);s.tag=2,t!=null&&(s.callback=t),t=Ve(n,s,i),t!==null&&(Zt(t,n,i,e),wr(t,n,i))}};function Wh(n,t,e,i,s,r,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!rs(e,i)||!rs(s,r):!0}function gp(n,t,e){var i=!1,s=Ke,r=t.contextType;return typeof r=="object"&&r!==null?r=Ft(r):(s=Et(t)?mn:pt.current,i=t.contextTypes,r=(i=i!=null)?ri(n,s):Ke),t=new t(e,r),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fo,n.stateNode=t,t._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),t}function Hh(n,t,e,i){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,i),t.state!==n&&fo.enqueueReplaceState(t,t.state,null)}function ha(n,t,e,i){var s=n.stateNode;s.props=e,s.state=n.memoizedState,s.refs={},vu(n);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Ft(r):(r=Et(t)?mn:pt.current,s.context=ri(n,r)),s.state=n.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(ua(n,t,r,e),s.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fo.enqueueReplaceState(s,s.state,null),Wr(n,e,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function ui(n,t){try{var e="",i=t;do e+=N0(i),i=i.return;while(i);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:t,stack:s,digest:null}}function rl(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function ca(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ag=typeof WeakMap=="function"?WeakMap:Map;function yp(n,t,e){e=me(-1,e),e.tag=3,e.payload={element:null};var i=t.value;return e.callback=function(){Xr||(Xr=!0,ba=i),ca(n,t)},e}function wp(n,t,e){e=me(-1,e),e.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;e.payload=function(){return i(s)},e.callback=function(){ca(n,t)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){ca(n,t),typeof i!="function"&&(Ue===null?Ue=new Set([this]):Ue.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function Kh(n,t,e){var i=n.pingCache;if(i===null){i=n.pingCache=new ag;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(e)||(s.add(e),n=Sg.bind(null,n,t,e),t.then(n,n))}function Jh(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function Gh(n,t,e,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=me(-1,1),t.tag=2,Ve(e,t,1))),e.lanes|=1),n)}var ug=_e.ReactCurrentOwner,xt=!1;function mt(n,t,e,i){t.child=n===null?Gf(t,null,e,i):li(t,n.child,e,i)}function Xh(n,t,e,i,s){e=e.render;var r=t.ref;return ti(t,s),i=bu(n,t,e,i,r,s),e=Su(),n!==null&&!xt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,we(n,t,s)):(K&&e&&uu(t),t.flags|=1,mt(n,t,i,s),t.child)}function Zh(n,t,e,i,s){if(n===null){var r=e.type;return typeof r=="function"&&!$u(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,_p(n,t,r,i,s)):(n=Cr(e.type,null,i,t,t.mode,s),n.ref=t.ref,n.return=t,t.child=n)}if(r=n.child,!(n.lanes&s)){var o=r.memoizedProps;if(e=e.compare,e=e!==null?e:rs,e(o,i)&&n.ref===t.ref)return we(n,t,s)}return t.flags|=1,n=Be(r,i),n.ref=t.ref,n.return=t,t.child=n}function _p(n,t,e,i,s){if(n!==null){var r=n.memoizedProps;if(rs(r,i)&&n.ref===t.ref)if(xt=!1,t.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(xt=!0);else return t.lanes=n.lanes,we(n,t,s)}return da(n,t,e,i,s)}function bp(n,t,e){var i=t.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},U(Jn,Mt),Mt|=e;else{if(!(e&1073741824))return n=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,U(Jn,Mt),Mt|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:e,U(Jn,Mt),Mt|=i}else r!==null?(i=r.baseLanes|e,t.memoizedState=null):i=e,U(Jn,Mt),Mt|=i;return mt(n,t,s,e),t.child}function Sp(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function da(n,t,e,i,s){var r=Et(e)?mn:pt.current;return r=ri(t,r),ti(t,s),e=bu(n,t,e,i,r,s),i=Su(),n!==null&&!xt?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~s,we(n,t,s)):(K&&i&&uu(t),t.flags|=1,mt(n,t,e,s),t.child)}function Qh(n,t,e,i,s){if(Et(e)){var r=!0;Ar(t)}else r=!1;if(ti(t,s),t.stateNode===null)Sr(n,t),gp(t,e,i),ha(t,e,i,s),i=!0;else if(n===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=Et(e)?mn:pt.current,u=ri(t,u));var h=e.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&Hh(t,o,i,u),Te=!1;var d=t.memoizedState;o.state=d,Wr(t,i,o,s),a=t.memoizedState,l!==i||d!==a||Ct.current||Te?(typeof h=="function"&&(ua(t,e,h,i),a=t.memoizedState),(l=Te||Wh(t,e,l,i,d,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Zf(n,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ht(t.type,l),o.props=u,c=t.pendingProps,d=o.context,a=e.contextType,typeof a=="object"&&a!==null?a=Ft(a):(a=Et(e)?mn:pt.current,a=ri(t,a));var f=e.getDerivedStateFromProps;(h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||d!==a)&&Hh(t,o,i,a),Te=!1,d=t.memoizedState,o.state=d,Wr(t,i,o,s);var g=t.memoizedState;l!==c||d!==g||Ct.current||Te?(typeof f=="function"&&(ua(t,e,f,i),g=t.memoizedState),(u=Te||Wh(t,e,u,i,d,g,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&d===n.memoizedState||(t.flags|=1024),i=!1)}return fa(n,t,e,i,r,s)}function fa(n,t,e,i,s,r){Sp(n,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&Oh(t,e,!1),we(n,t,r);i=t.stateNode,ug.current=t;var l=o&&typeof e.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,n!==null&&o?(t.child=li(t,n.child,null,r),t.child=li(t,null,l,r)):mt(n,t,l,r),t.memoizedState=i.state,s&&Oh(t,e,!0),t.child}function kp(n){var t=n.stateNode;t.pendingContext?Nh(n,t.pendingContext,t.pendingContext!==t.context):t.context&&Nh(n,t.context,!1),gu(n,t.containerInfo)}function Yh(n,t,e,i,s){return oi(),cu(s),t.flags|=256,mt(n,t,e,i),t.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ma(n){return{baseLanes:n,cachePool:null,transitions:null}}function xp(n,t,e){var i=t.pendingProps,s=J.current,r=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(s&2)!==0),l?(r=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),U(J,s&1),n===null)return la(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,n=i.fallback,r?(i=t.mode,r=t.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=vo(o,i,0,null),n=fn(n,i,e,null),r.return=t,n.return=t,r.sibling=n,t.child=r,t.child.memoizedState=ma(e),t.memoizedState=pa,n):Cu(t,o));if(s=n.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hg(n,t,o,i,l,s,e);if(r){r=i.fallback,o=t.mode,s=n.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=Be(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Be(l,r):(r=fn(r,o,e,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,o=n.child.memoizedState,o=o===null?ma(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=n.childLanes&~e,t.memoizedState=pa,i}return r=n.child,n=r.sibling,i=Be(r,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=e),i.return=t,i.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=i,t.memoizedState=null,i}function Cu(n,t){return t=vo({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Zs(n,t,e,i){return i!==null&&cu(i),li(t,n.child,null,e),n=Cu(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function hg(n,t,e,i,s,r,o){if(e)return t.flags&256?(t.flags&=-257,i=rl(Error(E(422))),Zs(n,t,o,i)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(r=i.fallback,s=t.mode,i=vo({mode:"visible",children:i.children},s,0,null),r=fn(r,s,o,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,t.mode&1&&li(t,n.child,null,o),t.child.memoizedState=ma(o),t.memoizedState=pa,r);if(!(t.mode&1))return Zs(n,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(E(419)),i=rl(r,i,void 0),Zs(n,t,o,i)}if(l=(o&n.childLanes)!==0,xt||l){if(i=ot,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,ye(n,s),Zt(i,n,s,-1))}return ju(),i=rl(Error(E(421))),Zs(n,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=n.child,t=kg.bind(null,n),s._reactRetry=t,null):(n=r.treeContext,jt=Ae(s.nextSibling),$t=t,K=!0,Gt=null,n!==null&&(It[Dt++]=ce,It[Dt++]=de,It[Dt++]=vn,ce=n.id,de=n.overflow,vn=t),t=Cu(t,i.children),t.flags|=4096,t)}function qh(n,t,e){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t),aa(n.return,t,e)}function ol(n,t,e,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=e,r.tailMode=s)}function Cp(n,t,e){var i=t.pendingProps,s=i.revealOrder,r=i.tail;if(mt(n,t,i.children,e),i=J.current,i&2)i=i&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qh(n,e,t);else if(n.tag===19)qh(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(U(J,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)n=e.alternate,n!==null&&Hr(n)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),ol(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(n=s.alternate,n!==null&&Hr(n)===null){t.child=s;break}n=s.sibling,s.sibling=e,e=s,s=n}ol(t,!0,e,null,r);break;case"together":ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sr(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function we(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),yn|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(E(153));if(t.child!==null){for(n=t.child,e=Be(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Be(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function cg(n,t,e){switch(t.tag){case 3:kp(t),oi();break;case 5:Qf(t);break;case 1:Et(t.type)&&Ar(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;U(Fr,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(U(J,J.current&1),t.flags|=128,null):e&t.child.childLanes?xp(n,t,e):(U(J,J.current&1),n=we(n,t,e),n!==null?n.sibling:null);U(J,J.current&1);break;case 19:if(i=(e&t.childLanes)!==0,n.flags&128){if(i)return Cp(n,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(J,J.current),i)break;return null;case 22:case 23:return t.lanes=0,bp(n,t,e)}return we(n,t,e)}var Ep,va,Pp,Tp;Ep=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};va=function(){};Pp=function(n,t,e,i){var s=n.memoizedProps;if(s!==i){n=t.stateNode,cn(le.current);var r=null;switch(e){case"input":s=Dl(n,s),i=Dl(n,i),r=[];break;case"select":s=X({},s,{value:void 0}),i=X({},i,{value:void 0}),r=[];break;case"textarea":s=Ul(n,s),i=Ul(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Ir)}Bl(e,i);var o;e=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yi.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var a=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(e||(e={}),e[o]=a[o])}else e||(r||(r=[]),r.push(u,e)),e=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&B("scroll",n),r||l===a||(r=[])):(r=r||[]).push(u,a))}e&&(r=r||[]).push("style",e);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};Tp=function(n,t,e,i){e!==i&&(t.flags|=4)};function Pi(n,t){if(!K)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function dt(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,i=0;if(t)for(var s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)e|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=e,t}function dg(n,t,e){var i=t.pendingProps;switch(hu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Et(t.type)&&Dr(),dt(t),null;case 3:return i=t.stateNode,ai(),H(Ct),H(pt),wu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Gs(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(xa(Gt),Gt=null))),va(n,t),dt(t),null;case 5:yu(t);var s=cn(hs.current);if(e=t.type,n!==null&&t.stateNode!=null)Pp(n,t,e,i,s),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(E(166));return dt(t),null}if(n=cn(le.current),Gs(t)){i=t.stateNode,e=t.type;var r=t.memoizedProps;switch(i[se]=t,i[as]=r,n=(t.mode&1)!==0,e){case"dialog":B("cancel",i),B("close",i);break;case"iframe":case"object":case"embed":B("load",i);break;case"video":case"audio":for(s=0;s<Ni.length;s++)B(Ni[s],i);break;case"source":B("error",i);break;case"img":case"image":case"link":B("error",i),B("load",i);break;case"details":B("toggle",i);break;case"input":ah(i,r),B("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},B("invalid",i);break;case"textarea":hh(i,r),B("invalid",i)}Bl(e,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&Js(i.textContent,l,n),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Js(i.textContent,l,n),s=["children",""+l]):Yi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&B("scroll",i)}switch(e){case"input":As(i),uh(i,r,!0);break;case"textarea":As(i),ch(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Ir)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ef(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(e,{is:i.is}):(n=o.createElement(e),e==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,e),n[se]=t,n[as]=i,Ep(n,t,!1,!1),t.stateNode=n;t:{switch(o=Wl(e,i),e){case"dialog":B("cancel",n),B("close",n),s=i;break;case"iframe":case"object":case"embed":B("load",n),s=i;break;case"video":case"audio":for(s=0;s<Ni.length;s++)B(Ni[s],n);s=i;break;case"source":B("error",n),s=i;break;case"img":case"image":case"link":B("error",n),B("load",n),s=i;break;case"details":B("toggle",n),s=i;break;case"input":ah(n,i),s=Dl(n,i),B("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=X({},i,{value:void 0}),B("invalid",n);break;case"textarea":hh(n,i),s=Ul(n,i),B("invalid",n);break;default:s=i}Bl(e,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?rf(n,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&nf(n,a)):r==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&qi(n,a):typeof a=="number"&&qi(n,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Yi.hasOwnProperty(r)?a!=null&&r==="onScroll"&&B("scroll",n):a!=null&&Xa(n,r,a,o))}switch(e){case"input":As(n),uh(n,i,!1);break;case"textarea":As(n),ch(n);break;case"option":i.value!=null&&n.setAttribute("value",""+He(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?Zn(n,!!i.multiple,r,!1):i.defaultValue!=null&&Zn(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Ir)}switch(e){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(n&&t.stateNode!=null)Tp(n,t,n.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(E(166));if(e=cn(hs.current),cn(le.current),Gs(t)){if(i=t.stateNode,e=t.memoizedProps,i[se]=t,(r=i.nodeValue!==e)&&(n=$t,n!==null))switch(n.tag){case 3:Js(i.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Js(i.nodeValue,e,(n.mode&1)!==0)}r&&(t.flags|=4)}else i=(e.nodeType===9?e:e.ownerDocument).createTextNode(i),i[se]=t,t.stateNode=i}return dt(t),null;case 13:if(H(J),i=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(K&&jt!==null&&t.mode&1&&!(t.flags&128))Kf(),oi(),t.flags|=98560,r=!1;else if(r=Gs(t),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(E(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(E(317));r[se]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),r=!1}else Gt!==null&&(xa(Gt),Gt=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(n===null||J.current&1?nt===0&&(nt=3):ju())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return ai(),va(n,t),n===null&&os(t.stateNode.containerInfo),dt(t),null;case 10:return pu(t.type._context),dt(t),null;case 17:return Et(t.type)&&Dr(),dt(t),null;case 19:if(H(J),r=t.memoizedState,r===null)return dt(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)Pi(r,!1);else{if(nt!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(o=Hr(n),o!==null){for(t.flags|=128,Pi(r,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=e,e=t.child;e!==null;)r=e,n=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,n=o.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return U(J,J.current&1|2),t.child}n=n.sibling}r.tail!==null&&Q()>hi&&(t.flags|=128,i=!0,Pi(r,!1),t.lanes=4194304)}else{if(!i)if(n=Hr(o),n!==null){if(t.flags|=128,i=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Pi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!K)return dt(t),null}else 2*Q()-r.renderingStartTime>hi&&e!==1073741824&&(t.flags|=128,i=!0,Pi(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Q(),t.sibling=null,e=J.current,U(J,i?e&1|2:e&1),t):(dt(t),null);case 22:case 23:return Mu(),i=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Mt&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function fg(n,t){switch(hu(t),t.tag){case 1:return Et(t.type)&&Dr(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return ai(),H(Ct),H(pt),wu(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return yu(t),null;case 13:if(H(J),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(E(340));oi()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return H(J),null;case 4:return ai(),null;case 10:return pu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var Qs=!1,ft=!1,pg=typeof WeakSet=="function"?WeakSet:Set,M=null;function Kn(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Z(n,t,i)}else e.current=null}function ga(n,t,e){try{e()}catch(i){Z(n,t,i)}}var tc=!1;function mg(n,t){if(ta=Rr,n=zf(),au(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else t:{e=(e=n.ownerDocument)&&e.defaultView||window;var i=e.getSelection&&e.getSelection();if(i&&i.rangeCount!==0){e=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var o=0,l=-1,a=-1,u=0,h=0,c=n,d=null;e:for(;;){for(var f;c!==e||s!==0&&c.nodeType!==3||(l=o+s),c!==r||i!==0&&c.nodeType!==3||(a=o+i),c.nodeType===3&&(o+=c.nodeValue.length),(f=c.firstChild)!==null;)d=c,c=f;for(;;){if(c===n)break e;if(d===e&&++u===s&&(l=o),d===r&&++h===i&&(a=o),(f=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=f}e=l===-1||a===-1?null:{start:l,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(ea={focusedElem:n,selectionRange:e},Rr=!1,M=t;M!==null;)if(t=M,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,M=n;else for(;M!==null;){t=M;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ht(t.type,v),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){Z(t,t.return,b)}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}return g=tc,tc=!1,g}function Bi(n,t,e){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&ga(t,e,r)}s=s.next}while(s!==i)}}function po(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}}function ya(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function Lp(n){var t=n.alternate;t!==null&&(n.alternate=null,Lp(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[se],delete t[as],delete t[sa],delete t[Qv],delete t[Yv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Mp(n){return n.tag===5||n.tag===3||n.tag===4}function ec(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Mp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wa(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Ir));else if(i!==4&&(n=n.child,n!==null))for(wa(n,t,e),n=n.sibling;n!==null;)wa(n,t,e),n=n.sibling}function _a(n,t,e){var i=n.tag;if(i===5||i===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(_a(n,t,e),n=n.sibling;n!==null;)_a(n,t,e),n=n.sibling}var lt=null,Kt=!1;function ke(n,t,e){for(e=e.child;e!==null;)jp(n,t,e),e=e.sibling}function jp(n,t,e){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(ro,e)}catch{}switch(e.tag){case 5:ft||Kn(e,t);case 6:var i=lt,s=Kt;lt=null,ke(n,t,e),lt=i,Kt=s,lt!==null&&(Kt?(n=lt,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):lt.removeChild(e.stateNode));break;case 18:lt!==null&&(Kt?(n=lt,e=e.stateNode,n.nodeType===8?qo(n.parentNode,e):n.nodeType===1&&qo(n,e),is(n)):qo(lt,e.stateNode));break;case 4:i=lt,s=Kt,lt=e.stateNode.containerInfo,Kt=!0,ke(n,t,e),lt=i,Kt=s;break;case 0:case 11:case 14:case 15:if(!ft&&(i=e.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&ga(e,t,o),s=s.next}while(s!==i)}ke(n,t,e);break;case 1:if(!ft&&(Kn(e,t),i=e.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=e.memoizedProps,i.state=e.memoizedState,i.componentWillUnmount()}catch(l){Z(e,t,l)}ke(n,t,e);break;case 21:ke(n,t,e);break;case 22:e.mode&1?(ft=(i=ft)||e.memoizedState!==null,ke(n,t,e),ft=i):ke(n,t,e);break;default:ke(n,t,e)}}function nc(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new pg),t.forEach(function(i){var s=xg.bind(null,n,i);e.has(i)||(e.add(i),i.then(s,s))})}}function Wt(n,t){var e=t.deletions;if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];try{var r=n,o=t,l=o;t:for(;l!==null;){switch(l.tag){case 5:lt=l.stateNode,Kt=!1;break t;case 3:lt=l.stateNode.containerInfo,Kt=!0;break t;case 4:lt=l.stateNode.containerInfo,Kt=!0;break t}l=l.return}if(lt===null)throw Error(E(160));jp(r,o,s),lt=null,Kt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Z(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$p(t,n),t=t.sibling}function $p(n,t){var e=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Wt(t,n),te(n),i&4){try{Bi(3,n,n.return),po(3,n)}catch(v){Z(n,n.return,v)}try{Bi(5,n,n.return)}catch(v){Z(n,n.return,v)}}break;case 1:Wt(t,n),te(n),i&512&&e!==null&&Kn(e,e.return);break;case 5:if(Wt(t,n),te(n),i&512&&e!==null&&Kn(e,e.return),n.flags&32){var s=n.stateNode;try{qi(s,"")}catch(v){Z(n,n.return,v)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,o=e!==null?e.memoizedProps:r,l=n.type,a=n.updateQueue;if(n.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&qd(s,r),Wl(l,o);var u=Wl(l,r);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?rf(s,c):h==="dangerouslySetInnerHTML"?nf(s,c):h==="children"?qi(s,c):Xa(s,h,c,u)}switch(l){case"input":Al(s,r);break;case"textarea":tf(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Zn(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?Zn(s,!!r.multiple,r.defaultValue,!0):Zn(s,!!r.multiple,r.multiple?[]:"",!1))}s[as]=r}catch(v){Z(n,n.return,v)}}break;case 6:if(Wt(t,n),te(n),i&4){if(n.stateNode===null)throw Error(E(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(v){Z(n,n.return,v)}}break;case 3:if(Wt(t,n),te(n),i&4&&e!==null&&e.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(v){Z(n,n.return,v)}break;case 4:Wt(t,n),te(n);break;case 13:Wt(t,n),te(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Tu=Q())),i&4&&nc(n);break;case 22:if(h=e!==null&&e.memoizedState!==null,n.mode&1?(ft=(u=ft)||h,Wt(t,n),ft=u):Wt(t,n),te(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(M=n,h=n.child;h!==null;){for(c=M=h;M!==null;){switch(d=M,f=d.child,d.tag){case 0:case 11:case 14:case 15:Bi(4,d,d.return);break;case 1:Kn(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,e=d.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Z(i,e,v)}}break;case 5:Kn(d,d.return);break;case 22:if(d.memoizedState!==null){sc(c);continue}}f!==null?(f.return=d,M=f):sc(c)}h=h.sibling}t:for(h=null,c=n;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sf("display",o))}catch(v){Z(n,n.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Z(n,n.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===n)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Wt(t,n),te(n),i&4&&nc(n);break;case 21:break;default:Wt(t,n),te(n)}}function te(n){var t=n.flags;if(t&2){try{t:{for(var e=n.return;e!==null;){if(Mp(e)){var i=e;break t}e=e.return}throw Error(E(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(qi(s,""),i.flags&=-33);var r=ec(n);_a(n,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=ec(n);wa(n,l,o);break;default:throw Error(E(161))}}catch(a){Z(n,n.return,a)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function vg(n,t,e){M=n,zp(n)}function zp(n,t,e){for(var i=(n.mode&1)!==0;M!==null;){var s=M,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Qs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ft;l=Qs;var u=ft;if(Qs=o,(ft=a)&&!u)for(M=s;M!==null;)o=M,a=o.child,o.tag===22&&o.memoizedState!==null?rc(s):a!==null?(a.return=o,M=a):rc(s);for(;r!==null;)M=r,zp(r),r=r.sibling;M=s,Qs=l,ft=u}ic(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,M=r):ic(n)}}function ic(n){for(;M!==null;){var t=M;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||po(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ft)if(e===null)i.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:Ht(t.type,e.memoizedProps);i.componentDidUpdate(s,e.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Uh(t,r,i);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Uh(t,o,e)}break;case 5:var l=t.stateNode;if(e===null&&t.flags&4){e=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&is(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ft||t.flags&512&&ya(t)}catch(d){Z(t,t.return,d)}}if(t===n){M=null;break}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}}function sc(n){for(;M!==null;){var t=M;if(t===n){M=null;break}var e=t.sibling;if(e!==null){e.return=t.return,M=e;break}M=t.return}}function rc(n){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{po(4,t)}catch(a){Z(t,e,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(a){Z(t,s,a)}}var r=t.return;try{ya(t)}catch(a){Z(t,r,a)}break;case 5:var o=t.return;try{ya(t)}catch(a){Z(t,o,a)}}}catch(a){Z(t,t.return,a)}if(t===n){M=null;break}var l=t.sibling;if(l!==null){l.return=t.return,M=l;break}M=t.return}}var gg=Math.ceil,Gr=_e.ReactCurrentDispatcher,Eu=_e.ReactCurrentOwner,Vt=_e.ReactCurrentBatchConfig,D=0,ot=null,q=null,ut=0,Mt=0,Jn=Xe(0),nt=0,ps=null,yn=0,mo=0,Pu=0,Wi=null,St=null,Tu=0,hi=1/0,ae=null,Xr=!1,ba=null,Ue=null,Ys=!1,Re=null,Zr=0,Hi=0,Sa=null,kr=-1,xr=0;function vt(){return D&6?Q():kr!==-1?kr:kr=Q()}function Fe(n){return n.mode&1?D&2&&ut!==0?ut&-ut:tg.transition!==null?(xr===0&&(xr=gf()),xr):(n=A,n!==0||(n=window.event,n=n===void 0?16:xf(n.type)),n):1}function Zt(n,t,e,i){if(50<Hi)throw Hi=0,Sa=null,Error(E(185));xs(n,e,i),(!(D&2)||n!==ot)&&(n===ot&&(!(D&2)&&(mo|=e),nt===4&&je(n,ut)),Pt(n,i),e===1&&D===0&&!(t.mode&1)&&(hi=Q()+500,ho&&Ze()))}function Pt(n,t){var e=n.callbackNode;tv(n,t);var i=zr(n,n===ot?ut:0);if(i===0)e!==null&&ph(e),n.callbackNode=null,n.callbackPriority=0;else if(t=i&-i,n.callbackPriority!==t){if(e!=null&&ph(e),t===1)n.tag===0?qv(oc.bind(null,n)):Bf(oc.bind(null,n)),Xv(function(){!(D&6)&&Ze()}),e=null;else{switch(yf(i)){case 1:e=tu;break;case 4:e=mf;break;case 16:e=$r;break;case 536870912:e=vf;break;default:e=$r}e=Up(e,Rp.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function Rp(n,t){if(kr=-1,xr=0,D&6)throw Error(E(327));var e=n.callbackNode;if(ei()&&n.callbackNode!==e)return null;var i=zr(n,n===ot?ut:0);if(i===0)return null;if(i&30||i&n.expiredLanes||t)t=Qr(n,i);else{t=i;var s=D;D|=2;var r=Op();(ot!==n||ut!==t)&&(ae=null,hi=Q()+500,dn(n,t));do try{_g();break}catch(l){Np(n,l)}while(!0);fu(),Gr.current=r,D=s,q!==null?t=0:(ot=null,ut=0,t=nt)}if(t!==0){if(t===2&&(s=Xl(n),s!==0&&(i=s,t=ka(n,s))),t===1)throw e=ps,dn(n,0),je(n,i),Pt(n,Q()),e;if(t===6)je(n,i);else{if(s=n.current.alternate,!(i&30)&&!yg(s)&&(t=Qr(n,i),t===2&&(r=Xl(n),r!==0&&(i=r,t=ka(n,r))),t===1))throw e=ps,dn(n,0),je(n,i),Pt(n,Q()),e;switch(n.finishedWork=s,n.finishedLanes=i,t){case 0:case 1:throw Error(E(345));case 2:on(n,St,ae);break;case 3:if(je(n,i),(i&130023424)===i&&(t=Tu+500-Q(),10<t)){if(zr(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){vt(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=ia(on.bind(null,n,St,ae),t);break}on(n,St,ae);break;case 4:if(je(n,i),(i&4194240)===i)break;for(t=n.eventTimes,s=-1;0<i;){var o=31-Xt(i);r=1<<o,o=t[o],o>s&&(s=o),i&=~r}if(i=s,i=Q()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*gg(i/1960))-i,10<i){n.timeoutHandle=ia(on.bind(null,n,St,ae),i);break}on(n,St,ae);break;case 5:on(n,St,ae);break;default:throw Error(E(329))}}}return Pt(n,Q()),n.callbackNode===e?Rp.bind(null,n):null}function ka(n,t){var e=Wi;return n.current.memoizedState.isDehydrated&&(dn(n,t).flags|=256),n=Qr(n,t),n!==2&&(t=St,St=e,t!==null&&xa(t)),n}function xa(n){St===null?St=n:St.push.apply(St,n)}function yg(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var i=0;i<e.length;i++){var s=e[i],r=s.getSnapshot;s=s.value;try{if(!Qt(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function je(n,t){for(t&=~Pu,t&=~mo,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Xt(t),i=1<<e;n[e]=-1,t&=~i}}function oc(n){if(D&6)throw Error(E(327));ei();var t=zr(n,0);if(!(t&1))return Pt(n,Q()),null;var e=Qr(n,t);if(n.tag!==0&&e===2){var i=Xl(n);i!==0&&(t=i,e=ka(n,i))}if(e===1)throw e=ps,dn(n,0),je(n,t),Pt(n,Q()),e;if(e===6)throw Error(E(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,on(n,St,ae),Pt(n,Q()),null}function Lu(n,t){var e=D;D|=1;try{return n(t)}finally{D=e,D===0&&(hi=Q()+500,ho&&Ze())}}function wn(n){Re!==null&&Re.tag===0&&!(D&6)&&ei();var t=D;D|=1;var e=Vt.transition,i=A;try{if(Vt.transition=null,A=1,n)return n()}finally{A=i,Vt.transition=e,D=t,!(D&6)&&Ze()}}function Mu(){Mt=Jn.current,H(Jn)}function dn(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,Gv(e)),q!==null)for(e=q.return;e!==null;){var i=e;switch(hu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Dr();break;case 3:ai(),H(Ct),H(pt),wu();break;case 5:yu(i);break;case 4:ai();break;case 13:H(J);break;case 19:H(J);break;case 10:pu(i.type._context);break;case 22:case 23:Mu()}e=e.return}if(ot=n,q=n=Be(n.current,null),ut=Mt=t,nt=0,ps=null,Pu=mo=yn=0,St=Wi=null,hn!==null){for(t=0;t<hn.length;t++)if(e=hn[t],i=e.interleaved,i!==null){e.interleaved=null;var s=i.next,r=e.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}e.pending=i}hn=null}return n}function Np(n,t){do{var e=q;try{if(fu(),_r.current=Jr,Kr){for(var i=G.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Kr=!1}if(gn=0,rt=et=G=null,Fi=!1,cs=0,Eu.current=null,e===null||e.return===null){nt=1,ps=t,q=null;break}t:{var r=n,o=e.return,l=e,a=t;if(t=ut,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Jh(o);if(f!==null){f.flags&=-257,Gh(f,o,l,r,t),f.mode&1&&Kh(r,u,t),t=f,a=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(a),t.updateQueue=v}else g.add(a);break t}else{if(!(t&1)){Kh(r,u,t),ju();break t}a=Error(E(426))}}else if(K&&l.mode&1){var _=Jh(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Gh(_,o,l,r,t),cu(ui(a,l));break t}}r=a=ui(a,l),nt!==4&&(nt=2),Wi===null?Wi=[r]:Wi.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var m=yp(r,a,t);Vh(r,m);break t;case 1:l=a;var p=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ue===null||!Ue.has(y)))){r.flags|=65536,t&=-t,r.lanes|=t;var b=wp(r,l,t);Vh(r,b);break t}}r=r.return}while(r!==null)}Dp(e)}catch(S){t=S,q===e&&e!==null&&(q=e=e.return);continue}break}while(!0)}function Op(){var n=Gr.current;return Gr.current=Jr,n===null?Jr:n}function ju(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||!(yn&268435455)&&!(mo&268435455)||je(ot,ut)}function Qr(n,t){var e=D;D|=2;var i=Op();(ot!==n||ut!==t)&&(ae=null,dn(n,t));do try{wg();break}catch(s){Np(n,s)}while(!0);if(fu(),D=e,Gr.current=i,q!==null)throw Error(E(261));return ot=null,ut=0,nt}function wg(){for(;q!==null;)Ip(q)}function _g(){for(;q!==null&&!H0();)Ip(q)}function Ip(n){var t=Vp(n.alternate,n,Mt);n.memoizedProps=n.pendingProps,t===null?Dp(n):q=t,Eu.current=null}function Dp(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=fg(e,t),e!==null){e.flags&=32767,q=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{nt=6,q=null;return}}else if(e=dg(e,t,Mt),e!==null){q=e;return}if(t=t.sibling,t!==null){q=t;return}q=t=n}while(t!==null);nt===0&&(nt=5)}function on(n,t,e){var i=A,s=Vt.transition;try{Vt.transition=null,A=1,bg(n,t,e,i)}finally{Vt.transition=s,A=i}return null}function bg(n,t,e,i){do ei();while(Re!==null);if(D&6)throw Error(E(327));e=n.finishedWork;var s=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(E(177));n.callbackNode=null,n.callbackPriority=0;var r=e.lanes|e.childLanes;if(ev(n,r),n===ot&&(q=ot=null,ut=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Ys||(Ys=!0,Up($r,function(){return ei(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Vt.transition,Vt.transition=null;var o=A;A=1;var l=D;D|=4,Eu.current=null,mg(n,e),$p(e,n),Uv(ea),Rr=!!ta,ea=ta=null,n.current=e,vg(e),K0(),D=l,A=o,Vt.transition=r}else n.current=e;if(Ys&&(Ys=!1,Re=n,Zr=s),r=n.pendingLanes,r===0&&(Ue=null),X0(e.stateNode),Pt(n,Q()),t!==null)for(i=n.onRecoverableError,e=0;e<t.length;e++)s=t[e],i(s.value,{componentStack:s.stack,digest:s.digest});if(Xr)throw Xr=!1,n=ba,ba=null,n;return Zr&1&&n.tag!==0&&ei(),r=n.pendingLanes,r&1?n===Sa?Hi++:(Hi=0,Sa=n):Hi=0,Ze(),null}function ei(){if(Re!==null){var n=yf(Zr),t=Vt.transition,e=A;try{if(Vt.transition=null,A=16>n?16:n,Re===null)var i=!1;else{if(n=Re,Re=null,Zr=0,D&6)throw Error(E(331));var s=D;for(D|=4,M=n.current;M!==null;){var r=M,o=r.child;if(M.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(M=u;M!==null;){var h=M;switch(h.tag){case 0:case 11:case 15:Bi(8,h,r)}var c=h.child;if(c!==null)c.return=h,M=c;else for(;M!==null;){h=M;var d=h.sibling,f=h.return;if(Lp(h),h===u){M=null;break}if(d!==null){d.return=f,M=d;break}M=f}}}var g=r.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}M=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,M=o;else t:for(;M!==null;){if(r=M,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Bi(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,M=m;break t}M=r.return}}var p=n.current;for(M=p;M!==null;){o=M;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,M=y;else t:for(o=p;M!==null;){if(l=M,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:po(9,l)}}catch(S){Z(l,l.return,S)}if(l===o){M=null;break t}var b=l.sibling;if(b!==null){b.return=l.return,M=b;break t}M=l.return}}if(D=s,Ze(),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(ro,n)}catch{}i=!0}return i}finally{A=e,Vt.transition=t}}return!1}function lc(n,t,e){t=ui(e,t),t=yp(n,t,1),n=Ve(n,t,1),t=vt(),n!==null&&(xs(n,1,t),Pt(n,t))}function Z(n,t,e){if(n.tag===3)lc(n,n,e);else for(;t!==null;){if(t.tag===3){lc(t,n,e);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ue===null||!Ue.has(i))){n=ui(e,n),n=wp(t,n,1),t=Ve(t,n,1),n=vt(),t!==null&&(xs(t,1,n),Pt(t,n));break}}t=t.return}}function Sg(n,t,e){var i=n.pingCache;i!==null&&i.delete(t),t=vt(),n.pingedLanes|=n.suspendedLanes&e,ot===n&&(ut&e)===e&&(nt===4||nt===3&&(ut&130023424)===ut&&500>Q()-Tu?dn(n,0):Pu|=e),Pt(n,t)}function Ap(n,t){t===0&&(n.mode&1?(t=Fs,Fs<<=1,!(Fs&130023424)&&(Fs=4194304)):t=1);var e=vt();n=ye(n,t),n!==null&&(xs(n,t,e),Pt(n,e))}function kg(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),Ap(n,e)}function xg(n,t){var e=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(e=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(E(314))}i!==null&&i.delete(t),Ap(n,e)}var Vp;Vp=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||Ct.current)xt=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return xt=!1,cg(n,t,e);xt=!!(n.flags&131072)}else xt=!1,K&&t.flags&1048576&&Wf(t,Ur,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Sr(n,t),n=t.pendingProps;var s=ri(t,pt.current);ti(t,e),s=bu(null,t,i,n,s,e);var r=Su();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(i)?(r=!0,Ar(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vu(t),s.updater=fo,t.stateNode=s,s._reactInternals=t,ha(t,i,n,e),t=fa(null,t,i,!0,r,e)):(t.tag=0,K&&r&&uu(t),mt(null,t,s,e),t=t.child),t;case 16:i=t.elementType;t:{switch(Sr(n,t),n=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Eg(i),n=Ht(i,n),s){case 0:t=da(null,t,i,n,e);break t;case 1:t=Qh(null,t,i,n,e);break t;case 11:t=Xh(null,t,i,n,e);break t;case 14:t=Zh(null,t,i,Ht(i.type,n),e);break t}throw Error(E(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ht(i,s),da(n,t,i,s,e);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ht(i,s),Qh(n,t,i,s,e);case 3:t:{if(kp(t),n===null)throw Error(E(387));i=t.pendingProps,r=t.memoizedState,s=r.element,Zf(n,t),Wr(t,i,null,e);var o=t.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=ui(Error(E(423)),t),t=Yh(n,t,i,e,s);break t}else if(i!==s){s=ui(Error(E(424)),t),t=Yh(n,t,i,e,s);break t}else for(jt=Ae(t.stateNode.containerInfo.firstChild),$t=t,K=!0,Gt=null,e=Gf(t,null,i,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(oi(),i===s){t=we(n,t,e);break t}mt(n,t,i,e)}t=t.child}return t;case 5:return Qf(t),n===null&&la(t),i=t.type,s=t.pendingProps,r=n!==null?n.memoizedProps:null,o=s.children,na(i,s)?o=null:r!==null&&na(i,r)&&(t.flags|=32),Sp(n,t),mt(n,t,o,e),t.child;case 6:return n===null&&la(t),null;case 13:return xp(n,t,e);case 4:return gu(t,t.stateNode.containerInfo),i=t.pendingProps,n===null?t.child=li(t,null,i,e):mt(n,t,i,e),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ht(i,s),Xh(n,t,i,s,e);case 7:return mt(n,t,t.pendingProps,e),t.child;case 8:return mt(n,t,t.pendingProps.children,e),t.child;case 12:return mt(n,t,t.pendingProps.children,e),t.child;case 10:t:{if(i=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,U(Fr,i._currentValue),i._currentValue=o,r!==null)if(Qt(r.value,o)){if(r.children===s.children&&!Ct.current){t=we(n,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=me(-1,e&-e),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}r.lanes|=e,a=r.alternate,a!==null&&(a.lanes|=e),aa(r.return,e,t),l.lanes|=e;break}a=a.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(E(341));o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),aa(o,e,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}mt(n,t,s.children,e),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,ti(t,e),s=Ft(s),i=i(s),t.flags|=1,mt(n,t,i,e),t.child;case 14:return i=t.type,s=Ht(i,t.pendingProps),s=Ht(i.type,s),Zh(n,t,i,s,e);case 15:return _p(n,t,t.type,t.pendingProps,e);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Ht(i,s),Sr(n,t),t.tag=1,Et(i)?(n=!0,Ar(t)):n=!1,ti(t,e),gp(t,i,s),ha(t,i,s,e),fa(null,t,i,!0,n,e);case 19:return Cp(n,t,e);case 22:return bp(n,t,e)}throw Error(E(156,t.tag))};function Up(n,t){return pf(n,t)}function Cg(n,t,e,i){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(n,t,e,i){return new Cg(n,t,e,i)}function $u(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Eg(n){if(typeof n=="function")return $u(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Qa)return 11;if(n===Ya)return 14}return 2}function Be(n,t){var e=n.alternate;return e===null?(e=At(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Cr(n,t,e,i,s,r){var o=2;if(i=n,typeof n=="function")$u(n)&&(o=1);else if(typeof n=="string")o=5;else t:switch(n){case In:return fn(e.children,s,r,t);case Za:o=8,s|=8;break;case Rl:return n=At(12,e,t,s|2),n.elementType=Rl,n.lanes=r,n;case Nl:return n=At(13,e,t,s),n.elementType=Nl,n.lanes=r,n;case Ol:return n=At(19,e,t,s),n.elementType=Ol,n.lanes=r,n;case Zd:return vo(e,s,r,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Gd:o=10;break t;case Xd:o=9;break t;case Qa:o=11;break t;case Ya:o=14;break t;case Pe:o=16,i=null;break t}throw Error(E(130,n==null?n:typeof n,""))}return t=At(o,e,t,s),t.elementType=n,t.type=i,t.lanes=r,t}function fn(n,t,e,i){return n=At(7,n,i,t),n.lanes=e,n}function vo(n,t,e,i){return n=At(22,n,i,t),n.elementType=Zd,n.lanes=e,n.stateNode={isHidden:!1},n}function ll(n,t,e){return n=At(6,n,null,t),n.lanes=e,n}function al(n,t,e){return t=At(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Pg(n,t,e,i,s){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zu(n,t,e,i,s,r,o,l,a){return n=new Pg(n,t,e,l,a),t===1?(t=1,r===!0&&(t|=8)):t=0,r=At(3,null,null,t),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(r),n}function Tg(n,t,e){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:i==null?null:""+i,children:n,containerInfo:t,implementation:e}}function Fp(n){if(!n)return Ke;n=n._reactInternals;t:{if(Cn(n)!==n||n.tag!==1)throw Error(E(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(E(171))}if(n.tag===1){var e=n.type;if(Et(e))return Ff(n,e,t)}return t}function Bp(n,t,e,i,s,r,o,l,a){return n=zu(e,i,!0,n,s,r,o,l,a),n.context=Fp(null),e=n.current,i=vt(),s=Fe(e),r=me(i,s),r.callback=t??null,Ve(e,r,s),n.current.lanes=s,xs(n,s,i),Pt(n,i),n}function go(n,t,e,i){var s=t.current,r=vt(),o=Fe(s);return e=Fp(e),t.context===null?t.context=e:t.pendingContext=e,t=me(r,o),t.payload={element:n},i=i===void 0?null:i,i!==null&&(t.callback=i),n=Ve(s,t,o),n!==null&&(Zt(n,s,o,r),wr(n,s,o)),o}function Yr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ac(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function Ru(n,t){ac(n,t),(n=n.alternate)&&ac(n,t)}function Lg(){return null}var Wp=typeof reportError=="function"?reportError:function(n){console.error(n)};function Nu(n){this._internalRoot=n}yo.prototype.render=Nu.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(E(409));go(n,t,null,null)};yo.prototype.unmount=Nu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;wn(function(){go(null,n,null,null)}),t[ge]=null}};function yo(n){this._internalRoot=n}yo.prototype.unstable_scheduleHydration=function(n){if(n){var t=bf();n={blockedOn:null,target:n,priority:t};for(var e=0;e<Me.length&&t!==0&&t<Me[e].priority;e++);Me.splice(e,0,n),e===0&&kf(n)}};function Ou(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function uc(){}function Mg(n,t,e,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=Yr(o);r.call(u)}}var o=Bp(t,i,n,0,null,!1,!1,"",uc);return n._reactRootContainer=o,n[ge]=o.current,os(n.nodeType===8?n.parentNode:n),wn(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=Yr(a);l.call(u)}}var a=zu(n,0,!1,null,null,!1,!1,"",uc);return n._reactRootContainer=a,n[ge]=a.current,os(n.nodeType===8?n.parentNode:n),wn(function(){go(t,a,e,i)}),a}function _o(n,t,e,i,s){var r=e._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=Yr(o);l.call(a)}}go(t,o,n,s)}else o=Mg(e,t,n,s,i);return Yr(o)}wf=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=Ri(t.pendingLanes);e!==0&&(eu(t,e|1),Pt(t,Q()),!(D&6)&&(hi=Q()+500,Ze()))}break;case 13:wn(function(){var i=ye(n,1);if(i!==null){var s=vt();Zt(i,n,1,s)}}),Ru(n,1)}};nu=function(n){if(n.tag===13){var t=ye(n,134217728);if(t!==null){var e=vt();Zt(t,n,134217728,e)}Ru(n,134217728)}};_f=function(n){if(n.tag===13){var t=Fe(n),e=ye(n,t);if(e!==null){var i=vt();Zt(e,n,t,i)}Ru(n,t)}};bf=function(){return A};Sf=function(n,t){var e=A;try{return A=n,t()}finally{A=e}};Kl=function(n,t,e){switch(t){case"input":if(Al(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var i=e[t];if(i!==n&&i.form===n.form){var s=uo(i);if(!s)throw Error(E(90));Yd(i),Al(i,s)}}}break;case"textarea":tf(n,e);break;case"select":t=e.value,t!=null&&Zn(n,!!e.multiple,t,!1)}};af=Lu;uf=wn;var jg={usingClientEntryPoint:!1,Events:[Es,Un,uo,of,lf,Lu]},Ti={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$g={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_e.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=df(n),n===null?null:n.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||Lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{ro=qs.inject($g),oe=qs}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;Rt.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ou(t))throw Error(E(200));return Tg(n,t,null,e)};Rt.createRoot=function(n,t){if(!Ou(n))throw Error(E(299));var e=!1,i="",s=Wp;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zu(n,1,!1,null,null,e,!1,i,s),n[ge]=t.current,os(n.nodeType===8?n.parentNode:n),new Nu(t)};Rt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(E(188)):(n=Object.keys(n).join(","),Error(E(268,n)));return n=df(t),n=n===null?null:n.stateNode,n};Rt.flushSync=function(n){return wn(n)};Rt.hydrate=function(n,t,e){if(!wo(t))throw Error(E(200));return _o(null,n,t,!0,e)};Rt.hydrateRoot=function(n,t,e){if(!Ou(n))throw Error(E(405));var i=e!=null&&e.hydratedSources||null,s=!1,r="",o=Wp;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=Bp(t,null,n,1,e??null,s,!1,r,o),n[ge]=t.current,os(n),i)for(n=0;n<i.length;n++)e=i[n],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new yo(t)};Rt.render=function(n,t,e){if(!wo(t))throw Error(E(200));return _o(null,n,t,!1,e)};Rt.unmountComponentAtNode=function(n){if(!wo(n))throw Error(E(40));return n._reactRootContainer?(wn(function(){_o(null,null,n,!1,function(){n._reactRootContainer=null,n[ge]=null})}),!0):!1};Rt.unstable_batchedUpdates=Lu;Rt.unstable_renderSubtreeIntoContainer=function(n,t,e,i){if(!wo(e))throw Error(E(200));if(n==null||n._reactInternals===void 0)throw Error(E(38));return _o(n,t,e,!1,i)};Rt.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(n){console.error(n)}}Hp(),Wd.exports=Rt;var zg=Wd.exports,Kp,hc=zg;Kp=hc.createRoot,hc.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ms.apply(this,arguments)}var Ne;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ne||(Ne={}));const cc="popstate";function Rg(n){n===void 0&&(n={});function t(i,s){let{pathname:r,search:o,hash:l}=i.location;return Ca("",{pathname:r,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:qr(s)}return Og(t,e,null,n)}function tt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Jp(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ng(){return Math.random().toString(36).substr(2,8)}function dc(n,t){return{usr:n.state,key:n.key,idx:t}}function Ca(n,t,e,i){return e===void 0&&(e=null),ms({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?yi(t):t,{state:e,key:t&&t.key||i||Ng()})}function qr(n){let{pathname:t="/",search:e="",hash:i=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function yi(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substr(i),n=n.substr(0,i)),n&&(t.pathname=n)}return t}function Og(n,t,e,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l=Ne.Pop,a=null,u=h();u==null&&(u=0,o.replaceState(ms({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function c(){l=Ne.Pop;let _=h(),m=_==null?null:_-u;u=_,a&&a({action:l,location:v.location,delta:m})}function d(_,m){l=Ne.Push;let p=Ca(v.location,_,m);u=h()+1;let y=dc(p,u),b=v.createHref(p);try{o.pushState(y,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}r&&a&&a({action:l,location:v.location,delta:1})}function f(_,m){l=Ne.Replace;let p=Ca(v.location,_,m);u=h();let y=dc(p,u),b=v.createHref(p);o.replaceState(y,"",b),r&&a&&a({action:l,location:v.location,delta:0})}function g(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:qr(_);return p=p.replace(/ $/,"%20"),tt(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return l},get location(){return n(s,o)},listen(_){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(cc,c),a=_,()=>{s.removeEventListener(cc,c),a=null}},createHref(_){return t(s,_)},createURL:g,encodeLocation(_){let m=g(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:f,go(_){return o.go(_)}};return v}var fc;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(fc||(fc={}));function Ig(n,t,e){return e===void 0&&(e="/"),Dg(n,t,e,!1)}function Dg(n,t,e,i){let s=typeof t=="string"?yi(t):t,r=Iu(s.pathname||"/",e);if(r==null)return null;let o=Gp(n);Ag(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=Zg(r);l=Gg(o[a],u,i)}return l}function Gp(n,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let s=(r,o,l)=>{let a={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};a.relativePath.startsWith("/")&&(tt(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let u=We([i,a.relativePath]),h=e.concat(a);r.children&&r.children.length>0&&(tt(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gp(r.children,t,h,u)),!(r.path==null&&!r.index)&&t.push({path:u,score:Kg(u,r.index),routesMeta:h})};return n.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))s(r,o);else for(let a of Xp(r.path))s(r,o,a)}),t}function Xp(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Xp(i.join("/")),l=[];return l.push(...o.map(a=>a===""?r:[r,a].join("/"))),s&&l.push(...o),l.map(a=>n.startsWith("/")&&a===""?"/":a)}function Ag(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:Jg(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const Vg=/^:[\w-]+$/,Ug=3,Fg=2,Bg=1,Wg=10,Hg=-2,pc=n=>n==="*";function Kg(n,t){let e=n.split("/"),i=e.length;return e.some(pc)&&(i+=Hg),t&&(i+=Fg),e.filter(s=>!pc(s)).reduce((s,r)=>s+(Vg.test(r)?Ug:r===""?Bg:Wg),i)}function Jg(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function Gg(n,t,e){let{routesMeta:i}=n,s={},r="/",o=[];for(let l=0;l<i.length;++l){let a=i[l],u=l===i.length-1,h=r==="/"?t:t.slice(r.length)||"/",c=mc({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},h),d=a.route;if(!c&&u&&e&&!i[i.length-1].route.index&&(c=mc({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},h)),!c)return null;Object.assign(s,c.params),o.push({params:s,pathname:We([r,c.pathname]),pathnameBase:ty(We([r,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(r=We([r,c.pathnameBase]))}return o}function mc(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=Xg(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((u,h,c)=>{let{paramName:d,isOptional:f}=h;if(d==="*"){let v=l[c]||"";o=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[c];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:o,pattern:n}}function Xg(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),Jp(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(i.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function Zg(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jp(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function Iu(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function Qg(n,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?yi(n):n;return{pathname:e?e.startsWith("/")?e:Yg(e,t):t,search:ey(i),hash:ny(s)}}function Yg(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function ul(n,t,e,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qg(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Zp(n,t){let e=qg(n);return t?e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function Qp(n,t,e,i){i===void 0&&(i=!1);let s;typeof n=="string"?s=yi(n):(s=ms({},n),tt(!s.pathname||!s.pathname.includes("?"),ul("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),ul("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),ul("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,l;if(o==null)l=e;else{let c=t.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),c-=1;s.pathname=d.join("/")}l=c>=0?t[c]:"/"}let a=Qg(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(r||o===".")&&e.endsWith("/");return!a.pathname.endsWith("/")&&(u||h)&&(a.pathname+="/"),a}const We=n=>n.join("/").replace(/\/\/+/g,"/"),ty=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ey=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ny=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Yp=["post","put","patch","delete"];new Set(Yp);const sy=["get",...Yp];new Set(sy);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vs.apply(this,arguments)}const Du=k.createContext(null),ry=k.createContext(null),En=k.createContext(null),bo=k.createContext(null),Qe=k.createContext({outlet:null,matches:[],isDataRoute:!1}),qp=k.createContext(null);function oy(n,t){let{relative:e}=t===void 0?{}:t;Ts()||tt(!1);let{basename:i,navigator:s}=k.useContext(En),{hash:r,pathname:o,search:l}=nm(n,{relative:e}),a=o;return i!=="/"&&(a=o==="/"?i:We([i,o])),s.createHref({pathname:a,search:l,hash:r})}function Ts(){return k.useContext(bo)!=null}function So(){return Ts()||tt(!1),k.useContext(bo).location}function tm(n){k.useContext(En).static||k.useLayoutEffect(n)}function em(){let{isDataRoute:n}=k.useContext(Qe);return n?_y():ly()}function ly(){Ts()||tt(!1);let n=k.useContext(Du),{basename:t,future:e,navigator:i}=k.useContext(En),{matches:s}=k.useContext(Qe),{pathname:r}=So(),o=JSON.stringify(Zp(s,e.v7_relativeSplatPath)),l=k.useRef(!1);return tm(()=>{l.current=!0}),k.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){i.go(u);return}let c=Qp(u,JSON.parse(o),r,h.relative==="path");n==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:We([t,c.pathname])),(h.replace?i.replace:i.push)(c,h.state,h)},[t,i,o,r,n])}function ay(){let{matches:n}=k.useContext(Qe),t=n[n.length-1];return t?t.params:{}}function nm(n,t){let{relative:e}=t===void 0?{}:t,{future:i}=k.useContext(En),{matches:s}=k.useContext(Qe),{pathname:r}=So(),o=JSON.stringify(Zp(s,i.v7_relativeSplatPath));return k.useMemo(()=>Qp(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function uy(n,t){return hy(n,t)}function hy(n,t,e,i){Ts()||tt(!1);let{navigator:s}=k.useContext(En),{matches:r}=k.useContext(Qe),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let u=So(),h;if(t){var c;let _=typeof t=="string"?yi(t):t;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||tt(!1),h=_}else h=u;let d=h.pathname||"/",f=d;if(a!=="/"){let _=a.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let g=Ig(n,{pathname:f}),v=my(g&&g.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:We([a,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:We([a,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),r,e,i);return t&&v?k.createElement(bo.Provider,{value:{location:vs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ne.Pop}},v):v}function cy(){let n=wy(),t=iy(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),e?k.createElement("pre",{style:s},e):null,null)}const dy=k.createElement(cy,null);class fy extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(Qe.Provider,{value:this.props.routeContext},k.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function py(n){let{routeContext:t,match:e,children:i}=n,s=k.useContext(Du);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Qe.Provider,{value:t},i)}function my(n,t,e,i){var s;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),n==null){var r;if(!e)return null;if(e.errors)n=e.matches;else if((r=i)!=null&&r.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=(s=e)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);h>=0||tt(!1),o=o.slice(0,Math.min(o.length,h+1))}let a=!1,u=-1;if(e&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let c=o[h];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=h),c.route.id){let{loaderData:d,errors:f}=e,g=c.route.loader&&d[c.route.id]===void 0&&(!f||f[c.route.id]===void 0);if(c.route.lazy||g){a=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,c,d)=>{let f,g=!1,v=null,_=null;e&&(f=l&&c.route.id?l[c.route.id]:void 0,v=c.route.errorElement||dy,a&&(u<0&&d===0?(g=!0,_=null):u===d&&(g=!0,_=c.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,d+1)),p=()=>{let y;return f?y=v:g?y=_:c.route.Component?y=k.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=h,k.createElement(py,{match:c,routeContext:{outlet:h,matches:m,isDataRoute:e!=null},children:y})};return e&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?k.createElement(fy,{location:e.location,revalidation:e.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var im=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(im||{}),to=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(to||{});function vy(n){let t=k.useContext(Du);return t||tt(!1),t}function gy(n){let t=k.useContext(ry);return t||tt(!1),t}function yy(n){let t=k.useContext(Qe);return t||tt(!1),t}function sm(n){let t=yy(),e=t.matches[t.matches.length-1];return e.route.id||tt(!1),e.route.id}function wy(){var n;let t=k.useContext(qp),e=gy(to.UseRouteError),i=sm(to.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[i]}function _y(){let{router:n}=vy(im.UseNavigateStable),t=sm(to.UseNavigateStable),e=k.useRef(!1);return tm(()=>{e.current=!0}),k.useCallback(function(s,r){r===void 0&&(r={}),e.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,vs({fromRouteId:t},r)))},[n,t])}const vc={};function by(n,t){vc[t]||(vc[t]=!0,console.warn(t))}const gc=(n,t,e)=>by(n," React Router Future Flag Warning: "+t+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+e+"."));function Sy(n,t){(n==null?void 0:n.v7_startTransition)===void 0&&gc("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&!t&&gc("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ea(n){tt(!1)}function ky(n){let{basename:t="/",children:e=null,location:i,navigationType:s=Ne.Pop,navigator:r,static:o=!1,future:l}=n;Ts()&&tt(!1);let a=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:a,navigator:r,static:o,future:vs({v7_relativeSplatPath:!1},l)}),[a,l,r,o]);typeof i=="string"&&(i=yi(i));let{pathname:h="/",search:c="",hash:d="",state:f=null,key:g="default"}=i,v=k.useMemo(()=>{let _=Iu(h,a);return _==null?null:{location:{pathname:_,search:c,hash:d,state:f,key:g},navigationType:s}},[a,h,c,d,f,g,s]);return v==null?null:k.createElement(En.Provider,{value:u},k.createElement(bo.Provider,{children:e,value:v}))}function xy(n){let{children:t,location:e}=n;return uy(Pa(t),e)}new Promise(()=>{});function Pa(n,t){t===void 0&&(t=[]);let e=[];return k.Children.forEach(n,(i,s)=>{if(!k.isValidElement(i))return;let r=[...t,s];if(i.type===k.Fragment){e.push.apply(e,Pa(i.props.children,r));return}i.type!==Ea&&tt(!1),!i.props.index||!i.props.children||tt(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Pa(i.props.children,r)),e.push(o)}),e}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ta.apply(this,arguments)}function Cy(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function Ey(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Py(n,t){return n.button===0&&(!t||t==="_self")&&!Ey(n)}const Ty=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ly="6";try{window.__reactRouterVersion=Ly}catch{}const My="startTransition",yc=S0[My];function jy(n){let{basename:t,children:e,future:i,window:s}=n,r=k.useRef();r.current==null&&(r.current=Rg({window:s,v5Compat:!0}));let o=r.current,[l,a]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},h=k.useCallback(c=>{u&&yc?yc(()=>a(c)):a(c)},[a,u]);return k.useLayoutEffect(()=>o.listen(h),[o,h]),k.useEffect(()=>Sy(i),[i]),k.createElement(ky,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,future:i})}const $y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rm=k.forwardRef(function(t,e){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:l,target:a,to:u,preventScrollReset:h,viewTransition:c}=t,d=Cy(t,Ty),{basename:f}=k.useContext(En),g,v=!1;if(typeof u=="string"&&zy.test(u)&&(g=u,$y))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=Iu(b.pathname,f);b.origin===y.origin&&S!=null?u=S+b.search+b.hash:v=!0}catch{}let _=oy(u,{relative:s}),m=Ry(u,{replace:o,state:l,target:a,preventScrollReset:h,relative:s,viewTransition:c});function p(y){i&&i(y),y.defaultPrevented||m(y)}return k.createElement("a",Ta({},d,{href:g||_,onClick:v||r?i:p,ref:e,target:a}))});var wc;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wc||(wc={}));var _c;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_c||(_c={}));function Ry(n,t){let{target:e,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:l}=t===void 0?{}:t,a=em(),u=So(),h=nm(n,{relative:o});return k.useCallback(c=>{if(Py(c,e)){c.preventDefault();let d=i!==void 0?i:qr(u)===qr(h);a(n,{replace:d,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[u,a,h,i,s,e,n,r,o,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ny={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ls=(n,t)=>{const e=k.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:l="",children:a,...u},h)=>k.createElement("svg",{ref:h,...Ny,width:s,height:s,stroke:i,strokeWidth:o?Number(r)*24/Number(s):r,className:["lucide",`lucide-${Oy(n)}`,l].join(" "),...u},[...t.map(([c,d])=>k.createElement(c,d)),...Array.isArray(a)?a:[a]]));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Ls("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Ls("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Ls("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Ls("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Ls("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),om=[{id:"fuel-network",name:"Fuel Network",logo:"https://assets.coingecko.com/coins/images/29577/standard/fuel.png?1696528516",date:"2024-12-19",buyPrice:"0.02",unlockPrice:"0.11288",highestPrice:"0.08375",currentPrice:null,roi:null,status:"live",link:"https://dropstab.com/coins/fuel",about:"Fuel Network is a global, decentralized collective of passionate developers focused on pioneering blockchain scalability. With its innovative technology, Fuel is pushing the boundaries of blockchain performance, enabling faster, more efficient decentralized applications for the next generation of Web3.",links:{website:"https://fuel.network",twitter:"https://twitter.com/fuellabs_"}},{id:"almanak",name:"ALMANAK",logo:"https://pbs.twimg.com/profile_images/1757710046174027776/g6SyLr_q_400x400.jpg",date:"Pending TGE",buyPrice:"--",currentPrice:null,roi:null,status:"pending",about:"Almanak is a Web3 platform revolutionizing DeFi and gaming with AI-driven Financial Agents. It uses agent-based modeling to optimize profitability and security, empowering traders and asset managers to ideate, test, and adapt strategies in real time. Through its intuitive interface and SDK, Almanak makes building, optimizing, and deploying financial strategies seamless and accessible for everyone.",links:{website:"https://almanak.co/",twitter:"https://x.com/Almanak__"}},{id:"pulse",name:"Pulse",logo:"https://pbs.twimg.com/profile_images/1865163275807150080/jov8V4we_400x400.jpg",date:"Pending TGE",buyPrice:"--",currentPrice:null,roi:null,status:"pending",about:"Pulse is an open health network that gives users control over their health data while monetizing it. The platform allows individuals to manage and share personal health information, earning rewards for participation. With exclusive fitness challenges and private communities, Pulse combines data empowerment with gamified experiences to revolutionize personal health management.",links:{website:"https://pulse.site/",twitter:"https://x.com/PulseNoLimits"}},{id:"silencio",name:"Silencio",logo:"https://pbs.twimg.com/profile_images/1829081173676457985/fJ5Rs6dr_400x400.jpg",date:"February 2025",buyPrice:"--",currentPrice:null,roi:null,status:"pending",about:"Silencio is the world's largest citizen science project, tackling noise pollution through a community-powered network. Users contribute hyper-local noise data via a free app, earning rewards and monetizing their data. By creating detailed noise maps, Silencio serves industries like real estate, insurance, and academia while helping to combat noise pollution and enhance global quality of life.",links:{website:"https://www.silencio.network/",twitter:"https://x.com/silencioNetwork"}},{id:"enclave",name:"Enclave",logo:"https://pbs.twimg.com/profile_images/1830688058636726276/GCjCS6ez_400x400.jpg",date:"Pending TGE",buyPrice:"--",currentPrice:null,roi:null,status:"pending",about:"Enclave is a cutting-edge protocol for secure, privacy-preserving computation. By leveraging Encrypted Execution Environments (E3), it enables organizations to process sensitive datalike medical records, financial stats, or even secret ballotswithout ever exposing it. Combining advanced cryptography like Fully Homomorphic Encryption (FHE) and Zero-Knowledge Proofs (ZKPs), Enclave empowers industries with unparalleled data privacy, integrity, and verifiable computation. Whether it's safeguarding personal data or enabling new decentralized applications, Enclave is redefining secure data processing for the modern world.",links:{website:"https://www.enclave.gg/",twitter:"https://x.com/EnclaveE3"}},{id:"corn",name:"Corn",logo:"https://pbs.twimg.com/profile_images/1838599679321182208/igqD6b-Q_400x400.jpg",date:"Upcoming ICO",buyPrice:"0.07",currentPrice:null,roi:null,status:"upcoming",about:"Corn is an Ethereum layer-2 solution built on Bitcoin, designed to enhance Bitcoin's utility by enabling it to power gas fees in decentralized finance (DeFi) ecosystems. At the heart of Corn is BTCN, a hybrid tokenized Bitcoin backed 1:1 by native BTC. This allows Bitcoin holders to seamlessly use their assets in DeFi without relying on centralized intermediaries. Corn bridges the gap between Ethereum and Bitcoin, unlocking a new frontier of utility for the world's largest cryptocurrency.",links:{website:"https://usecorn.com/",twitter:"https://x.com/use_corn"}}];function Er(n,t){if(n.status!=="live"||!t[n.id])return null;const e=t[n.id].usd,i=parseFloat(n.buyPrice);return(e/i-1)*100}function Pr(n){const t=n/100+1;return`${n.toFixed(2)}% (${t.toFixed(2)}x)`}const Vy="https://api.kucoin.com/api/v1/market/orderbook/level1?symbol=FUEL-USDT",Uy="https://api.bybit.com/v5/market/tickers?category=spot&symbol=FUELUSDT";async function lm(){var n,t,e,i;try{const s=await fetch(Vy,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(s.ok){const r=await s.json();if((n=r.data)!=null&&n.price)return{"fuel-network":{usd:parseFloat(r.data.price)}}}}catch(s){console.warn("KuCoin API failed, trying ByBit...",s)}try{const s=await fetch(Uy,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(s.ok){const r=await s.json();if((i=(e=(t=r.result)==null?void 0:t.list)==null?void 0:e[0])!=null&&i.lastPrice)return{"fuel-network":{usd:parseFloat(r.result.list[0].lastPrice)}}}}catch(s){console.error("Both APIs failed",s)}throw new Error("Failed to fetch price data from all sources")}const Fy={"fuel-network":{usd:.04}};function By(){const[n,t]=k.useState(Fy),[e,i]=k.useState(!0),[s,r]=k.useState(null),[o,l]=k.useState(0);k.useEffect(()=>{const u=async()=>{try{r(null);const c=await lm();t(c),l(0)}catch(c){console.error("Error fetching prices:",c),r(c instanceof Error?c.message:"Failed to fetch prices"),o<3&&setTimeout(()=>{l(d=>d+1)},Math.pow(2,o)*1e3)}finally{i(!1)}};u();const h=setInterval(u,6e4);return()=>clearInterval(h)},[o]);const a=u=>{switch(u){case"live":return"text-green-400";case"pending":return"text-pink-400";case"upcoming":return"text-cyan-400";default:return"text-gray-400"}};return s?w.jsxs("div",{className:"text-center p-4",children:[w.jsx("p",{className:"text-pink-500",children:s}),w.jsx("p",{className:"text-cyan-300 mt-2",children:"Displaying last known prices"})]}):w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b border-cyan-500/20",children:[w.jsx("th",{className:"p-4 text-center text-pink-500",children:"Token"}),w.jsx("th",{className:"p-4 text-pink-500",children:"Logo"}),w.jsx("th",{className:"p-4 text-pink-500",children:"Date"}),w.jsx("th",{className:"p-4 text-pink-500",children:"Buy Price"}),w.jsx("th",{className:"p-4 text-pink-500",children:"Current Price"}),w.jsx("th",{className:"p-4 text-pink-500",children:"Current ROI"}),w.jsx("th",{className:"p-4 text-pink-500",children:"Unlock ROI"}),w.jsx("th",{className:"p-4 text-pink-500",children:"ATH ROI"})]})}),w.jsx("tbody",{children:om.map(u=>{var g;const h=Er(u,n),c=u.status==="live"?(g=n[u.id])==null?void 0:g.usd:null,d=u.unlockPrice?Er(u,{[u.id]:{usd:parseFloat(u.unlockPrice)}}):null,f=u.highestPrice?Er(u,{[u.id]:{usd:parseFloat(u.highestPrice)}}):null;return w.jsxs("tr",{className:"border-b border-cyan-500/20 hover:bg-cyan-500/5 transition-colors",children:[w.jsx("td",{className:"text-center p-4",children:w.jsxs("div",{className:"flex items-center justify-center gap-2",children:[w.jsx(rm,{to:`/token/${u.id}`,className:"text-cyan-400 hover:text-pink-400 transition-colors",children:u.name}),u.link&&w.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-pink-400 transition-colors",children:w.jsx(Ay,{size:16})})]})}),w.jsx("td",{className:"p-4",children:w.jsx("img",{src:u.logo,alt:`${u.name} logo`,className:"w-8 h-8 rounded-full mx-auto ring-1 ring-cyan-500/20"})}),w.jsx("td",{className:"text-center p-4",children:u.date}),w.jsxs("td",{className:"text-center p-4",children:["$",u.buyPrice]}),w.jsx("td",{className:"text-center p-4",children:u.status==="live"?e?w.jsx("span",{className:"animate-pulse",children:"Loading..."}):c?`$${c.toFixed(6)}`:"N/A":w.jsx("span",{className:a(u.status),children:u.status==="pending"?"Pending TGE":"Upcoming ICO"})}),w.jsx("td",{className:"text-center p-4",children:u.status==="live"?e?w.jsx("span",{className:"animate-pulse",children:"Loading..."}):h?w.jsx("span",{className:h>=100?"text-green-400":"text-pink-500",children:Pr(h)}):"N/A":w.jsx("span",{className:a(u.status),children:u.status==="pending"?"Pending TGE":"Upcoming ICO"})}),w.jsx("td",{className:"text-center p-4",children:d&&w.jsx("span",{className:d>=100?"text-green-400":"text-pink-500",children:Pr(d)})}),w.jsx("td",{className:"text-center p-4",children:f&&w.jsx("span",{className:"text-green-400",children:Pr(f)})})]},u.id)})})]})})}function Wy({currentPrice:n}){const[t,e]=k.useState(""),[i,s]=k.useState("0.02"),[r,o]=k.useState(null);return k.useEffect(()=>{if(n&&t&&i){const l=parseFloat(t),a=parseFloat(i);if(l>0&&a>0){const u=l/a,h=u*n,c=h-l,d=c/l*100;o({currentValue:h,gainLoss:c,gainLossPercentage:d,tokens:u})}}},[t,i,n]),w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Investment Calculator"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-1",children:"Investment Amount ($)"}),w.jsx("input",{type:"number",value:t,onChange:l=>e(l.target.value),className:"w-full px-3 py-2 bg-black/40 border border-cyan-500/20 rounded-md text-cyan-100 focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Enter investment amount",min:"0",step:"0.01"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-cyan-300 mb-1",children:"Purchase Price ($)"}),w.jsx("input",{type:"number",value:i,onChange:l=>s(l.target.value),className:"w-full px-3 py-2 bg-black/40 border border-cyan-500/20 rounded-md text-cyan-100 focus:outline-none focus:ring-2 focus:ring-pink-500",placeholder:"Enter purchase price",min:"0",step:"0.000001"})]}),r&&n&&w.jsxs("div",{className:"mt-6 space-y-2 p-4 bg-black/40 rounded-lg border border-cyan-500/20",children:[w.jsxs("p",{className:"text-cyan-300",children:["Tokens: ",w.jsx("span",{className:"text-pink-400",children:r.tokens.toLocaleString(void 0,{maximumFractionDigits:2})})]}),w.jsxs("p",{className:"text-cyan-300",children:["Current Value: ",w.jsxs("span",{className:"text-pink-400",children:["$",r.currentValue.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),w.jsxs("p",{className:"text-cyan-300",children:["Gain/Loss:"," ",w.jsxs("span",{className:r.gainLoss>=0?"text-green-400":"text-red-400",children:["$",Math.abs(r.gainLoss).toLocaleString(void 0,{maximumFractionDigits:2})," ","(",r.gainLoss>=0?"+":"-",Math.abs(r.gainLossPercentage).toFixed(2),"%)"]})]})]})]})]})}function Hy({logoUrl:n}){const[t,e]=k.useState([]),[i,s]=k.useState(!0);return k.useEffect(()=>{const o=Array.from({length:10},(a,u)=>({id:u,x:Math.random()*100,delay:Math.random()*1e3,duration:2e3+Math.random()*1e3,rotation:Math.random()*360}));e(o);const l=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(l)},[]),i?w.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:t.map(r=>w.jsx("img",{src:n,alt:"Falling Logo",className:"absolute w-8 h-8 rounded-full opacity-50",style:{left:`${r.x}%`,top:"-32px",animation:`fall ${r.duration}ms linear ${r.delay}ms forwards`,transform:`rotate(${r.rotation}deg)`}},r.id))}):null}function W(n){var t=n.width,e=n.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function pn(n,t){return n.width===t.width&&n.height===t.height}var Ky=function(){function n(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(s){return s!==i})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},n}();function Jy(n){return new Ky(n)}var Gy=function(){function n(t,e,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=W({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return W({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=W(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(t){var e=this.bitmapSize;pn(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},n.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,e)})},n.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=W(this._transformBitmapSize(t,this._canvasElementClientSize)),s=pn(this.bitmapSize,i)?null:i;e===null&&s===null||e!==null&&s!==null&&pn(e,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(e,s))},n.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,e)})},n.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Zy().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=kc(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Jy(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var i=kc(this._canvasElement);if(i!==null){var s=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:i.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?Qy(r[0],s):W({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(o)}}},n.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(o){return o.target===t._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],r=W({width:s.inlineSize,height:s.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n}();function Xy(n,t){if(t.type==="device-pixel-content-box")return new Gy(n,t.transform,t.options);throw new Error("Unsupported binding target")}function kc(n){return n.ownerDocument.defaultView}function Zy(){return new Promise(function(n){var t=new ResizeObserver(function(e){n(e.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Qy(n,t){return W({width:Math.round(n.left*t+n.width*t)-Math.round(n.left*t),height:Math.round(n.top*t+n.height*t)-Math.round(n.top*t)})}var Yy=function(){function n(t,e,i){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return n.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n}();function _n(n,t){var e=n.canvasElementClientSize;if(e.width===0||e.height===0)return null;var i=n.bitmapSize;if(i.width===0||i.height===0)return null;var s=n.canvasElement.getContext("2d",t);return s===null?null:new Yy(s,e,i)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.2
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const qy={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},t1={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},e1={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},n1={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},i1={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},s1={color:"#26a69a",base:0},am={color:"#2196f3"},um={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var xc,Cc;function bn(n,t){const e={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[t];n.setLineDash(e)}function hm(n,t,e,i){n.beginPath();const s=n.lineWidth%2?.5:0;n.moveTo(e,t+s),n.lineTo(i,t+s),n.stroke()}function Je(n,t){if(!n)throw new Error("Assertion failed"+(t?": "+t:""))}function gt(n){if(n===void 0)throw new Error("Value is undefined");return n}function C(n){if(n===null)throw new Error("Value is null");return n}function Gn(n){return C(gt(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(xc||(xc={})),function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"}(Cc||(Cc={}));const Ec={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Ot(n){return n<0?0:n>255?255:Math.round(n)||0}function cm(n){return n<=0||n>1?Math.min(Math.max(n,0),1):Math.round(1e4*n)/1e4}const r1=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,o1=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,l1=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,a1=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function gs(n){(n=n.toLowerCase())in Ec&&(n=Ec[n]);{const t=a1.exec(n)||l1.exec(n);if(t)return[Ot(parseInt(t[1],10)),Ot(parseInt(t[2],10)),Ot(parseInt(t[3],10)),cm(t.length<5?1:parseFloat(t[4]))]}{const t=o1.exec(n);if(t)return[Ot(parseInt(t[1],16)),Ot(parseInt(t[2],16)),Ot(parseInt(t[3],16)),1]}{const t=r1.exec(n);if(t)return[Ot(17*parseInt(t[1],16)),Ot(17*parseInt(t[2],16)),Ot(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${n}`)}function dm(n){return .199*n[0]+.687*n[1]+.114*n[2]}function ko(n){const t=gs(n);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:dm(t)>160?"black":"white"}}class Y{constructor(){this.h=[]}l(t,e,i){const s={o:t,_:e,u:i===!0};this.h.push(s)}v(t){const e=this.h.findIndex(i=>t===i.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,i){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(t,e,i))}M(){return this.h.length>0}S(){this.h=[]}}function Yt(n,...t){for(const e of t)for(const i in e)e[i]!==void 0&&(typeof e[i]!="object"||n[i]===void 0||Array.isArray(e[i])?n[i]=e[i]:Yt(n[i],e[i]));return n}function re(n){return typeof n=="number"&&isFinite(n)}function ys(n){return typeof n=="number"&&n%1==0}function Ms(n){return typeof n=="string"}function tr(n){return typeof n=="boolean"}function fe(n){const t=n;if(!t||typeof t!="object")return t;let e,i,s;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(s=t[i],e[i]=s&&typeof s=="object"?fe(s):s);return e}function u1(n){return n!==null}function ws(n){return n===null?void 0:n}const Au="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ci(n,t,e){return t===void 0&&(t=Au),`${e=e!==void 0?`${e} `:""}${n}px ${t}`}class h1{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),i=this.H();return t.P===e&&t.D===i||(t.P=e,t.D=i,t.R=ci(e,i),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Vu{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,i){this.Y.forEach(s=>{s.X(t,e,i)})}}class qt{X(t,e,i){t.useBitmapCoordinateSpace(s=>this.K(s,e,i))}}class c1 extends qt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,r=this.G,o=Math.max(1,Math.floor(e))%2/2,l=a=>{t.beginPath();for(let u=s.to-1;u>=s.from;--u){const h=r.it[u],c=Math.round(h.nt*e)+o,d=h.st*i,f=a*i+o;t.moveTo(c,d),t.arc(c,d,f,0,2*Math.PI)}t.fill()};r.et>0&&(t.fillStyle=r.rt,l(r.ht+r.et)),t.fillStyle=r.lt,l(r.ht)}}function d1(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const f1={from:0,to:1};class p1{constructor(t,e){this.ut=new Vu,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(d1),this.ct=this.dt.map(i=>{const s=new c1;return s.J(i),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,e=this.F.wt(),i=this.vt.xt(),s=this.F.St();e.forEach((r,o)=>{var l;const a=this.dt[o],u=r.kt(i);if(t||u===null||!r.yt())return void(a.tt=null);const h=C(r.Ct());a.lt=u.Tt,a.ht=u.ht,a.et=u.Pt,a.it[0]._t=u._t,a.it[0].st=r.Dt().Rt(u._t,h.Vt),a.rt=(l=u.Ot)!==null&&l!==void 0?l:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=i,a.it[0].nt=s.It(i),a.tt=f1})}}class m1 extends qt{constructor(t){super(),this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const l=Math.round(this.zt.nt*i),a=Math.round(this.zt.st*s);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*i),t.strokeStyle=this.zt.Lt.V,t.fillStyle=this.zt.Lt.V,bn(t,this.zt.Lt.Nt),function(u,h,c,d){u.beginPath();const f=u.lineWidth%2?.5:0;u.moveTo(h+f,c),u.lineTo(h+f,d),u.stroke()}(t,l,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*s),t.strokeStyle=this.zt.Et.V,t.fillStyle=this.zt.Et.V,bn(t,this.zt.Et.Nt),hm(t,a,0,e.width))}}class v1{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new m1(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=C(this.jt.Ht()),i=e.$t().W().crosshair,s=this.Ft;if(i.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=t&&this.jt.Ut(e),s.Lt.yt=t&&this.jt.qt(),s.Et.et=i.horzLine.width,s.Et.Nt=i.horzLine.style,s.Et.V=i.horzLine.color,s.Lt.et=i.vertLine.width,s.Lt.Nt=i.vertLine.style,s.Lt.V=i.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function g1(n,t,e,i,s,r){n.fillRect(t+r,e,i-2*r,r),n.fillRect(t+r,e+s-r,i-2*r,r),n.fillRect(t,e,r,s),n.fillRect(t+i-r,e,r,s)}function xo(n,t,e,i,s,r){n.save(),n.globalCompositeOperation="copy",n.fillStyle=r,n.fillRect(t,e,i,s),n.restore()}function Pc(n,t,e,i,s,r){n.beginPath(),n.roundRect?n.roundRect(t,e,i,s,r):(n.lineTo(t+i-r[1],e),r[1]!==0&&n.arcTo(t+i,e,t+i,e+r[1],r[1]),n.lineTo(t+i,e+s-r[2]),r[2]!==0&&n.arcTo(t+i,e+s,t+i-r[2],e+s,r[2]),n.lineTo(t+r[3],e+s),r[3]!==0&&n.arcTo(t,e+s,t,e+s-r[3],r[3]),n.lineTo(t,e+r[0]),r[0]!==0&&n.arcTo(t,e,t+r[0],e,r[0]))}function Tc(n,t,e,i,s,r,o=0,l=[0,0,0,0],a=""){if(n.save(),!o||!a||a===r)return Pc(n,t,e,i,s,l),n.fillStyle=r,n.fill(),void n.restore();const u=o/2;var h;Pc(n,t+u,e+u,i-o,s-o,(h=-u,l.map(c=>c===0?c:c+h))),r!=="transparent"&&(n.fillStyle=r,n.fill()),a!=="transparent"&&(n.lineWidth=o,n.strokeStyle=a,n.closePath(),n.stroke()),n.restore()}function fm(n,t,e,i,s,r,o){n.save(),n.globalCompositeOperation="copy";const l=n.createLinearGradient(0,0,0,s);l.addColorStop(0,r),l.addColorStop(1,o),n.fillStyle=l,n.fillRect(t,e,i,s),n.restore()}class Lc{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,i,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,o=this.Xt.t,l=t.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=e.R;const h=this.Gt(a,e,i,s),c=h.Jt;return h.Qt?Tc(u,c.ti,c.ii,c.ni,c.si,o,c.ei,[c.ht,0,0,c.ht],o):Tc(u,c.ri,c.ii,c.ni,c.si,o,c.ei,[0,c.ht,c.ht,0],o),this.zt.hi&&(u.fillStyle=r,u.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),this.zt._i&&(u.fillStyle=e.O,u.fillRect(h.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),h});t.useMediaCoordinateSpace(({context:a})=>{const u=l.di;a.font=e.R,a.textAlign=l.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(t,e,i,s){var r;const{context:o,bitmapSize:l,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=t,c=this.zt.hi||!this.zt.mi?e.T:0,d=this.zt.bi?e.C:0,f=e.L+this.Xt.wi,g=e.B+this.Xt.gi,v=e.A,_=e.I,m=this.zt.Kt,p=e.P,y=i.Mi(o,m),b=Math.ceil(i.xi(o,m)),S=p+f+g,x=e.C+v+_+b+c,P=Math.max(1,Math.floor(h));let T=Math.round(S*h);T%2!=P%2&&(T+=1);const O=d>0?Math.max(1,Math.floor(d*u)):0,$=Math.round(x*u),_t=Math.round(c*u),Ye=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,be=Math.round(Ye*h)-Math.floor(.5*h),Ln=Math.floor(be+P/2-T/2),Rs=Ln+T,Se=s==="right",Mn=Se?a.width-d:d,L=Se?l.width-O:O;let j,z,F;return Se?(j=L-$,z=L-_t,F=Mn-c-v-d):(j=L+$,z=L+_t,F=Mn+c+v),{Qt:Se,Jt:{ii:Ln,li:be,ci:Rs,ni:$,si:T,ht:2*u,ei:O,ti:j,ri:L,ai:z,oi:P,ui:l.width},di:{ii:Ln/h,ci:Rs/h,fi:F,pi:y}}}}class Co{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||Lc)(this.Ci,this.yi),this.Ri=new(t||Lc)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t,e=!1){return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class y1 extends Co{constructor(t,e,i){super(),this.jt=t,this.Li=e,this.Ei=i}zi(t,e,i){if(t.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const o=ko(s.labelBackgroundColor);i.t=o.t,t.V=o.i;const l=2/12*this.Li.P();i.wi=l,i.gi=l;const a=this.Ei(this.Li);i.ki=a.ki,t.Kt=this.Li.Fi(a._t,r),t.yt=!0}}const w1=/[1-9]/g;class pm{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const i=t.useMediaCoordinateSpace(({context:d})=>(d.font=e.R,Math.round(e.Wi.xi(d,C(this.zt).Kt,w1))));if(i<=0)return;const s=e.ji,r=i+2*s,o=r/2,l=this.zt.Hi;let a=this.zt.ki,u=Math.floor(a-o)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-o)+.5):u+r>l&&(a-=Math.abs(l-(u+r)),u=Math.floor(a-o)+.5);const h=u+r,c=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(({context:d,horizontalPixelRatio:f,verticalPixelRatio:g})=>{const v=C(this.zt);d.fillStyle=v.t;const _=Math.round(u*f),m=Math.round(0*g),p=Math.round(h*f),y=Math.round(c*g),b=Math.round(2*f);if(d.beginPath(),d.moveTo(_,m),d.lineTo(_,y-b),d.arcTo(_,y,_+b,y,b),d.lineTo(p-b,y),d.arcTo(p,y,p,y-b,b),d.lineTo(p,m),d.fill(),v.hi){const S=Math.round(v.ki*f),x=m,P=Math.round((x+e.T)*g);d.fillStyle=v.V;const T=Math.max(1,Math.floor(f)),O=Math.floor(.5*f);d.fillRect(S-O,x,T,P-x)}}),t.useMediaCoordinateSpace(({context:d})=>{const f=C(this.zt),g=0+e.C+e.T+e.L+e.P/2;d.font=e.R,d.textAlign="left",d.textBaseline="middle",d.fillStyle=f.V;const v=e.Wi.Mi(d,"Apr0");d.translate(u+s,g+v),d.fillText(f.Kt,0,0)})}}class _1{constructor(t,e,i){this.ft=!0,this.Wt=new pm,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const i=this.$i.St();if(i.Ni())return;t.Hi=i.Hi();const s=this.Ei();if(s===null)return;t.ki=s.ki;const r=i.Ui(this.vt.xt());t.Kt=i.qi(C(r)),t.yt=!0;const o=ko(e.labelBackgroundColor);t.t=o.t,t.V=o.i,t.hi=i.W().ticksVisible}}class Uu{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var Mc;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden"})(Mc||(Mc={}));class b1 extends Uu{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new p1(t,this),this.fn=((s,r)=>o=>{const l=r(),a=s();if(o===C(this.tn).vn())return{_t:a,ki:l};{const u=C(o.Ct());return{_t:o.pn(l,u),ki:l}}})(()=>this.nn,()=>this.an);const i=((s,r)=>()=>{const o=this.$i.St().mn(s()),l=r();return o&&Number.isFinite(l)?{ot:o,ki:l}:null})(()=>this.sn,()=>this.Yt());this.bn=new _1(this,t,i),this.wn=new v1(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,i){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return this.tn!==null?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const i=[];return this.tn===t&&i.push(this.Dn(this.rn,e,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,i){this.Bn(t,e,i)&&this.Vn()}Bn(t,e,i){const s=this.ln,r=this.an,o=this.nn,l=this.sn,a=this.tn,u=this.On(i);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=i;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=e,this.an=u.Rt(e,h)):(this.nn=NaN,this.an=NaN),s!==this.ln||r!==this.an||l!==this.sn||o!==this.nn||a!==this.tn}Tn(){const t=this.$i.wt().map(i=>i.In().An()).filter(u1),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Dn(t,e,i){let s=t.get(e);return s===void 0&&(s=new y1(this,e,i),t.set(e,s)),s}}function Eo(n){return n==="left"||n==="right"}class at{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const i=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(t),e);this.zn.set(t,i)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return e===void 0?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((e,i)=>{this.Nn(i,e)})}static ss(){return new at(2)}static es(){return new at(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(e=>e.qn===5);t!==-1&&this.Ln.splice(t,1)}}const jc=".";function pe(n,t){if(!re(n))return"n/a";if(!ys(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?n.toString():("0000000000000000"+n.toString()).slice(-t)}class Po{constructor(t,e){if(e||(e=1),re(t)&&ys(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const e=this.Li/this.rs;let i=Math.floor(t),s="";const r=this.os!==void 0?this.os:NaN;if(e>1){let o=+(Math.round(t*e)-i*e).toFixed(this.os);o>=e&&(o-=e,i+=1),s=jc+pe(+o.toFixed(this.os)*this.rs,r)}else i=Math.round(i*e)/e,r>0&&(s=jc+pe(0,r));return i.toFixed(0)+s}}class mm extends Po{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class S1{constructor(t){this._s=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.us(t):t<999995?e+this.us(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.us(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.us(t/1e9)+"B")}us(t){let e;const i=Math.pow(10,this._s);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this._s).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function vm(n,t,e,i,s,r,o){if(t.length===0||i.from>=t.length||i.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:u}=n,h=t[i.from];let c=r(n,h),d=h;if(i.to-i.from<2){const f=s/2;l.beginPath();const g={nt:h.nt-f,st:h.st},v={nt:h.nt+f,st:h.st};l.moveTo(g.nt*a,g.st*u),l.lineTo(v.nt*a,v.st*u),o(n,c,g,v)}else{const f=(v,_)=>{o(n,c,d,_),l.beginPath(),c=v,d=_};let g=d;l.beginPath(),l.moveTo(h.nt*a,h.st*u);for(let v=i.from+1;v<i.to;++v){g=t[v];const _=r(n,g);switch(e){case 0:l.lineTo(g.nt*a,g.st*u);break;case 1:l.lineTo(g.nt*a,t[v-1].st*u),_!==c&&(f(_,g),l.lineTo(g.nt*a,t[v-1].st*u)),l.lineTo(g.nt*a,g.st*u);break;case 2:{const[m,p]=k1(t,v-1,v);l.bezierCurveTo(m.nt*a,m.st*u,p.nt*a,p.st*u,g.nt*a,g.st*u);break}}e!==1&&_!==c&&(f(_,g),l.moveTo(g.nt*a,g.st*u))}(d!==g||d===g&&e===1)&&o(n,c,d,g)}}const $c=6;function hl(n,t){return{nt:n.nt-t.nt,st:n.st-t.st}}function zc(n,t){return{nt:n.nt/t,st:n.st/t}}function k1(n,t,e){const i=Math.max(0,t-1),s=Math.min(n.length-1,e+1);var r,o;return[(r=n[t],o=zc(hl(n[e],n[i]),$c),{nt:r.nt+o.nt,st:r.st+o.st}),hl(n[e],zc(hl(n[s],n[t]),$c))]}function x1(n,t,e,i,s){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(s.nt*o,n*l),r.lineTo(i.nt*o,n*l),r.closePath(),r.fillStyle=e,r.fill()}class gm extends qt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(this.G===null)return;const{it:i,tt:s,cs:r,et:o,Nt:l,ds:a}=this.G,u=(e=this.G.fs)!==null&&e!==void 0?e:this.G.vs?0:t.mediaSize.height;if(s===null)return;const h=t.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=o,bn(h,l),h.lineWidth=1,vm(t,i,a,s,r,this.ps.bind(this),x1.bind(null,u))}}function La(n,t,e){return Math.min(Math.max(n,t),e)}function er(n,t,e){return t-n<=e}function ym(n){const t=Math.ceil(n);return t%2==0?t-1:t}class Fu{bs(t,e){const i=this.ws,{gs:s,Ms:r,xs:o,Ss:l,ks:a,fs:u}=e;if(this.ys===void 0||i===void 0||i.gs!==s||i.Ms!==r||i.xs!==o||i.Ss!==l||i.fs!==u||i.ks!==a){const h=t.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,s),u!=null){const c=La(u*t.verticalPixelRatio/a,0,1);h.addColorStop(c,r),h.addColorStop(c,o)}h.addColorStop(1,l),this.ys=h,this.ws=e}return this.ys}}class C1 extends gm{constructor(){super(...arguments),this.Cs=new Fu}ps(t,e){return this.Cs.bs(t,{gs:e.Ts,Ms:"",xs:"",Ss:e.Ps,ks:t.bitmapSize.height})}}function E1(n,t){const e=n.context;e.strokeStyle=t,e.stroke()}class wm extends qt{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(this.G===null)return;const{it:e,tt:i,cs:s,ds:r,et:o,Nt:l,Rs:a}=this.G;if(i===null)return;const u=t.context;u.lineCap="butt",u.lineWidth=o*t.verticalPixelRatio,bn(u,l),u.lineJoin="round";const h=this.Ds.bind(this);r!==void 0&&vm(t,e,r,i,s,h,E1),a&&function(c,d,f,g,v){const{horizontalPixelRatio:_,verticalPixelRatio:m,context:p}=c;let y=null;const b=Math.max(1,Math.floor(_))%2/2,S=f*m+b;for(let x=g.to-1;x>=g.from;--x){const P=d[x];if(P){const T=v(c,P);T!==y&&(p.beginPath(),y!==null&&p.fill(),p.fillStyle=T,y=T);const O=Math.round(P.nt*_)+b,$=P.st*m;p.moveTo(O,$),p.arc(O,$,S,0,2*Math.PI)}}p.fill()}(t,e,a,i,h)}}class _m extends wm{Ds(t,e){return e.lt}}function bm(n,t,e,i,s=0,r=t.length){let o=r-s;for(;0<o;){const l=o>>1,a=s+l;i(t[a],e)===n?(s=a+1,o-=l+1):o=l}return s}const js=bm.bind(null,!0),Sm=bm.bind(null,!1);function P1(n,t){return n.ot<t}function T1(n,t){return t<n.ot}function km(n,t,e){const i=t.Vs(),s=t.ui(),r=js(n,i,P1),o=Sm(n,s,T1);if(!e)return{from:r,to:o};let l=r,a=o;return r>0&&r<n.length&&n[r].ot>=i&&(l=r-1),o>0&&o<n.length&&n[o-1].ot<=s&&(a=o+1),{from:l,to:a}}class Bu{constructor(t,e,i){this.Os=!0,this.Bs=!0,this.As=!0,this.Is=[],this.zs=null,this.Ls=t,this.Es=e,this.Ns=i}bt(t){this.Os=!0,t==="data"&&(this.Bs=!0),t==="options"&&(this.As=!0)}gt(){return this.Ls.yt()?(this.Fs(),this.zs===null?null:this.Ws):null}js(){this.Is=this.Is.map(t=>Object.assign(Object.assign({},t),this.Ls.$s().Hs(t.ot)))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.As&&(this.js(),this.As=!1),this.Os&&(this.Ys(),this.Os=!1)}Ys(){const t=this.Ls.Dt(),e=this.Es.St();if(this.Us(),e.Ni()||t.Ni())return;const i=e.Zs();if(i===null||this.Ls.In().Xs()===0)return;const s=this.Ls.Ct();s!==null&&(this.zs=km(this.Is,i,this.Ns),this.Ks(t,e,s.Vt),this.Gs())}}class To extends Bu{constructor(t,e){super(t,e,!0)}Ks(t,e,i){e.Js(this.Is,ws(this.zs)),t.Qs(this.Is,i,ws(this.zs))}te(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>{const i=e.Vt[3];return this.ne(e.se,i,t)})}}class L1 extends To{constructor(t,e){super(t,e),this.Ws=new Vu,this.ee=new C1,this.re=new _m,this.Ws.Z([this.ee,this.re])}ne(t,e,i){return Object.assign(Object.assign({},this.te(t,e)),i.Hs(t))}Gs(){const t=this.Ls.W();this.ee.J({ds:t.lineType,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,fs:null,vs:t.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:t.lineVisible?t.lineType:void 0,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class M1 extends qt{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(t){this.zt=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.le=this.oe(e),this.le>=2&&Math.max(1,Math.floor(e))%2!=this.le%2&&this.le--,this.ae=this.zt._e?Math.min(this.le,Math.floor(e)):this.le;let s=null;const r=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.In[o];s!==l.ue&&(t.fillStyle=l.ue,s=l.ue);const a=Math.floor(.5*this.ae),u=Math.round(l.nt*e),h=u-a,c=this.ae,d=h+c-1,f=Math.min(l.ce,l.de),g=Math.max(l.ce,l.de),v=Math.round(f*i)-a,_=Math.round(g*i)+a,m=Math.max(_-v,this.ae);t.fillRect(h,v,c,m);const p=Math.ceil(1.5*this.le);if(r){if(this.zt.fe){const x=u-p;let P=Math.max(v,Math.round(l.ve*i)-a),T=P+c-1;T>v+m-1&&(T=v+m-1,P=T-c+1),t.fillRect(x,P,h-x,T-P+1)}const y=u+p;let b=Math.max(v,Math.round(l.pe*i)-a),S=b+c-1;S>v+m-1&&(S=v+m-1,b=S-c+1),t.fillRect(d+1,b,y-d,S-b+1)}}}oe(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(i,s){return Math.floor(.3*i*s)}(C(this.zt).he,t)))}}class xm extends Bu{constructor(t,e){super(t,e,!1)}Ks(t,e,i){e.Js(this.Is,ws(this.zs)),t.me(this.Is,i,ws(this.zs))}be(t,e,i){return{ot:t,we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>this.ne(e.se,e,t))}}class j1 extends xm{constructor(){super(...arguments),this.Ws=new M1}ne(t,e,i){return Object.assign(Object.assign({},this.be(t,e,i)),i.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:t.openVisible,_e:t.thinBars,tt:this.zs})}}class $1 extends gm{constructor(){super(...arguments),this.Cs=new Fu}ps(t,e){const i=this.G;return this.Cs.bs(t,{gs:e.Se,Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:t.bitmapSize.height,fs:i.fs})}}class z1 extends wm{constructor(){super(...arguments),this.Te=new Fu}Ds(t,e){const i=this.G;return this.Te.bs(t,{gs:e.Pe,Ms:e.Pe,xs:e.Re,Ss:e.Re,ks:t.bitmapSize.height,fs:i.fs})}}class R1 extends To{constructor(t,e){super(t,e),this.Ws=new Vu,this.De=new $1,this.Ve=new z1,this.Ws.Z([this.De,this.Ve])}ne(t,e,i){return Object.assign(Object.assign({},this.te(t,e)),i.Hs(t))}Gs(){const t=this.Ls.Ct();if(t===null)return;const e=this.Ls.W(),i=this.Ls.Dt().Rt(e.baseValue.price,t.Vt),s=this.Es.St().he();this.De.J({it:this.Is,et:e.lineWidth,Nt:e.lineStyle,ds:e.lineType,fs:i,vs:!1,tt:this.zs,cs:s}),this.Ve.J({it:this.Is,et:e.lineWidth,Nt:e.lineStyle,ds:e.lineVisible?e.lineType:void 0,Rs:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,fs:i,tt:this.zs,cs:s})}}class N1 extends qt{constructor(){super(...arguments),this.zt=null,this.le=0}J(t){this.zt=t}K(t){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:e}=t;this.le=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),u=Math.floor(r*o),h=Math.min(a,u);return Math.max(Math.floor(o),h)}(this.zt.he,e),this.le>=2&&Math.floor(e)%2!=this.le%2&&this.le--;const i=this.zt.In;this.zt.Oe&&this.Be(t,i,this.zt.tt),this.zt._i&&this.Ae(t,i,this.zt.tt);const s=this.Ie(e);(!this.zt._i||this.le>2*s)&&this.ze(t,i,this.zt.tt)}Be(t,e,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",a=Math.min(Math.floor(r),Math.floor(this.zt.he*r));a=Math.max(Math.floor(r),Math.min(a,this.le));const u=Math.floor(.5*a);let h=null;for(let c=i.from;c<i.to;c++){const d=e[c];d.Le!==l&&(s.fillStyle=d.Le,l=d.Le);const f=Math.round(Math.min(d.ve,d.pe)*o),g=Math.round(Math.max(d.ve,d.pe)*o),v=Math.round(d.ce*o),_=Math.round(d.de*o);let m=Math.round(r*d.nt)-u;const p=m+a-1;h!==null&&(m=Math.max(h+1,m),m=Math.min(m,p));const y=p-m+1;s.fillRect(m,v,y,f-v),s.fillRect(m,g+1,y,_-g),h=p}}Ie(t){let e=Math.floor(1*t);this.le<=2*e&&(e=Math.floor(.5*(this.le-1)));const i=Math.max(Math.floor(t),e);return this.le<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}Ae(t,e,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.Ie(r);let u=null;for(let h=i.from;h<i.to;h++){const c=e[h];c.Ee!==l&&(s.fillStyle=c.Ee,l=c.Ee);let d=Math.round(c.nt*r)-Math.floor(.5*this.le);const f=d+this.le-1,g=Math.round(Math.min(c.ve,c.pe)*o),v=Math.round(Math.max(c.ve,c.pe)*o);if(u!==null&&(d=Math.max(u+1,d),d=Math.min(d,f)),this.zt.he*r>2*a)g1(s,d,g,f-d+1,v-g+1,a);else{const _=f-d+1;s.fillRect(d,g,_,v-g+1)}u=f}}ze(t,e,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.Ie(r);for(let u=i.from;u<i.to;u++){const h=e[u];let c=Math.round(Math.min(h.ve,h.pe)*o),d=Math.round(Math.max(h.ve,h.pe)*o),f=Math.round(h.nt*r)-Math.floor(.5*this.le),g=f+this.le-1;if(h.ue!==l){const v=h.ue;s.fillStyle=v,l=v}this.zt._i&&(f+=a,c+=a,g-=a,d-=a),c>d||s.fillRect(f,c,g-f+1,d-c+1)}}}class O1 extends xm{constructor(){super(...arguments),this.Ws=new N1}ne(t,e,i){return Object.assign(Object.assign({},this.be(t,e,i)),i.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Oe:t.wickVisible,_i:t.borderVisible,tt:this.zs})}}class I1{constructor(t,e){this.Ne=t,this.Li=e}X(t,e,i){this.Ne.draw(t,this.Li,e,i)}}class cl extends Bu{constructor(t,e,i){super(t,e,!1),this.wn=i,this.Ws=new I1(this.wn.renderer(),s=>{const r=t.Ct();return r===null?null:t.Dt().Rt(s,r.Vt)})}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map(e=>Object.assign(Object.assign({ot:e.se,nt:NaN},t.Hs(e.se)),{je:e.He}))}Ks(t,e){e.Js(this.Is,ws(this.zs))}Gs(){this.wn.update({bars:this.Is.map(D1),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}}function D1(n){return{x:n.nt,time:n.ot,originalData:n.je,barColor:n.ue}}class A1 extends qt{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(t){this.zt=t,this.$e=[]}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.$e.length||this.Ue(e);const s=Math.max(1,Math.floor(i)),r=Math.round(this.zt.qe*i)-Math.floor(s/2),o=r+s;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const a=this.zt.it[l],u=this.$e[l-this.zt.tt.from],h=Math.round(a.st*i);let c,d;t.fillStyle=a.ue,h<=r?(c=h,d=o):(c=r,d=h-Math.floor(s/2)+s),t.fillRect(u.Vs,c,u.ui-u.Vs+1,d-c)}}Ue(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.$e=[]);const e=Math.ceil(this.zt.he*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.zt.he*t)-e;this.$e=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],l=Math.round(o.nt*t);let a,u;if(i%2){const h=(i-1)/2;a=l-h,u=l+h}else{const h=i/2;a=l-h,u=l+h-1}this.$e[r-this.zt.tt.from]={Vs:a,ui:u,Ye:l,Ze:o.nt*t,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.$e[r-this.zt.tt.from],l=this.$e[r-this.zt.tt.from-1];o.ot===l.ot+1&&o.Vs-l.ui!==e+1&&(l.Ye>l.Ze?l.ui=o.Vs-e-1:o.Vs=l.ui+e+1)}let s=Math.ceil(this.zt.he*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.$e[r-this.zt.tt.from];o.ui<o.Vs&&(o.ui=o.Vs);const l=o.ui-o.Vs+1;s=Math.min(l,s)}if(e>0&&s<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.$e[r-this.zt.tt.from];o.ui-o.Vs+1>s&&(o.Ye>o.Ze?o.ui-=1:o.Vs+=1)}}}class V1 extends To{constructor(){super(...arguments),this.Ws=new A1}ne(t,e,i){return Object.assign(Object.assign({},this.te(t,e)),i.Hs(t))}Gs(){const t={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,C(this.Ls.Ct()).Vt)};this.Ws.J(t)}}class U1 extends To{constructor(){super(...arguments),this.Ws=new _m}ne(t,e,i){return Object.assign(Object.assign({},this.te(t,e)),i.Hs(t))}Gs(){const t=this.Ls.W(),e={it:this.Is,Nt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(e)}}const F1=/[2-9]/g;class _s{constructor(t=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Xe=0,this.Qe.clear(),this.Ke=1,this.Ge=1,this.Je={}}xi(t,e,i){return this.nr(t,e,i).width}Mi(t,e,i){const s=this.nr(t,e,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}nr(t,e,i){const s=i||F1,r=String(e).replace(s,"0");if(this.Qe.has(r))return gt(this.Qe.get(r)).sr;if(this.Xe===this.tr){const l=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(l),this.Ge++,this.Xe--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.Qe.set(r,{sr:o,er:this.Ke}),this.Je[this.Ke]=r,this.Xe++,this.Ke++),o}}class B1{constructor(t){this.rr=null,this.k=null,this.hr="right",this.lr=t}ar(t,e,i){this.rr=t,this.k=e,this.hr=i}X(t){this.k!==null&&this.rr!==null&&this.rr.X(t,this.k,this.lr,this.hr)}}class Cm{constructor(t,e,i){this._r=t,this.lr=new _s(50),this.ur=e,this.F=i,this.j=-1,this.Wt=new B1(this.lr)}gt(){const t=this.F.cr(this.ur);if(t===null)return null;const e=t.dr(this.ur)?t.vr():this.ur.Dt();if(e===null)return null;const i=t.pr(e);if(i==="overlay")return null;const s=this.F.mr();return s.P!==this.j&&(this.j=s.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),s,i),this.Wt}}class W1 extends qt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}br(t,e){var i;if(!(!((i=this.zt)===null||i===void 0)&&i.yt))return null;const{st:s,et:r,wr:o}=this.zt;return e>=s-r-7&&e<=s+r+7?{gr:this.zt,wr:o}:null}K({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*s);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.V,t.lineWidth=Math.floor(this.zt.et*i),bn(t,this.zt.Nt),hm(t,r,0,e.width))}}class Wu{constructor(t){this.Mr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.Sr=new W1,this.ft=!0,this.Ls=t,this.Es=t.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}}class H1 extends Wu{constructor(t){super(t)}kr(){this.Mr.yt=!1;const t=this.Ls.Dt(),e=t.yr().yr;if(e!==2&&e!==3)return;const i=this.Ls.W();if(!i.baseLineVisible||!this.Ls.yt())return;const s=this.Ls.Ct();s!==null&&(this.Mr.yt=!0,this.Mr.st=t.Rt(s.Vt,s.Vt),this.Mr.V=i.baseLineColor,this.Mr.et=i.baseLineWidth,this.Mr.Nt=i.baseLineStyle)}}class K1 extends qt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}He(){return this.zt}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){const s=this.zt;if(s===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(s.Ze.x*e)+o,a=s.Ze.y*i;t.fillStyle=s.Cr,t.beginPath();const u=Math.max(2,1.5*s.Tr)*e;t.arc(l,a,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.Pr,t.beginPath(),t.arc(l,a,s.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=s.Rr,t.beginPath(),t.arc(l,a,s.ht*e+r/2,0,2*Math.PI,!1),t.stroke()}}const J1=[{Dr:0,Vr:.25,Or:4,Br:10,Ar:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Vr:.525,Or:10,Br:14,Ar:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Vr:1,Or:14,Br:14,Ar:0,Ir:0,zr:0,Lr:0}];function Rc(n,t,e,i){return function(s,r){if(s==="transparent")return s;const o=gs(s),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(n,e+(i-e)*t)}function Nc(n,t){const e=n%2600/2600;let i;for(const a of J1)if(e>=a.Dr&&e<=a.Vr){i=a;break}Je(i!==void 0,"Last price animation internal logic error");const s=(e-i.Dr)/(i.Vr-i.Dr);return{Pr:Rc(t,s,i.Ar,i.Ir),Rr:Rc(t,s,i.zr,i.Lr),ht:(r=s,o=i.Or,l=i.Br,o+(l-o)*r)};var r,o,l}class G1{constructor(t){this.Wt=new K1,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),this.Wr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Fr-t;if(e>0)return void(e<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return this.Wr.W().lastPriceAnimation!==0}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Wr.$t().St(),e=t.Zs(),i=this.Wr.Ct();if(e===null||i===null)return;const s=this.Wr.Yr(!0);if(s.Zr||!e.Xr(s.se))return;const r={x:t.It(s.se),y:this.Wr.Dt().Rt(s._t,i.Vt)},o=s.V,l=this.Wr.W().lineWidth,a=Nc(this.Kr(),o);this.Wt.J({Cr:o,Tr:l,Pr:a.Pr,Rr:a.Rr,ht:a.ht,Ze:r})}qr(){const t=this.Wt.He();if(t!==null){const e=Nc(this.Kr(),t.Cr);t.Pr=e.Pr,t.Rr=e.Rr,t.ht=e.ht}}Kr(){return this.Ur()?performance.now()-this.Nr:2599}}function Ki(n,t){return ym(Math.min(Math.max(n,12),30)*t)}function bs(n,t){switch(n){case"arrowDown":case"arrowUp":return Ki(t,1);case"circle":return Ki(t,.8);case"square":return Ki(t,.7)}}function Em(n){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Ki(n,1))}function Oc(n){return Math.max(Ki(n,.1),3)}function Ic(n,t,e){return t?n:e?Math.ceil(n/2):0}function Pm(n,t,e,i,s){const r=bs("square",e),o=(r-1)/2,l=n-o,a=t-o;return i>=l&&i<=l+r&&s>=a&&s<=a+r}function Dc(n,t,e,i){const s=(bs("arrowUp",i)-1)/2*e.Gr,r=(ym(i/2)-1)/2*e.Gr;t.beginPath(),n?(t.moveTo(e.nt-s,e.st),t.lineTo(e.nt,e.st-s),t.lineTo(e.nt+s,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st+s),t.lineTo(e.nt-r,e.st+s),t.lineTo(e.nt-r,e.st)):(t.moveTo(e.nt-s,e.st),t.lineTo(e.nt,e.st+s),t.lineTo(e.nt+s,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st-s),t.lineTo(e.nt-r,e.st-s),t.lineTo(e.nt-r,e.st)),t.fill()}function X1(n,t,e,i,s,r){return Pm(t,e,i,s,r)}class Z1 extends qt{constructor(){super(...arguments),this.zt=null,this.lr=new _s,this.j=-1,this.H="",this.Jr=""}J(t){this.zt=t}ar(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Jr=ci(t,e),this.lr.ir())}br(t,e){if(this.zt===null||this.zt.tt===null)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const s=this.zt.it[i];if(Y1(s,t,e))return{gr:s.Qr,wr:s.wr}}return null}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:i},s,r){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Jr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Kt!==void 0&&(l.Kt.Hi=this.lr.xi(t,l.Kt.th),l.Kt.At=this.j,l.Kt.nt=l.nt-l.Kt.Hi/2),Q1(l,t,e,i)}}}}function Q1(n,t,e,i){t.fillStyle=n.V,n.Kt!==void 0&&function(s,r,o,l,a,u){s.save(),s.scale(a,u),s.fillText(r,o,l),s.restore()}(t,n.Kt.th,n.Kt.nt,n.Kt.st,e,i),function(s,r,o){if(s.Xs!==0){switch(s.ih){case"arrowDown":return void Dc(!1,r,o,s.Xs);case"arrowUp":return void Dc(!0,r,o,s.Xs);case"circle":return void function(l,a,u){const h=(bs("circle",u)-1)/2;l.beginPath(),l.arc(a.nt,a.st,h*a.Gr,0,2*Math.PI,!1),l.fill()}(r,o,s.Xs);case"square":return void function(l,a,u){const h=bs("square",u),c=(h-1)*a.Gr/2,d=a.nt-c,f=a.st-c;l.fillRect(d,f,h*a.Gr,h*a.Gr)}(r,o,s.Xs)}s.ih}}(n,t,function(s,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(s.nt*r)+l,st:s.st*o,Gr:r}}(n,e,i))}function Y1(n,t,e){return!(n.Kt===void 0||!function(i,s,r,o,l,a){const u=o/2;return l>=i&&l<=i+r&&a>=s-u&&a<=s+u}(n.Kt.nt,n.Kt.st,n.Kt.Hi,n.Kt.At,t,e))||function(i,s,r){if(i.Xs===0)return!1;switch(i.ih){case"arrowDown":case"arrowUp":return X1(0,i.nt,i.st,i.Xs,s,r);case"circle":return function(o,l,a,u,h){const c=2+bs("circle",a)/2,d=o-u,f=l-h;return Math.sqrt(d*d+f*f)<=c}(i.nt,i.st,i.Xs,s,r);case"square":return Pm(i.nt,i.st,i.Xs,s,r)}}(n,t,e)}function q1(n,t,e,i,s,r,o,l,a){const u=re(e)?e:e.xe,h=re(e)?e:e.ge,c=re(e)?e:e.Me,d=re(t.size)?Math.max(t.size,0):1,f=Em(l.he())*d,g=f/2;switch(n.Xs=f,t.position){case"inBar":return n.st=o.Rt(u,a),void(n.Kt!==void 0&&(n.Kt.st=n.st+g+r+.6*s));case"aboveBar":return n.st=o.Rt(h,a)-g-i.nh,n.Kt!==void 0&&(n.Kt.st=n.st-g-.6*s,i.nh+=1.2*s),void(i.nh+=f+r);case"belowBar":return n.st=o.Rt(c,a)+g+i.sh,n.Kt!==void 0&&(n.Kt.st=n.st+g+r+.6*s,i.sh+=1.2*s),void(i.sh+=f+r)}t.position}class tw{constructor(t,e){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new Z1,this.Wr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.rh=!0,t==="data"&&(this.eh=!0,this.ah=null)}gt(t){if(!this.Wr.yt())return null;this.ft&&this.oh();const e=this.$i.W().layout;return this.Wt.ar(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){const t=this.$i.St().he(),e=Oc(t),i=1.5*Em(t)+2*e,s=this.dh();this.hh={above:Ic(i,s.aboveBar,s.inBar),below:Ic(i,s.belowBar,s.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return this.ah===null&&(this.ah=this.Wr.uh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){const t=this.Wr.Dt(),e=this.$i.St(),i=this.Wr.uh();this.eh&&(this.zt.it=i.map(h=>({ot:h.time,nt:0,st:0,Xs:0,ih:h.shape,V:h.color,Qr:h.Qr,wr:h.id,Kt:void 0})),this.eh=!1);const s=this.$i.W().layout;this.zt.tt=null;const r=e.Zs();if(r===null)return;const o=this.Wr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const a=Oc(e.he()),u={nh:a,sh:a};this.zt.tt=km(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const c=i[h];c.time!==l&&(u.nh=a,u.sh=a,l=c.time);const d=this.zt.it[h];d.nt=e.It(c.time),c.text!==void 0&&c.text.length>0&&(d.Kt={th:c.text,nt:0,st:0,Hi:0,At:0});const f=this.Wr.fh(c.time);f!==null&&q1(d,c,f,u,s.fontSize,a,t,e,o.Vt)}this.ft=!1}}class ew extends Wu{constructor(t){super(t)}kr(){const t=this.Mr;t.yt=!1;const e=this.Ls.W();if(!e.priceLineVisible||!this.Ls.yt())return;const i=this.Ls.Yr(e.priceLineSource===0);i.Zr||(t.yt=!0,t.st=i.ki,t.V=this.Ls.ph(i.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class nw extends Co{constructor(t){super(),this.jt=t}zi(t,e,i){t.yt=!1,e.yt=!1;const s=this.jt;if(!s.yt())return;const r=s.W(),o=r.lastValueVisible,l=s.mh()!=="",a=r.seriesLastValueMode===0,u=s.Yr(!1);if(u.Zr)return;o&&(t.Kt=this.bh(u,o,a),t.yt=t.Kt.length!==0),(l||a)&&(e.Kt=this.wh(u,o,l,a),e.yt=e.Kt.length>0);const h=s.ph(u.V),c=ko(h);i.t=c.t,i.ki=u.ki,e.Ot=s.$t().Bt(u.ki/s.Dt().At()),t.Ot=h,t.V=c.i,e.V=c.i}wh(t,e,i,s){let r="";const o=this.jt.mh();return i&&o.length!==0&&(r+=`${o} `),e&&s&&(r+=this.jt.Dt().gh()?t.Mh:t.xh),r.trim()}bh(t,e,i){return e?i?this.jt.Dt().gh()?t.xh:t.Mh:t.Kt:""}}function Ac(n,t,e,i){const s=Number.isFinite(t),r=Number.isFinite(e);return s&&r?n(t,e):s||r?s?t:e:i}class Tt{constructor(t,e){this.Sh=t,this.kh=e}yh(t){return t!==null&&this.Sh===t.Sh&&this.kh===t.kh}Ch(){return new Tt(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(t){return t===null?this:new Tt(Ac(Math.min,this.Th(),t.Th(),-1/0),Ac(Math.max,this.Ph(),t.Ph(),1/0))}Dh(t){if(!re(t)||this.kh-this.Sh===0)return;const e=.5*(this.kh+this.Sh);let i=this.kh-e,s=this.Sh-e;i*=t,s*=t,this.kh=e+i,this.Sh=e+s}Vh(t){re(t)&&(this.kh+=t,this.Sh+=t)}Oh(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(t){return t===null?null:new Tt(t.minValue,t.maxValue)}}class eo{constructor(t,e){this.Ah=t,this.Ih=e||null}zh(){return this.Ah}Lh(){return this.Ih}Oh(){return this.Ah===null?null:{priceRange:this.Ah.Oh(),margins:this.Ih||void 0}}static Bh(t){return t===null?null:new eo(Tt.Bh(t.priceRange),t.margins)}}class iw extends Wu{constructor(t,e){super(t),this.Eh=e}kr(){const t=this.Mr;t.yt=!1;const e=this.Eh.W();if(!this.Ls.yt()||!e.lineVisible)return;const i=this.Eh.Nh();i!==null&&(t.yt=!0,t.st=i,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.wr=this.Eh.W().id)}}class sw extends Co{constructor(t,e){super(),this.Wr=t,this.Eh=e}zi(t,e,i){t.yt=!1,e.yt=!1;const s=this.Eh.W(),r=s.axisLabelVisible,o=s.title!=="",l=this.Wr;if(!r||!l.yt())return;const a=this.Eh.Nh();if(a===null)return;o&&(e.Kt=s.title,e.yt=!0),e.Ot=l.$t().Bt(a/l.Dt().At()),t.Kt=this.Fh(s.price),t.yt=!0;const u=ko(s.axisLabelColor||s.color);i.t=u.t;const h=s.axisLabelTextColor||u.i;t.V=h,e.V=h,i.ki=a}Fh(t){const e=this.Wr.Ct();return e===null?"":this.Wr.Dt().Fi(t,e.Vt)}}class rw{constructor(t,e){this.Wr=t,this.cn=e,this.Wh=new iw(t,this),this._r=new sw(t,this),this.jh=new Cm(this._r,t,t.$t())}Hh(t){Yt(this.cn,t),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){const t=this.Wr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const i=t.Ct();return i===null?null:e.Rt(this.cn.price,i.Vt)}}class ow extends Uu{constructor(t){super(),this.$i=t}$t(){return this.$i}}const lw={Bar:(n,t,e,i)=>{var s;const r=t.upColor,o=t.downColor,l=C(n(e,i)),a=Gn(l.Vt[0])<=Gn(l.Vt[3]);return{ue:(s=l.V)!==null&&s!==void 0?s:a?r:o}},Candlestick:(n,t,e,i)=>{var s,r,o;const l=t.upColor,a=t.downColor,u=t.borderUpColor,h=t.borderDownColor,c=t.wickUpColor,d=t.wickDownColor,f=C(n(e,i)),g=Gn(f.Vt[0])<=Gn(f.Vt[3]);return{ue:(s=f.V)!==null&&s!==void 0?s:g?l:a,Ee:(r=f.Ot)!==null&&r!==void 0?r:g?u:h,Le:(o=f.Zh)!==null&&o!==void 0?o:g?c:d}},Custom:(n,t,e,i)=>{var s;return{ue:(s=C(n(e,i)).V)!==null&&s!==void 0?s:t.color}},Area:(n,t,e,i)=>{var s,r,o,l;const a=C(n(e,i));return{ue:(s=a.lt)!==null&&s!==void 0?s:t.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:t.lineColor,Ts:(o=a.Ts)!==null&&o!==void 0?o:t.topColor,Ps:(l=a.Ps)!==null&&l!==void 0?l:t.bottomColor}},Baseline:(n,t,e,i)=>{var s,r,o,l,a,u;const h=C(n(e,i));return{ue:h.Vt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Pe:(s=h.Pe)!==null&&s!==void 0?s:t.topLineColor,Re:(r=h.Re)!==null&&r!==void 0?r:t.bottomLineColor,Se:(o=h.Se)!==null&&o!==void 0?o:t.topFillColor1,ke:(l=h.ke)!==null&&l!==void 0?l:t.topFillColor2,ye:(a=h.ye)!==null&&a!==void 0?a:t.bottomFillColor1,Ce:(u=h.Ce)!==null&&u!==void 0?u:t.bottomFillColor2}},Line:(n,t,e,i)=>{var s,r;const o=C(n(e,i));return{ue:(s=o.V)!==null&&s!==void 0?s:t.color,lt:(r=o.V)!==null&&r!==void 0?r:t.color}},Histogram:(n,t,e,i)=>{var s;return{ue:(s=C(n(e,i)).V)!==null&&s!==void 0?s:t.color}}};class aw{constructor(t){this.Xh=(e,i)=>i!==void 0?i.Vt:this.Wr.In().Kh(e),this.Wr=t,this.Gh=lw[t.Jh()]}Hs(t,e){return this.Gh(this.Xh,this.Wr.W(),t,e)}}var Vc;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(Vc||(Vc={}));const xe=30;class uw{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Xs()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Xs()>0?this.el(0):null}An(){return this.Xs()>0?this.el(this.Qh.length-1):null}Xs(){return this.Qh.length}Ni(){return this.Xs()===0}Xr(t){return this.rl(t,0)!==null}Kh(t){return this.hl(t)}hl(t,e=0){const i=this.rl(t,e);return i===null?null:Object.assign(Object.assign({},this.ll(i)),{se:this.el(i)})}ie(){return this.Qh}al(t,e,i){if(this.Ni())return null;let s=null;for(const r of i)s=nr(s,this.ol(t,e,r));return s}J(t){this.il.clear(),this.tl.clear(),this.Qh=t}el(t){return this.Qh[t].se}ll(t){return this.Qh[t]}rl(t,e){const i=this._l(t);if(i===null&&e!==0)switch(e){case-1:return this.ul(t);case 1:return this.cl(t);default:throw new TypeError("Unknown search mode")}return i}ul(t){let e=this.dl(t);return e>0&&(e-=1),e!==this.Qh.length&&this.el(e)<t?e:null}cl(t){const e=this.fl(t);return e!==this.Qh.length&&t<this.el(e)?e:null}_l(t){const e=this.dl(t);return e===this.Qh.length||t<this.Qh[e].se?null:e}dl(t){return js(this.Qh,t,(e,i)=>e.se<i)}fl(t){return Sm(this.Qh,t,(e,i)=>e.se>i)}vl(t,e,i){let s=null;for(let r=t;r<e;r++){const o=this.Qh[r].Vt[i];Number.isNaN(o)||(s===null?s={pl:o,ml:o}:(o<s.pl&&(s.pl=o),o>s.ml&&(s.ml=o)))}return s}ol(t,e,i){if(this.Ni())return null;let s=null;const r=C(this.sl()),o=C(this.An()),l=Math.max(t,r),a=Math.min(e,o),u=Math.ceil(l/xe)*xe,h=Math.max(u,Math.floor(a/xe)*xe);{const d=this.dl(l),f=this.fl(Math.min(a,u,e));s=nr(s,this.vl(d,f,i))}let c=this.tl.get(i);c===void 0&&(c=new Map,this.tl.set(i,c));for(let d=Math.max(u+1,l);d<h;d+=xe){const f=Math.floor(d/xe);let g=c.get(f);if(g===void 0){const v=this.dl(f*xe),_=this.fl((f+1)*xe-1);g=this.vl(v,_,i),c.set(f,g)}s=nr(s,g)}{const d=this.dl(h),f=this.fl(a);s=nr(s,this.vl(d,f,i))}return s}}function nr(n,t){return n===null?t:t===null?n:{pl:Math.min(n.pl,t.pl),ml:Math.max(n.ml,t.ml)}}class hw{constructor(t){this.bl=t}X(t,e,i){this.bl.draw(t)}wl(t,e,i){var s,r;(r=(s=this.bl).drawBackground)===null||r===void 0||r.call(s,t)}}class dl{constructor(t){this.Qe=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(e===null)return null;if(((t=this.Qe)===null||t===void 0?void 0:t.gl)===e)return this.Qe.Ml;const i=new hw(e);return this.Qe={gl:e,Ml:i},i}xl(){var t,e,i;return(i=(e=(t=this.wn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&i!==void 0?i:"normal"}}function Tm(n){var t,e,i,s,r;return{Kt:n.text(),ki:n.coordinate(),Si:(t=n.fixedCoordinate)===null||t===void 0?void 0:t.call(n),V:n.textColor(),t:n.backColor(),yt:(i=(e=n.visible)===null||e===void 0?void 0:e.call(n))===null||i===void 0||i,hi:(r=(s=n.tickVisible)===null||s===void 0?void 0:s.call(n))===null||r===void 0||r}}class cw{constructor(t,e){this.Wt=new pm,this.Sl=t,this.kl=e}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},Tm(this.Sl))),this.Wt}}class dw extends Co{constructor(t,e){super(),this.Sl=t,this.Li=e}zi(t,e,i){const s=Tm(this.Sl);i.t=s.t,t.V=s.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=s.ki,i.Si=s.Si,t.Kt=s.Kt,t.yt=s.yt,t.hi=s.hi}}class fw{constructor(t,e){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=t,this.Wr=e}Vl(){return this.Dl}Vn(){var t,e;(e=(t=this.Dl).updateAllViews)===null||e===void 0||e.call(t)}Pn(){var t,e,i,s;const r=(i=(e=(t=this.Dl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&i!==void 0?i:[];if(((s=this.yl)===null||s===void 0?void 0:s.gl)===r)return this.yl.Ml;const o=r.map(l=>new dl(l));return this.yl={gl:r,Ml:o},o}Qi(){var t,e,i,s;const r=(i=(e=(t=this.Dl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&i!==void 0?i:[];if(((s=this.Cl)===null||s===void 0?void 0:s.gl)===r)return this.Cl.Ml;const o=this.Wr.$t().St(),l=r.map(a=>new cw(a,o));return this.Cl={gl:r,Ml:l},l}Rn(){var t,e,i,s;const r=(i=(e=(t=this.Dl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&i!==void 0?i:[];if(((s=this.Tl)===null||s===void 0?void 0:s.gl)===r)return this.Tl.Ml;const o=this.Wr.Dt(),l=r.map(a=>new dw(a,o));return this.Tl={gl:r,Ml:l},l}Ol(){var t,e,i,s;const r=(i=(e=(t=this.Dl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&i!==void 0?i:[];if(((s=this.Pl)===null||s===void 0?void 0:s.gl)===r)return this.Pl.Ml;const o=r.map(l=>new dl(l));return this.Pl={gl:r,Ml:o},o}Bl(){var t,e,i,s;const r=(i=(e=(t=this.Dl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&i!==void 0?i:[];if(((s=this.Rl)===null||s===void 0?void 0:s.gl)===r)return this.Rl.Ml;const o=r.map(l=>new dl(l));return this.Rl={gl:r,Ml:o},o}Al(t,e){var i,s,r;return(r=(s=(i=this.Dl).autoscaleInfo)===null||s===void 0?void 0:s.call(i,t,e))!==null&&r!==void 0?r:null}br(t,e){var i,s,r;return(r=(s=(i=this.Dl).hitTest)===null||s===void 0?void 0:s.call(i,t,e))!==null&&r!==void 0?r:null}}function fl(n,t,e,i){n.forEach(s=>{t(s).forEach(r=>{r.xl()===e&&i.push(r)})})}function pl(n){return n.Pn()}function pw(n){return n.Ol()}function mw(n){return n.Bl()}class Hu extends ow{constructor(t,e,i,s,r){super(t),this.zt=new uw,this.Wh=new ew(this),this.Il=[],this.zl=new H1(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=e,this.Hl=i;const o=new nw(this);this.rn=[o],this.jh=new Cm(o,this,t),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.Ll=new G1(this)),this.$l(),this.Ul(r)}S(){this.Wl!==null&&clearTimeout(this.Wl)}ph(t){return this.cn.priceLineColor||t}Yr(t){const e={Zr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return e;const s=this.$t().St().Zs(),r=this.Ct();if(s===null||r===null)return e;let o,l;if(t){const c=this.zt.nl();if(c===null)return e;o=c,l=c.se}else{const c=this.zt.hl(s.ui(),-1);if(c===null||(o=this.zt.Kh(c.se),o===null))return e;l=c.se}const a=o.Vt[3],u=this.$s().Hs(l,{Vt:o}),h=i.Rt(a,r.Vt);return{Zr:!1,_t:a,Kt:i.Fi(a,r.Vt),Mh:i.ql(a),xh:i.Yl(a,r.Vt),V:u.ue,ki:h,se:l}}$s(){return this.El!==null||(this.El=new aw(this)),this.El}W(){return this.cn}Hh(t){const e=t.priceScaleId;e!==void 0&&e!==this.cn.priceScaleId&&this.$t().Zl(this,e),Yt(this.cn,t),t.priceFormat!==void 0&&(this.$l(),this.$t().Xl()),this.$t().Kl(this),this.$t().Gl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Jl(),this.wn.bt("data"),this.dn.bt("data"),this.Ll!==null&&(e&&e.Ql?this.Ll.Hr():t.length===0&&this.Ll.jr());const i=this.$t().cr(this);this.$t().ta(i),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}ia(t){this.Nl=t,this.Jl();const e=this.$t().cr(this);this.dn.bt("data"),this.$t().ta(e),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(t){const e=new rw(this,t);return this.Il.push(e),this.$t().Kl(this),e}ea(t){const e=this.Il.indexOf(t);e!==-1&&this.Il.splice(e,1),this.$t().Kl(this)}Jh(){return this.Hl}Ct(){const t=this.ra();return t===null?null:{Vt:t.Vt[3],ha:t.ot}}ra(){const t=this.$t().St().Zs();if(t===null)return null;const e=t.Vs();return this.zt.hl(e,1)}In(){return this.zt}fh(t){const e=this.zt.Kh(t);return e===null?null:this.Hl==="Bar"||this.Hl==="Candlestick"||this.Hl==="Custom"?{we:e.Vt[0],ge:e.Vt[1],Me:e.Vt[2],xe:e.Vt[3]}:e.Vt[3]}la(t){const e=[];fl(this.jl,pl,"top",e);const i=this.Ll;return i!==null&&i.yt()&&(this.Wl===null&&i.Ur()&&(this.Wl=setTimeout(()=>{this.Wl=null,this.$t().aa()},0)),i.$r(),e.unshift(i)),e}Pn(){const t=[];this.oa()||t.push(this.zl),t.push(this.wn,this.Wh,this.dn);const e=this.Il.map(i=>i.Uh());return t.push(...e),fl(this.jl,pl,"normal",t),t}_a(){return this.ua(pl,"bottom")}ca(t){return this.ua(pw,t)}da(t){return this.ua(mw,t)}fa(t,e){return this.jl.map(i=>i.br(t,e)).filter(i=>i!==null)}Ji(t){return[this.jh,...this.Il.map(e=>e.qh())]}Rn(t,e){if(e!==this.Yi&&!this.oa())return[];const i=[...this.rn];for(const s of this.Il)i.push(s.Yh());return this.jl.forEach(s=>{i.push(...s.Rn())}),i}Qi(){const t=[];return this.jl.forEach(e=>{t.push(...e.Qi())}),t}Al(t,e){if(this.cn.autoscaleInfoProvider!==void 0){const i=this.cn.autoscaleInfoProvider(()=>{const s=this.va(t,e);return s===null?null:s.Oh()});return eo.Bh(i)}return this.va(t,e)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}Vn(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.Il)e.bt();this.Wh.bt(),this.zl.bt(),(t=this.Ll)===null||t===void 0||t.bt(),this.jl.forEach(e=>e.Vn())}Dt(){return C(super.Dt())}kt(t){if(!((this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const e=this.zt.Kh(t);return e===null?null:{_t:e.Vt[3],ht:this.wa(),Ot:this.ga(),Pt:this.Ma(),Tt:this.xa(t)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(t){this.jl.push(new fw(t,this))}ka(t){this.jl=this.jl.filter(e=>e.Vl()!==t)}ya(){if(this.wn instanceof cl)return t=>this.wn.Fe(t)}Ca(){if(this.wn instanceof cl)return t=>this.wn.We(t)}oa(){return!Eo(this.Dt().Ta())}va(t,e){if(!ys(t)||!ys(e)||this.zt.Ni())return null;const i=this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline"||this.Hl==="Histogram"?[3]:[2,1],s=this.zt.al(t,e,i);let r=s!==null?new Tt(s.pl,s.ml):null;if(this.Jh()==="Histogram"){const l=this.cn.base,a=new Tt(l,l);r=r!==null?r.ts(a):a}let o=this.dn._h();return this.jl.forEach(l=>{const a=l.Al(t,e);if(a!=null&&a.priceRange){const f=new Tt(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(f):f}var u,h,c,d;a!=null&&a.margins&&(u=o,h=a.margins,o={above:Math.max((c=u==null?void 0:u.above)!==null&&c!==void 0?c:0,h.above),below:Math.max((d=u==null?void 0:u.below)!==null&&d!==void 0?d:0,h.below)})}),new eo(r,o)}wa(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}Ma(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}xa(t){switch(this.Hl){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.$s().Hs(t).ue}$l(){switch(this.cn.priceFormat.type){case"custom":this.ba={format:this.cn.priceFormat.formatter};break;case"volume":this.ba=new S1(this.cn.priceFormat.precision);break;case"percent":this.ba=new mm(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.ba=new Po(t,this.cn.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.Pa()}Jl(){const t=this.$t().St();if(!t.Ra()||this.zt.Ni())return void(this.Fl=[]);const e=C(this.zt.sl());this.Fl=this.Nl.map((i,s)=>{const r=C(t.Da(i.time,!0)),o=r<e?1:-1;return{time:C(this.zt.hl(r,o)).se,position:i.position,shape:i.shape,color:i.color,id:i.id,Qr:s,text:i.text,size:i.size,originalTime:i.originalTime}})}Ul(t){switch(this.dn=new tw(this,this.$t()),this.Hl){case"Bar":this.wn=new j1(this,this.$t());break;case"Candlestick":this.wn=new O1(this,this.$t());break;case"Line":this.wn=new U1(this,this.$t());break;case"Custom":this.wn=new cl(this,this.$t(),gt(t));break;case"Area":this.wn=new L1(this,this.$t());break;case"Baseline":this.wn=new R1(this,this.$t());break;case"Histogram":this.wn=new V1(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Hl)}}ua(t,e){const i=[];return fl(this.jl,t,e,i),i}}class vw{constructor(t){this.cn=t}Va(t,e,i){let s=t;if(this.cn.mode===0)return s;const r=i.vn(),o=r.Ct();if(o===null)return s;const l=r.Rt(t,o),a=i.Oa().filter(h=>h instanceof Hu).reduce((h,c)=>{if(i.dr(c)||!c.yt())return h;const d=c.Dt(),f=c.In();if(d.Ni()||!f.Xr(e))return h;const g=f.Kh(e);if(g===null)return h;const v=Gn(c.Ct());return h.concat([d.Rt(g.Vt[3],v.Vt)])},[]);if(a.length===0)return s;a.sort((h,c)=>Math.abs(h-l)-Math.abs(c-l));const u=a[0];return s=r.pn(u,o),s}}class gw extends qt{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=Math.max(1,Math.floor(i));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=C(this.zt);if(o.Ba){t.strokeStyle=o.Aa,bn(t,o.Ia),t.beginPath();for(const l of o.za){const a=Math.round(l.La*i);t.moveTo(a,-r),t.lineTo(a,e.height+r)}t.stroke()}if(o.Ea){t.strokeStyle=o.Na,bn(t,o.Fa),t.beginPath();for(const l of o.Wa){const a=Math.round(l.La*s);t.moveTo(-r,a),t.lineTo(e.width+r,a)}t.stroke()}})}}class yw{constructor(t){this.Wt=new gw,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Ea:t.horzLines.visible,Ba:t.vertLines.visible,Na:t.horzLines.color,Aa:t.vertLines.color,Fa:t.horzLines.style,Ia:t.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map(i=>({La:i.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class ww{constructor(t){this.wn=new yw(t)}Uh(){return this.wn}}const ml={Ha:4,$a:1e-4};function Xn(n,t){const e=100*(n-t)/t;return t<0?-e:e}function _w(n,t){const e=Xn(n.Th(),t),i=Xn(n.Ph(),t);return new Tt(e,i)}function Ji(n,t){const e=100*(n-t)/t+100;return t<0?-e:e}function bw(n,t){const e=Ji(n.Th(),t),i=Ji(n.Ph(),t);return new Tt(e,i)}function no(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.log10(e+t.$a)+t.Ha;return n<0?-i:i}function Gi(n,t){const e=Math.abs(n);if(e<1e-15)return 0;const i=Math.pow(10,e-t.Ha)-t.$a;return n<0?-i:i}function Li(n,t){if(n===null)return null;const e=no(n.Th(),t),i=no(n.Ph(),t);return new Tt(e,i)}function ir(n,t){if(n===null)return null;const e=Gi(n.Th(),t),i=Gi(n.Ph(),t);return new Tt(e,i)}function vl(n){if(n===null)return ml;const t=Math.abs(n.Ph()-n.Th());if(t>=1||t<1e-15)return ml;const e=Math.ceil(Math.abs(Math.log10(t))),i=ml.Ha+e;return{Ha:i,$a:1/Math.pow(10,i)}}class gl{constructor(t,e){if(this.Ua=t,this.qa=e,function(i){if(i<0)return!1;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let i=this.Ua;i!==1;){if(i%2==0)this.Ya.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Ya.push(2,2.5),i/=5}if(this.Ya.length>100)throw new Error("something wrong with base")}}}Za(t,e,i){const s=this.Ua===0?0:1/this.Ua;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.qa[0];for(;;){const c=er(r,s,1e-14)&&r>s+1e-14,d=er(r,i*l,1e-14),f=er(r,1,1e-14);if(!(c&&d&&f))break;r/=l,l=this.qa[++o%this.qa.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Ya.length>0&&(a=r,u=1,h=1e-14,Math.abs(a-u)<h))for(o=0,l=this.Ya[0];er(r,i*l,1e-14)&&r>s+1e-14;)r/=l,l=this.Ya[++o%this.Ya.length];var a,u,h;return r}}class Uc{constructor(t,e,i,s){this.Xa=[],this.Li=t,this.Ua=e,this.Ka=i,this.Ga=s}Za(t,e){if(t<e)throw new Error("high < low");const i=this.Li.At(),s=(t-e)*this.Ja()/i,r=new gl(this.Ua,[2,2.5,2]),o=new gl(this.Ua,[2,2,2.5]),l=new gl(this.Ua,[2.5,2,2]),a=[];return a.push(r.Za(t,e,s),o.Za(t,e,s),l.Za(t,e,s)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let c=1;c<u.length;++c)u[c]<h&&(h=u[c]);return h}(a)}Qa(){const t=this.Li,e=t.Ct();if(e===null)return void(this.Xa=[]);const i=t.At(),s=this.Ka(i-1,e),r=this.Ka(0,e),o=this.Li.W().entireTextOnly?this.io()/2:0,l=o,a=i-1-o,u=Math.max(s,r),h=Math.min(s,r);if(u===h)return void(this.Xa=[]);let c=this.Za(u,h),d=u%c;d+=d<0?c:0;const f=u>=h?1:-1;let g=null,v=0;for(let _=u-d;_>h;_-=c){const m=this.Ga(_,e,!0);g!==null&&Math.abs(m-g)<this.Ja()||m<l||m>a||(v<this.Xa.length?(this.Xa[v].La=m,this.Xa[v].no=t.so(_)):this.Xa.push({La:m,no:t.so(_)}),v++,g=m,t.eo()&&(c=this.Za(_*f,h)))}this.Xa.length=v}ja(){return this.Xa}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}}function Lm(n){return n.slice().sort((t,e)=>C(t.Xi())-C(e.Xi()))}var Fc;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(Fc||(Fc={}));const Bc=new mm,Wc=new Po(100,1);class Sw{constructor(t,e,i,s){this.ro=0,this.ho=null,this.Ah=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new Y,this.fo=new Y,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=Wc,this.Mo=vl(null),this.xo=t,this.cn=e,this.So=i,this.ko=s,this.yo=new Uc(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(t){if(Yt(this.cn,t),this.Pa(),t.mode!==void 0&&this.Po({yr:t.mode}),t.scaleMargins!==void 0){const e=gt(t.scaleMargins.top),i=gt(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return this.cn.mode===1}gh(){return this.cn.mode===2}Vo(){return this.cn.mode===3}yr(){return{Wn:this.cn.autoScale,Oo:this.cn.invertScale,yr:this.cn.mode}}Po(t){const e=this.yr();let i=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.yr!==void 0&&(this.cn.mode=t.yr,t.yr!==2&&t.yr!==3||(this.cn.autoScale=!0),this.ao.oo=!1),e.yr===1&&t.yr!==e.yr&&(function(r,o){if(r===null)return!1;const l=Gi(r.Th(),o),a=Gi(r.Ph(),o);return isFinite(l)&&isFinite(a)}(this.Ah,this.Mo)?(i=ir(this.Ah,this.Mo),i!==null&&this.Bo(i)):this.cn.autoScale=!0),t.yr===1&&t.yr!==e.yr&&(i=Li(this.Ah,this.Mo),i!==null&&this.Bo(i));const s=e.yr!==this.cn.mode;s&&(e.yr===2||this.gh())&&this.Pa(),s&&(e.yr===3||this.Vo())&&this.Pa(),t.Oo!==void 0&&e.Oo!==t.Oo&&(this.cn.invertScale=t.Oo,this.Ao()),this.fo.m(e,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}At(){return this.ro}zo(t){this.ro!==t&&(this.ro=t,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;const t=this.At()-this.Eo()-this.No();return this.ho=t,t}zh(){return this.Fo(),this.Ah}Bo(t,e){const i=this.Ah;(e||i===null&&t!==null||i!==null&&!i.yh(t))&&(this.mo=null,this.Ah=t)}Ni(){return this.Fo(),this.ro===0||!this.Ah||this.Ah.Ni()}Wo(t){return this.Oo()?t:this.At()-1-t}Rt(t,e){return this.gh()?t=Xn(t,e):this.Vo()&&(t=Ji(t,e)),this.To(t,e)}Qs(t,e,i){this.Fo();const s=this.No(),r=C(this.zh()),o=r.Th(),l=r.Ph(),a=this.Lo()-1,u=this.Oo(),h=a/(l-o),c=i===void 0?0:i.from,d=i===void 0?t.length:i.to,f=this.jo();for(let g=c;g<d;g++){const v=t[g],_=v._t;if(isNaN(_))continue;let m=_;f!==null&&(m=f(v._t,e));const p=s+h*(m-o),y=u?p:this.ro-1-p;v.st=y}}me(t,e,i){this.Fo();const s=this.No(),r=C(this.zh()),o=r.Th(),l=r.Ph(),a=this.Lo()-1,u=this.Oo(),h=a/(l-o),c=i===void 0?0:i.from,d=i===void 0?t.length:i.to,f=this.jo();for(let g=c;g<d;g++){const v=t[g];let _=v.we,m=v.ge,p=v.Me,y=v.xe;f!==null&&(_=f(v.we,e),m=f(v.ge,e),p=f(v.Me,e),y=f(v.xe,e));let b=s+h*(_-o),S=u?b:this.ro-1-b;v.ve=S,b=s+h*(m-o),S=u?b:this.ro-1-b,v.ce=S,b=s+h*(p-o),S=u?b:this.ro-1-b,v.de=S,b=s+h*(y-o),S=u?b:this.ro-1-b,v.pe=S}}pn(t,e){const i=this.Co(t,e);return this.Ho(i,e)}Ho(t,e){let i=t;return this.gh()?i=function(s,r){return r<0&&(s=-s),s/100*r+r}(i,e):this.Vo()&&(i=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(i,e)),i}Oa(){return this.vo}$o(){if(this.po)return this.po;let t=[];for(let e=0;e<this.vo.length;e++){const i=this.vo[e];i.Xi()===null&&i.Ki(e+1),t.push(i)}return t=Lm(t),this.po=t,this.po}Uo(t){this.vo.indexOf(t)===-1&&(this.vo.push(t),this.Pa(),this.qo())}Yo(t){const e=this.vo.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.vo.splice(e,1),this.vo.length===0&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let t=null;for(const e of this.vo){const i=e.Ct();i!==null&&(t===null||i.ha<t.ha)&&(t=i)}return t===null?null:t.Vt}Oo(){return this.cn.invertScale}ja(){const t=this.Ct()===null;if(this.mo!==null&&(t||this.mo.Zo===t))return this.mo.ja;this.yo.Qa();const e=this.yo.ja();return this.mo={ja:e,Zo:t},this.do.m(),e}Xo(){return this.do}Ko(t){this.gh()||this.Vo()||this.bo===null&&this.lo===null&&(this.Ni()||(this.bo=this.ro-t,this.lo=C(this.zh()).Ch()))}Go(t){if(this.gh()||this.Vo()||this.bo===null)return;this.Po({Wn:!1}),(t=this.ro-t)<0&&(t=0);let e=(this.bo+.2*(this.ro-1))/(t+.2*(this.ro-1));const i=C(this.lo).Ch();e=Math.max(e,.1),i.Dh(e),this.Bo(i)}Jo(){this.gh()||this.Vo()||(this.bo=null,this.lo=null)}Qo(t){this.Do()||this.wo===null&&this.lo===null&&(this.Ni()||(this.wo=t,this.lo=C(this.zh()).Ch()))}t_(t){if(this.Do()||this.wo===null)return;const e=C(this.zh()).Rh()/(this.Lo()-1);let i=t-this.wo;this.Oo()&&(i*=-1);const s=i*e,r=C(this.lo).Ch();r.Vh(s),this.Bo(r,!0),this.mo=null}i_(){this.Do()||this.wo!==null&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(t,e){switch(this.cn.mode){case 2:return this.n_(Xn(t,e));case 3:return this.ma().format(Ji(t,e));default:return this.Fh(t)}}so(t){switch(this.cn.mode){case 2:return this.n_(t);case 3:return this.ma().format(t);default:return this.Fh(t)}}ql(t){return this.Fh(t,C(this.s_()).ma())}Yl(t,e){return t=Xn(t,e),this.n_(t,Bc)}e_(){return this.vo}r_(t){this.ao={_o:t,oo:!1}}Vn(){this.vo.forEach(t=>t.Vn())}Pa(){this.mo=null;const t=this.s_();let e=100;t!==null&&(e=Math.round(1/t.pa())),this.ba=Wc,this.gh()?(this.ba=Bc,e=100):this.Vo()?(this.ba=new Po(100,1),e=100):t!==null&&(this.ba=t.ma()),this.yo=new Uc(this,e,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Oo()?this.cn.scaleMargins.bottom*this.At()+this.co:this.cn.scaleMargins.top*this.At()+this.uo}No(){return this.Oo()?this.cn.scaleMargins.top*this.At()+this.uo:this.cn.scaleMargins.bottom*this.At()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(t,e){if(this.Fo(),this.Ni())return 0;t=this.eo()&&t?no(t,this.Mo):t;const i=C(this.zh()),s=this.No()+(this.Lo()-1)*(t-i.Th())/i.Rh();return this.Wo(s)}Co(t,e){if(this.Fo(),this.Ni())return 0;const i=this.Wo(t),s=C(this.zh()),r=s.Th()+s.Rh()*((i-this.No())/(this.Lo()-1));return this.eo()?Gi(r,this.Mo):r}Ao(){this.mo=null,this.yo.Qa()}h_(){const t=this.ao._o;if(t===null)return;let e=null;const i=this.e_();let s=0,r=0;for(const a of i){if(!a.yt())continue;const u=a.Ct();if(u===null)continue;const h=a.Al(t.Vs(),t.ui());let c=h&&h.zh();if(c!==null){switch(this.cn.mode){case 1:c=Li(c,this.Mo);break;case 2:c=_w(c,u.Vt);break;case 3:c=bw(c,u.Vt)}if(e=e===null?c:e.ts(C(c)),h!==null){const d=h.Lh();d!==null&&(s=Math.max(s,d.above),r=Math.max(r,d.below))}}}if(s===this.uo&&r===this.co||(this.uo=s,this.co=r,this.mo=null,this.Ro()),e!==null){if(e.Th()===e.Ph()){const a=this.s_(),u=5*(a===null||this.gh()||this.Vo()?1:a.pa());this.eo()&&(e=ir(e,this.Mo)),e=new Tt(e.Th()-u,e.Ph()+u),this.eo()&&(e=Li(e,this.Mo))}if(this.eo()){const a=ir(e,this.Mo),u=vl(a);if(o=u,l=this.Mo,o.Ha!==l.Ha||o.$a!==l.$a){const h=this.lo!==null?ir(this.lo,this.Mo):null;this.Mo=u,e=Li(a,u),h!==null&&(this.lo=Li(h,u))}}this.Bo(e)}else this.Ah===null&&(this.Bo(new Tt(-.5,.5)),this.Mo=vl(null));var o,l;this.ao.oo=!0}jo(){return this.gh()?Xn:this.Vo()?Ji:this.eo()?t=>no(t,this.Mo):null}l_(t,e,i){return e===void 0?(i===void 0&&(i=this.ma()),i.format(t)):e(t)}Fh(t,e){return this.l_(t,this.ko.priceFormatter,e)}n_(t,e){return this.l_(t,this.ko.percentageFormatter,e)}}class kw{constructor(t,e){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new Y,this.kl=t,this.$i=e,this.c_=new ww(this);const i=e.W();this.d_=this.f_("left",i.leftPriceScale),this.v_=this.f_("right",i.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(i)}m_(t){if(t.leftPriceScale&&this.d_.Hh(t.leftPriceScale),t.rightPriceScale&&this.v_.Hh(t.rightPriceScale),t.localization&&(this.d_.Pa(),this.v_.Pa()),t.overlayPriceScales){const e=Array.from(this.a_.values());for(const i of e){const s=C(i[0].Dt());s.Hh(t.overlayPriceScales),t.localization&&s.Pa()}}}b_(t){switch(t){case"left":return this.d_;case"right":return this.v_}return this.a_.has(t)?gt(this.a_.get(t))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach(t=>{t.S&&t.S()}),this.u_.m()}g_(){return this.__}M_(t){this.__=t}$t(){return this.$i}Hi(){return this.o_}At(){return this.ro}x_(t){this.o_=t,this.S_()}zo(t){this.ro=t,this.d_.zo(t),this.v_.zo(t),this.vo.forEach(e=>{if(this.dr(e)){const i=e.Dt();i!==null&&i.zo(t)}}),this.S_()}Oa(){return this.vo}dr(t){const e=t.Dt();return e===null||this.d_!==e&&this.v_!==e}Uo(t,e,i){const s=i!==void 0?i:this.y_().k_+1;this.C_(t,e,s)}Yo(t){const e=this.vo.indexOf(t);Je(e!==-1,"removeDataSource: invalid data source"),this.vo.splice(e,1);const i=C(t.Dt()).Ta();if(this.a_.has(i)){const r=gt(this.a_.get(i)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.a_.delete(i))}const s=t.Dt();s&&s.Oa().indexOf(t)>=0&&s.Yo(t),s!==null&&(s.qo(),this.T_(s)),this.po=null}pr(t){return t===this.d_?"left":t===this.v_?"right":"overlay"}P_(){return this.d_}R_(){return this.v_}D_(t,e){t.Ko(e)}V_(t,e){t.Go(e),this.S_()}O_(t){t.Jo()}B_(t,e){t.Qo(e)}A_(t,e){t.t_(e),this.S_()}I_(t){t.i_()}S_(){this.vo.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&this.v_.Oa().length!==0?t=this.v_:this.$i.W().leftPriceScale.visible&&this.d_.Oa().length!==0?t=this.d_:this.vo.length!==0&&(t=this.vo[0].Dt()),t===null&&(t=this.v_),t}vr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.v_:this.$i.W().leftPriceScale.visible&&(t=this.d_),t}T_(t){t!==null&&t.Do()&&this.z_(t)}L_(t){const e=this.kl.Zs();t.Po({Wn:!0}),e!==null&&t.r_(e),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach(t=>{this.dr(t)&&this.T_(t.Dt())}),this.S_(),this.$i.$h()}$o(){return this.po===null&&(this.po=Lm(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(t){const e=t.e_();if(e&&e.length>0&&!this.kl.Ni()){const i=this.kl.Zs();i!==null&&t.r_(i)}t.Vn()}y_(){const t=this.$o();if(t.length===0)return{j_:0,k_:0};let e=0,i=0;for(let s=0;s<t.length;s++){const r=t[s].Xi();r!==null&&(r<e&&(e=r),r>i&&(i=r))}return{j_:e,k_:i}}C_(t,e,i){let s=this.b_(e);if(s===null&&(s=this.f_(e,this.$i.W().overlayPriceScales)),this.vo.push(t),!Eo(e)){const r=this.a_.get(e)||[];r.push(t),this.a_.set(e,r)}s.Uo(t),t.Gi(s),t.Ki(i),this.T_(s),this.po=null}p_(t,e,i){e.yr!==i.yr&&this.z_(t)}f_(t,e){const i=Object.assign({visible:!0,autoScale:!0},fe(e)),s=new Sw(t,i,this.$i.W().layout,this.$i.W().localization);return s.zo(this.At()),s}}class xw{constructor(t,e,i=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=t,this.U_=e,this.tr=i}q_(t){const e=t.time,i=this.U_.cacheKey(e),s=this.Qe.get(i);if(s!==void 0)return s.Y_;if(this.Xe===this.tr){const o=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(gt(o)),this.Ge++,this.Xe--}const r=this.H_(t);return this.Qe.set(i,{Y_:r,er:this.Ke}),this.Je.set(this.Ke,i),this.Xe++,this.Ke++,r}}class Xi{constructor(t,e){Je(t<=e,"right should be >= left"),this.Z_=t,this.X_=e}Vs(){return this.Z_}ui(){return this.X_}K_(){return this.X_-this.Z_+1}Xr(t){return this.Z_<=t&&t<=this.X_}yh(t){return this.Z_===t.Vs()&&this.X_===t.ui()}}function Hc(n,t){return n===null||t===null?n===t:n.yh(t)}class Cw{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(t){this.J_=t,this.Qe=null}tu(t,e){this.iu(e),this.Qe=null;for(let i=e;i<t.length;++i){const s=t[i];let r=this.G_.get(s.timeWeight);r===void 0&&(r=[],this.G_.set(s.timeWeight,r)),r.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}nu(t,e){const i=Math.ceil(e/t);return this.Qe!==null&&this.Qe.su===i||(this.Qe={ja:this.eu(i),su:i}),this.Qe.ja}iu(t){if(t===0)return void this.G_.clear();const e=[];this.G_.forEach((i,s)=>{t<=i[0].index?e.push(s):i.splice(js(i,t,r=>r.index<t),1/0)});for(const i of e)this.G_.delete(i)}eu(t){let e=[];for(const i of Array.from(this.G_.keys()).sort((s,r)=>r-s)){if(!this.G_.get(i))continue;const s=e;e=[];const r=s.length;let o=0;const l=gt(this.G_.get(i)),a=l.length;let u=1/0,h=-1/0;for(let c=0;c<a;c++){const d=l[c],f=d.index;for(;o<r;){const g=s[o],v=g.index;if(!(v<f)){u=v;break}o++,e.push(g),h=v,u=1/0}if(u-f>=t&&f-h>=t)e.push(d),h=f;else if(this.J_)return s}for(;o<r;o++)e.push(s[o])}return e}}class ni{constructor(t){this.ru=t}hu(){return this.ru===null?null:new Xi(Math.floor(this.ru.Vs()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new ni(null)}}function Ew(n,t){return n.weight>t.weight?n:t}class Pw{constructor(t,e,i,s){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new Cw,this.cu=new Map,this.du=ni.au(),this.fu=!0,this.vu=new Y,this.pu=new Y,this.mu=new Y,this.bu=null,this.wu=null,this.gu=[],this.cn=e,this.ko=i,this.Mu=e.rightOffset,this.xu=e.barSpacing,this.$i=t,this.U_=s,this.Su(),this.uu.Q_(e.uniformDistribution)}W(){return this.cn}ku(t){Yt(this.ko,t),this.yu(),this.Su()}Hh(t,e){var i;Yt(this.cn,t),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),t.barSpacing!==void 0&&this.$i.Gn(t.barSpacing),t.rightOffset!==void 0&&this.$i.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.$i.Gn((i=t.barSpacing)!==null&&i!==void 0?i:this.xu),this.yu(),this.Su(),this.mu.m()}mn(t){var e,i;return(i=(e=this._u[t])===null||e===void 0?void 0:e.time)!==null&&i!==void 0?i:null}Ui(t){var e;return(e=this._u[t])!==null&&e!==void 0?e:null}Da(t,e){if(this._u.length<1)return null;if(this.U_.key(t)>this.U_.key(this._u[this._u.length-1].time))return e?this._u.length-1:null;const i=js(this._u,this.U_.key(t),(s,r)=>this.U_.key(s.time)<r);return this.U_.key(t)<this.U_.key(this._u[i].time)?e?i:null:i}Ni(){return this.o_===0||this._u.length===0||this.ou===null}Ra(){return this._u.length>0}Zs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){const t=this.Zs();if(t===null)return null;const e={from:t.Vs(),to:t.ui()};return this.Vu(e)}Vu(t){const e=Math.round(t.from),i=Math.round(t.to),s=C(this.Ou()),r=C(this.Bu());return{from:C(this.Ui(Math.max(s,e))),to:C(this.Ui(Math.min(r,i)))}}Au(t){return{from:C(this.Da(t.from,!0)),to:C(this.Da(t.to,!0))}}Hi(){return this.o_}x_(t){if(!isFinite(t)||t<=0||this.o_===t)return;const e=this.Ru(),i=this.o_;if(this.o_=t,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&i!==0){const s=this.xu*t/i;this.xu=s}if(this.cn.fixLeftEdge&&e!==null&&e.Vs()<=0){const s=i-t;this.Mu-=Math.round(s/this.xu)+1,this.fu=!0}this.Iu(),this.zu()}It(t){if(this.Ni()||!ys(t))return 0;const e=this.Lu()+this.Mu-t;return this.o_-(e+.5)*this.xu-1}Js(t,e){const i=this.Lu(),s=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=s;o<r;o++){const l=t[o].ot,a=i+this.Mu-l,u=this.o_-(a+.5)*this.xu-1;t[o].nt=u}}Eu(t){return Math.ceil(this.Nu(t))}Jn(t){this.fu=!0,this.Mu=t,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(t){this.Wu(t),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(this.wu!==null)return this.wu;const t=this.xu,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(e/t),s=C(this.Zs()),r=Math.max(s.Vs(),s.Vs()-i),o=Math.max(s.ui(),s.ui()-i),l=this.uu.nu(t,e),a=this.Ou()+i,u=this.Bu()-i,h=this.Hu(),c=this.cn.fixLeftEdge||h,d=this.cn.fixRightEdge||h;let f=0;for(const g of l){if(!(r<=g.index&&g.index<=o))continue;let v;f<this.gu.length?(v=this.gu[f],v.coord=this.It(g.index),v.label=this.$u(g),v.weight=g.weight):(v={needAlignCoordinate:!1,coord:this.It(g.index),label:this.$u(g),weight:g.weight},this.gu.push(v)),this.xu>e/2&&!h?v.needAlignCoordinate=!1:v.needAlignCoordinate=c&&g.index<=a||d&&g.index>=u,f++}return this.gu.length=f,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(t){this.fu=!0,this.ou=t,this.zu(),this.Cu()}Yu(t,e){const i=this.Nu(t),s=this.he(),r=s+e*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(i-this.Nu(t)))}Ko(t){this.wo&&this.i_(),this.bo===null&&this.bu===null&&(this.Ni()||(this.bo=t,this.Zu()))}Go(t){if(this.bu===null)return;const e=La(this.o_-t,0,this.o_),i=La(this.o_-C(this.bo),0,this.o_);e!==0&&i!==0&&this.Gn(this.bu.he*e/i)}Jo(){this.bo!==null&&(this.bo=null,this.Xu())}Qo(t){this.wo===null&&this.bu===null&&(this.Ni()||(this.wo=t,this.Zu()))}t_(t){if(this.wo===null)return;const e=(this.wo-t)/this.he();this.Mu=C(this.bu).ju+e,this.fu=!0,this.zu()}i_(){this.wo!==null&&(this.wo=null,this.Xu())}Ku(){this.Gu(this.cn.rightOffset)}Gu(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.Mu,s=performance.now();this.$i.Zn({Ju:r=>(r-s)/e>=1,Qu:r=>{const o=(r-s)/e;return o>=1?t:i+(t-i)*o}})}bt(t,e){this.fu=!0,this._u=t,this.uu.tu(t,e),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(t){const e=t.K_();this.Wu(this.o_/e),this.Mu=t.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){const t=this.Ou(),e=this.Bu();t!==null&&e!==null&&this.ec(new Xi(t,e+this.cn.rightOffset))}hc(t){const e=new Xi(t.from,t.to);this.ec(e)}qi(t){return this.ko.timeFormatter!==void 0?this.ko.timeFormatter(t.originalTime):this.U_.formatHorzItem(t.time)}Hu(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Ou(){return this._u.length===0?null:0}Bu(){return this._u.length===0?null:this._u.length-1}lc(t){return(this.o_-1-t)/this.xu}Nu(t){const e=this.lc(t),i=this.Lu()+this.Mu-e;return Math.round(1e6*i)/1e6}Wu(t){const e=this.xu;this.xu=t,this.Iu(),e!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(ni.au());const t=this.Lu(),e=this.o_/this.xu,i=this.Mu+t,s=new Xi(i-e+1,i);this.oc(new ni(s))}Iu(){const t=this._c();if(this.xu<t&&(this.xu=t,this.fu=!0),this.o_!==0){const e=.5*this.o_;this.xu>e&&(this.xu=e,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this._u.length!==0?this.o_/this._u.length:this.cn.minBarSpacing}zu(){const t=this.uc();t!==null&&this.Mu<t&&(this.Mu=t,this.fu=!0);const e=this.cc();this.Mu>e&&(this.Mu=e,this.fu=!0)}uc(){const t=this.Ou(),e=this.ou;return t===null||e===null?null:t-e-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}cc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Zu(){this.bu={he:this.he(),ju:this.ju()}}Xu(){this.bu=null}$u(t){let e=this.cu.get(t.weight);return e===void 0&&(e=new xw(i=>this.dc(i),this.U_),this.cu.set(t.weight,e)),e.q_(t)}dc(t){return this.U_.formatTickmark(t,this.ko)}oc(t){const e=this.du;this.du=t,Hc(e.hu(),this.du.hu())||this.vu.m(),Hc(e.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;const t=this.Ou();if(t===null)return;const e=this.Zs();if(e===null)return;const i=e.Vs()-t;if(i<0){const s=this.Mu-i-1;this.Jn(s)}this.Iu()}Tu(){this.zu(),this.Iu()}}class Tw{X(t,e,i){t.useMediaCoordinateSpace(s=>this.K(s,e,i))}wl(t,e,i){t.useMediaCoordinateSpace(s=>this.fc(s,e,i))}fc(t,e,i){}}class Lw extends Tw{constructor(t){super(),this.vc=new Map,this.zt=t}K(t){}fc(t){if(!this.zt.yt)return;const{context:e,mediaSize:i}=t;let s=0;for(const o of this.zt.mc){if(o.Kt.length===0)continue;e.font=o.R;const l=this.bc(e,o.Kt);l>i.width?o.Yu=i.width/l:o.Yu=1,s+=o.wc*o.Yu}let r=0;switch(this.zt.gc){case"top":r=0;break;case"center":r=Math.max((i.height-s)/2,0);break;case"bottom":r=Math.max(i.height-s,0)}e.fillStyle=this.zt.V;for(const o of this.zt.mc){e.save();let l=0;switch(this.zt.Mc){case"left":e.textAlign="left",l=o.wc/2;break;case"center":e.textAlign="center",l=i.width/2;break;case"right":e.textAlign="right",l=i.width-1-o.wc/2}e.translate(l,r),e.textBaseline="top",e.font=o.R,e.scale(o.Yu,o.Yu),e.fillText(o.Kt,0,o.xc),e.restore(),r+=o.wc*o.Yu}}bc(t,e){const i=this.Sc(t.font);let s=i.get(e);return s===void 0&&(s=t.measureText(e).width,i.set(e,s)),s}Sc(t){let e=this.vc.get(t);return e===void 0&&(e=new Map,this.vc.set(t,e)),e}}class Mw{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",mc:[],gc:"center",Mc:"center"},this.Wt=new Lw(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.Mc=t.horzAlign,e.gc=t.vertAlign,e.mc=[{Kt:t.text,R:ci(t.fontSize,t.fontFamily,t.fontStyle),wc:1.2*t.fontSize,xc:0,Yu:0}])}}class jw extends Uu{constructor(t,e){super(),this.cn=e,this.wn=new Mw(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var Kc,Jc,Gc,Ma,Xc;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(Kc||(Kc={}));class $w{constructor(t,e,i){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new Y,this.Pc=new Y,this.Rc=null,this.Dc=t,this.cn=e,this.U_=i,this.Vc=new h1(this),this.kl=new Pw(this,e.timeScale,this.cn.localization,i),this.vt=new b1(this,e.crosshair),this.Oc=new vw(e.crosshair),this.Bc=new jw(this,e.watermark),this.Ac(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Xl(){this.Ec(at.es())}$h(){this.Ec(at.ss())}aa(){this.Ec(new at(1))}Kl(t){const e=this.Nc(t);this.Ec(e)}Fc(){return this.Cc}Wc(t){const e=this.Cc;this.Cc=t,e!==null&&this.Kl(e.jc),t!==null&&this.Kl(t.jc)}W(){return this.cn}Hh(t){Yt(this.cn,t),this.kc.forEach(e=>e.m_(t)),t.timeScale!==void 0&&this.kl.Hh(t.timeScale),t.localization!==void 0&&this.kl.ku(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Xl()}Hc(t,e){if(t==="left")return void this.Hh({leftPriceScale:e});if(t==="right")return void this.Hh({rightPriceScale:e});const i=this.$c(t);i!==null&&(i.Dt.Hh(e),this.Tc.m())}$c(t){for(const e of this.kc){const i=e.b_(t);if(i!==null)return{Ht:e,Dt:i}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Zc(){return this.Pc}Xc(t,e){t.zo(e),this.Fu()}x_(t){this.o_=t,this.kl.x_(this.o_),this.kc.forEach(e=>e.x_(t)),this.Fu()}Ac(t){const e=new kw(this.kl,this);t!==void 0?this.kc.splice(t,0,e):this.kc.push(e);const i=t===void 0?this.kc.length-1:t,s=at.es();return s.Nn(i,{Fn:0,Wn:!0}),this.Ec(s),e}D_(t,e,i){t.D_(e,i)}V_(t,e,i){t.V_(e,i),this.Gl(),this.Ec(this.Kc(t,2))}O_(t,e){t.O_(e),this.Ec(this.Kc(t,2))}B_(t,e,i){e.Do()||t.B_(e,i)}A_(t,e,i){e.Do()||(t.A_(e,i),this.Gl(),this.Ec(this.Kc(t,2)))}I_(t,e){e.Do()||(t.I_(e),this.Ec(this.Kc(t,2)))}L_(t,e){t.L_(e),this.Ec(this.Kc(t,2))}Gc(t){this.kl.Ko(t)}Jc(t,e){const i=this.St();if(i.Ni()||e===0)return;const s=i.Hi();t=Math.max(1,Math.min(t,s)),i.Yu(t,e),this.Fu()}Qc(t){this.td(0),this.nd(t),this.sd()}ed(t){this.kl.Go(t),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(t){this.kl.Qo(t)}nd(t){this.kl.t_(t),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(t,e,i,s,r){this.vt.gn(t,e);let o=NaN,l=this.kl.Eu(t);const a=this.kl.Zs();a!==null&&(l=Math.min(Math.max(a.Vs(),l),a.ui()));const u=s.vn(),h=u.Ct();h!==null&&(o=u.pn(e,h)),o=this.Oc.Va(o,l,s),this.vt.kn(l,o,s),this.aa(),r||this.Pc.m(this.vt.xt(),{x:t,y:e},i)}ld(t,e,i){const s=i.vn(),r=s.Ct(),o=s.Rt(t,C(r)),l=this.kl.Da(e,!0),a=this.kl.It(C(l));this.hd(a,o,null,i,!0)}ad(t){this.Yc().Cn(),this.aa(),t||this.Pc.m(null,null,null)}Gl(){const t=this.vt.Ht();if(t!==null){const e=this.vt.xn(),i=this.vt.Sn();this.hd(e,i,null,t)}this.vt.Vn()}od(t,e,i){const s=this.kl.mn(0);e!==void 0&&i!==void 0&&this.kl.bt(e,i);const r=this.kl.mn(0),o=this.kl.Lu(),l=this.kl.Zs();if(l!==null&&s!==null&&r!==null){const a=l.Xr(o),u=this.U_.key(s)>this.U_.key(r),h=t!==null&&t>o&&!u,c=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,d=a&&(i!==void 0||c)&&this.kl.W().shiftVisibleRangeOnNewBar;if(h&&!d){const f=t-o;this.kl.Jn(this.kl.ju()-f)}}this.kl.qu(t)}ta(t){t!==null&&t.N_()}cr(t){const e=this.kc.find(i=>i.$o().includes(t));return e===void 0?null:e}Fu(){this.Bc.Vn(),this.kc.forEach(t=>t.N_()),this.Gl()}S(){this.kc.forEach(t=>t.S()),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Vc}mr(){return this.Vc.W()}w_(){return this.Tc}ud(t,e,i){const s=this.kc[0],r=this.dd(e,t,s,i);return this.yc.push(r),this.yc.length===1?this.Xl():this.$h(),r}fd(t){const e=this.cr(t),i=this.yc.indexOf(t);Je(i!==-1,"Series not found"),this.yc.splice(i,1),C(e).Yo(t),t.S&&t.S()}Zl(t,e){const i=C(this.cr(t));i.Yo(t);const s=this.$c(e);if(s===null){const r=t.Xi();i.Uo(t,e,r)}else{const r=s.Ht===i?t.Xi():void 0;s.Ht.Uo(t,e,r)}}rc(){const t=at.ss();t.$n(),this.Ec(t)}vd(t){const e=at.ss();e.Yn(t),this.Ec(e)}Kn(){const t=at.ss();t.Kn(),this.Ec(t)}Gn(t){const e=at.ss();e.Gn(t),this.Ec(e)}Jn(t){const e=at.ss();e.Jn(t),this.Ec(e)}Zn(t){const e=at.ss();e.Zn(t),this.Ec(e)}Un(){const t=at.ss();t.Un(),this.Ec(t)}pd(){return this.cn.rightPriceScale.visible?"right":"left"}md(){return this.Lc}q(){return this.Ic}Bt(t){const e=this.Lc,i=this.Ic;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Rc===null||this.Rc.Ts!==i||this.Rc.Ps!==e)this.Rc={Ts:i,Ps:e,bd:new Map};else{const r=this.Rc.bd.get(t);if(r!==void 0)return r}const s=function(r,o,l){const[a,u,h,c]=gs(r),[d,f,g,v]=gs(o),_=[Ot(a+l*(d-a)),Ot(u+l*(f-u)),Ot(h+l*(g-h)),cm(c+l*(v-c))];return`rgba(${_[0]}, ${_[1]}, ${_[2]}, ${_[3]})`}(i,e,t/100);return this.Rc.bd.set(t,s),s}Kc(t,e){const i=new at(e);if(t!==null){const s=this.kc.indexOf(t);i.Nn(s,{Fn:e})}return i}Nc(t,e){return e===void 0&&(e=2),this.Kc(this.cr(t),e)}Ec(t){this.Dc&&this.Dc(t),this.kc.forEach(e=>e.W_().Uh().bt())}dd(t,e,i,s){const r=new Hu(this,t,e,i,s),o=t.priceScaleId!==void 0?t.priceScaleId:this.pd();return i.Uo(r,o),Eo(o)||r.Hh(t),r}zc(t){const e=this.cn.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function ja(n){return!re(n)&&!Ms(n)}function Mm(n){return re(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(Jc||(Jc={})),function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"}(Gc||(Gc={})),function(n){n.Solid="solid",n.VerticalGradient="gradient"}(Ma||(Ma={})),function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"}(Xc||(Xc={}));const Zc=n=>n.getUTCFullYear();function zw(n,t,e){return t.replace(/yyyy/g,(i=>pe(Zc(i),4))(n)).replace(/yy/g,(i=>pe(Zc(i)%100,2))(n)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(n,e)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(n,e)).replace(/MM/g,(i=>pe((s=>s.getUTCMonth()+1)(i),2))(n)).replace(/dd/g,(i=>pe((s=>s.getUTCDate())(i),2))(n))}class jm{constructor(t="yyyy-MM-dd",e="default"){this.wd=t,this.gd=e}q_(t){return zw(t,this.wd,this.gd)}}class Rw{constructor(t){this.Md=t||"%h:%m:%s"}q_(t){return this.Md.replace("%h",pe(t.getUTCHours(),2)).replace("%m",pe(t.getUTCMinutes(),2)).replace("%s",pe(t.getUTCSeconds(),2))}}const Nw={xd:"yyyy-MM-dd",Sd:"%h:%m:%s",kd:" ",yd:"default"};class Ow{constructor(t={}){const e=Object.assign(Object.assign({},Nw),t);this.Cd=new jm(e.xd,e.yd),this.Td=new Rw(e.Sd),this.Pd=e.kd}q_(t){return`${this.Cd.q_(t)}${this.Pd}${this.Td.q_(t)}`}}function sr(n){return 60*n*60*1e3}function yl(n){return 60*n*1e3}const rr=[{Rd:(Qc=1,1e3*Qc),Dd:10},{Rd:yl(1),Dd:20},{Rd:yl(5),Dd:21},{Rd:yl(30),Dd:22},{Rd:sr(1),Dd:30},{Rd:sr(3),Dd:31},{Rd:sr(6),Dd:32},{Rd:sr(12),Dd:33}];var Qc;function Yc(n,t){if(n.getUTCFullYear()!==t.getUTCFullYear())return 70;if(n.getUTCMonth()!==t.getUTCMonth())return 60;if(n.getUTCDate()!==t.getUTCDate())return 50;for(let e=rr.length-1;e>=0;--e)if(Math.floor(t.getTime()/rr[e].Rd)!==Math.floor(n.getTime()/rr[e].Rd))return rr[e].Dd;return 0}function wl(n){let t=n;if(Ms(n)&&(t=Ku(n)),!ja(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Vd:Math.round(e.getTime()/1e3),Od:t}}function qc(n){if(!Mm(n))throw new Error("time must be of type isUTCTimestamp");return{Vd:n}}function Ku(n){const t=new Date(n);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function td(n){Ms(n.time)&&(n.time=Ku(n.time))}class ed{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(td)}(t):td(t)}createConverterToInternalObj(t){return C(function(e){return e.length===0?null:ja(e[0].time)||Ms(e[0].time)?wl:qc}(t))}key(t){return typeof t=="object"&&"Vd"in t?t.Vd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Od===void 0?new Date(1e3*e.Vd).getTime():new Date(Date.UTC(e.Od.year,e.Od.month-1,e.Od.day)).getTime()}convertHorzItemToInternal(t){return Mm(e=t)?qc(e):ja(e)?wl(e):wl(Ku(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new Ow({xd:e,Sd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",kd:"   ",yd:t.locale}):this.Bd=new jm(e,t.locale)}formatHorzItem(t){const e=t;return this.Bd.q_(new Date(1e3*e.Vd))}formatTickmark(t,e){const i=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(t.originalTime,i,e.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=r.Od===void 0?new Date(1e3*r.Vd):new Date(Date.UTC(r.Od.year,r.Od.month-1,r.Od.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Ew,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(i,s=0){if(i.length===0)return;let r=s===0?null:i[s-1].time.Vd,o=r!==null?new Date(1e3*r):null,l=0;for(let a=s;a<i.length;++a){const u=i[a],h=new Date(1e3*u.time.Vd);o!==null&&(u.timeWeight=Yc(h,o)),l+=u.time.Vd-(r||u.time.Vd),r=u.time.Vd,o=h}if(s===0&&i.length>1){const a=Math.ceil(l/(i.length-1)),u=new Date(1e3*(i[0].time.Vd-a));i[0].timeWeight=Yc(new Date(1e3*i[0].time.Vd),u)}})(t,e)}static Ad(t){return Yt({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const di=typeof window<"u";function nd(){return!!di&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function _l(){return!!di&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function $a(n){return n+n%2}function bl(n,t){return n.Id-t.Id}function Sl(n,t,e){const i=(n.Id-t.Id)/(n.ot-t.ot);return Math.sign(i)*Math.min(Math.abs(i),e)}class Iw{constructor(t,e,i,s){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=t,this.$d=e,this.Ud=i,this.rs=s}qd(t,e){if(this.zd!==null){if(this.zd.ot===e)return void(this.zd.Id=t);if(Math.abs(this.zd.Id-t)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:e,Id:t}}Dr(t,e){if(this.zd===null||this.Ld===null||e-this.zd.ot>50)return;let i=0;const s=Sl(this.zd,this.Ld,this.$d),r=bl(this.zd,this.Ld),o=[s],l=[r];if(i+=r,this.Ed!==null){const u=Sl(this.Ld,this.Ed,this.$d);if(Math.sign(u)===Math.sign(s)){const h=bl(this.Ld,this.Ed);if(o.push(u),l.push(h),i+=h,this.Nd!==null){const c=Sl(this.Ed,this.Nd,this.$d);if(Math.sign(c)===Math.sign(s)){const d=bl(this.Ed,this.Nd);o.push(c),l.push(d),i+=d}}}}let a=0;for(let u=0;u<o.length;++u)a+=l[u]/i*o[u];Math.abs(a)<this.Hd||(this.Fd={Id:t,ot:e},this.jd=a,this.Wd=function(u,h){const c=Math.log(h);return Math.log(1*c/-u)/c}(Math.abs(a),this.Ud))}Qu(t){const e=C(this.Fd),i=t-e.ot;return e.Id+this.jd*(Math.pow(this.Ud,i)-1)/Math.log(this.Ud)}Ju(t){return this.Fd===null||this.Yd(t)===this.Wd}Yd(t){const e=t-C(this.Fd).ot;return Math.min(e,this.Wd)}}class Dw{constructor(t,e){this.Zd=void 0,this.Xd=void 0,this.Kd=void 0,this.en=!1,this.Gd=t,this.Jd=e,this.Qd()}bt(){this.Qd()}tf(){this.Zd&&this.Gd.removeChild(this.Zd),this.Xd&&this.Gd.removeChild(this.Xd),this.Zd=void 0,this.Xd=void 0}if(){return this.en!==this.nf()||this.Kd!==this.sf()}sf(){return dm(gs(this.Jd.W().layout.textColor))>160?"dark":"light"}nf(){return this.Jd.W().layout.attributionLogo}ef(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Qd(){this.if()&&(this.tf(),this.en=this.nf(),this.en&&(this.Kd=this.sf(),this.Xd=document.createElement("style"),this.Xd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Zd=document.createElement("a"),this.Zd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.ef()}`,this.Zd.title="Charting by TradingView",this.Zd.id="tv-attr-logo",this.Zd.target="_blank",this.Zd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Zd.toggleAttribute("data-dark",this.Kd==="dark"),this.Gd.appendChild(this.Xd),this.Gd.appendChild(this.Zd)))}}function Sn(n,t){const e=C(n.ownerDocument).createElement("canvas");n.appendChild(e);const i=Xy(e,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return i.resizeCanvasElement(t),i}function kn(n){var t;n.width=1,n.height=1,(t=n.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function za(n,t,e,i){n.wl&&n.wl(t,e,i)}function Tr(n,t,e,i){n.X(t,e,i)}function Ra(n,t,e,i){const s=n(e,i);for(const r of s){const o=r.gt();o!==null&&t(o)}}function Aw(n){di&&window.chrome!==void 0&&n.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class Ju{constructor(t,e,i){this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.cf=null,this.df=!1,this.ff=null,this.vf=null,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=null,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=0,this.Tf=!1,this.Pf=!1,this.Rf=!1,this.Df=0,this.Vf=null,this.Of=!_l(),this.Bf=s=>{this.Af(s)},this.If=s=>{if(this.zf(s)){const r=this.Lf(s);if(++this.af,this._f&&this.af>1){const{Ef:o}=this.Nf(ee(s),this.uf);o<30&&!this.bf&&this.Ff(r,this.jf.Wf),this.Hf()}}else{const r=this.Lf(s);if(++this.rf,this.hf&&this.rf>1){const{Ef:o}=this.Nf(ee(s),this.lf);o<5&&!this.mf&&this.$f(r,this.jf.Uf),this.qf()}}},this.Yf=t,this.jf=e,this.cn=i,this.Zf()}S(){this.wf!==null&&(this.wf(),this.wf=null),this.gf!==null&&(this.gf(),this.gf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Xf(),this.qf()}Kf(t){this.xf&&this.xf();const e=this.Gf.bind(this);if(this.xf=()=>{this.Yf.removeEventListener("mousemove",e)},this.Yf.addEventListener("mousemove",e),this.zf(t))return;const i=this.Lf(t);this.$f(i,this.jf.Jf),this.Of=!0}qf(){this.hf!==null&&clearTimeout(this.hf),this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Hf(){this._f!==null&&clearTimeout(this._f),this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Gf(t){if(this.Rf||this.vf!==null||this.zf(t))return;const e=this.Lf(t);this.$f(e,this.jf.Qf),this.Of=!0}tv(t){const e=kl(t.changedTouches,C(this.Vf));if(e===null||(this.Df=or(t),this.yf!==null)||this.Pf)return;this.Tf=!0;const i=this.Nf(ee(e),C(this.vf)),{iv:s,nv:r,Ef:o}=i;if(this.pf||!(o<5)){if(!this.pf){const l=.5*s,a=r>=l&&!this.cn.sv(),u=l>r&&!this.cn.ev();a||u||(this.Pf=!0),this.pf=!0,this.bf=!0,this.Xf(),this.Hf()}if(!this.Pf){const l=this.Lf(t,e);this.Ff(l,this.jf.rv),$n(t)}}}hv(t){if(t.button!==0)return;const e=this.Nf(ee(t),C(this.ff)),{Ef:i}=e;if(i>=5&&(this.mf=!0,this.qf()),this.mf){const s=this.Lf(t);this.$f(s,this.jf.lv)}}Nf(t,e){const i=Math.abs(e.nt-t.nt),s=Math.abs(e.st-t.st);return{iv:i,nv:s,Ef:i+s}}av(t){let e=kl(t.changedTouches,C(this.Vf));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Vf=null,this.Df=or(t),this.Xf(),this.vf=null,this.kf&&(this.kf(),this.kf=null);const i=this.Lf(t,e);if(this.Ff(i,this.jf.ov),++this.af,this._f&&this.af>1){const{Ef:s}=this.Nf(ee(e),this.uf);s<30&&!this.bf&&this.Ff(i,this.jf.Wf),this.Hf()}else this.bf||(this.Ff(i,this.jf._v),this.jf._v&&$n(t));this.af===0&&$n(t),t.touches.length===0&&this.df&&(this.df=!1,$n(t))}Af(t){if(t.button!==0)return;const e=this.Lf(t);if(this.ff=null,this.Rf=!1,this.Sf&&(this.Sf(),this.Sf=null),nd()&&this.Yf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Bf),!this.zf(t))if(this.$f(e,this.jf.uv),++this.rf,this.hf&&this.rf>1){const{Ef:i}=this.Nf(ee(t),this.lf);i<5&&!this.mf&&this.$f(e,this.jf.Uf),this.qf()}else this.mf||this.$f(e,this.jf.cv)}Xf(){this.cf!==null&&(clearTimeout(this.cf),this.cf=null)}dv(t){if(this.Vf!==null)return;const e=t.changedTouches[0];this.Vf=e.identifier,this.Df=or(t);const i=this.Yf.ownerDocument.documentElement;this.bf=!1,this.pf=!1,this.Pf=!1,this.vf=ee(e),this.kf&&(this.kf(),this.kf=null);{const r=this.tv.bind(this),o=this.av.bind(this);this.kf=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this.Xf(),this.cf=setTimeout(this.fv.bind(this,t),240)}const s=this.Lf(t,e);this.Ff(s,this.jf.vv),this._f||(this.af=0,this._f=setTimeout(this.Hf.bind(this),500),this.uf=ee(e))}pv(t){if(t.button!==0)return;const e=this.Yf.ownerDocument.documentElement;nd()&&e.addEventListener("mouseleave",this.Bf),this.mf=!1,this.ff=ee(t),this.Sf&&(this.Sf(),this.Sf=null);{const s=this.hv.bind(this),r=this.Af.bind(this);this.Sf=()=>{e.removeEventListener("mousemove",s),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",s),e.addEventListener("mouseup",r)}if(this.Rf=!0,this.zf(t))return;const i=this.Lf(t);this.$f(i,this.jf.mv),this.hf||(this.rf=0,this.hf=setTimeout(this.qf.bind(this),500),this.lf=ee(t))}Zf(){this.Yf.addEventListener("mouseenter",this.Kf.bind(this)),this.Yf.addEventListener("touchcancel",this.Xf.bind(this));{const t=this.Yf.ownerDocument,e=i=>{this.jf.bv&&(i.composed&&this.Yf.contains(i.composedPath()[0])||i.target&&this.Yf.contains(i.target)||this.jf.bv())};this.gf=()=>{t.removeEventListener("touchstart",e)},this.wf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}_l()&&(this.Mf=()=>{this.Yf.removeEventListener("dblclick",this.If)},this.Yf.addEventListener("dblclick",this.If)),this.Yf.addEventListener("mouseleave",this.wv.bind(this)),this.Yf.addEventListener("touchstart",this.dv.bind(this),{passive:!0}),Aw(this.Yf),this.Yf.addEventListener("mousedown",this.pv.bind(this)),this.gv(),this.Yf.addEventListener("touchmove",()=>{},{passive:!1})}gv(){this.jf.Mv===void 0&&this.jf.xv===void 0&&this.jf.Sv===void 0||(this.Yf.addEventListener("touchstart",t=>this.kv(t.touches),{passive:!0}),this.Yf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.yf!==null&&this.jf.xv!==void 0){const e=id(t.touches[0],t.touches[1])/this.Cf;this.jf.xv(this.yf,e),$n(t)}},{passive:!1}),this.Yf.addEventListener("touchend",t=>{this.kv(t.touches)}))}kv(t){t.length===1&&(this.Tf=!1),t.length!==2||this.Tf||this.df?this.yv():this.Cv(t)}Cv(t){const e=this.Yf.getBoundingClientRect()||{left:0,top:0};this.yf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Cf=id(t[0],t[1]),this.jf.Mv!==void 0&&this.jf.Mv(),this.Xf()}yv(){this.yf!==null&&(this.yf=null,this.jf.Sv!==void 0&&this.jf.Sv())}wv(t){if(this.xf&&this.xf(),this.zf(t)||!this.Of)return;const e=this.Lf(t);this.$f(e,this.jf.Tv),this.Of=!_l()}fv(t){const e=kl(t.touches,C(this.Vf));if(e===null)return;const i=this.Lf(t,e);this.Ff(i,this.jf.Pv),this.bf=!0,this.df=!0}zf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:or(t)<this.Df+500}Ff(t,e){e&&e.call(this.jf,t)}$f(t,e){e&&e.call(this.jf,t)}Lf(t,e){const i=e||t,s=this.Yf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Rv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Dv:t.type,Vv:i.target,Ov:t.view,Bv:()=>{t.type!=="touchstart"&&$n(t)}}}}function id(n,t){const e=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(e*e+i*i)}function $n(n){n.cancelable&&n.preventDefault()}function ee(n){return{nt:n.pageX,st:n.pageY}}function or(n){return n.timeStamp||performance.now()}function kl(n,t){for(let e=0;e<n.length;++e)if(n[e].identifier===t)return n[e];return null}function lr(n){return{jc:n.jc,Av:{wr:n.Iv.externalId},zv:n.Iv.cursorStyle}}function Vw(n,t,e){for(const i of n){const s=i.gt();if(s!==null&&s.br){const r=s.br(t,e);if(r!==null)return{Ov:i,Av:r}}}return null}function xl(n,t){return e=>{var i,s,r,o;return((s=(i=e.Dt())===null||i===void 0?void 0:i.Ta())!==null&&s!==void 0?s:"")!==t?[]:(o=(r=e.ca)===null||r===void 0?void 0:r.call(e,n))!==null&&o!==void 0?o:[]}}function sd(n,t,e,i){if(!n.length)return;let s=0;const r=e/2,o=n[0].At(i,!0);let l=t===1?r-(n[0].Vi()-o/2):n[0].Vi()-o/2-r;l=Math.max(0,l);for(let a=1;a<n.length;a++){const u=n[a],h=n[a-1],c=h.At(i,!1),d=u.Vi(),f=h.Vi();if(t===1?d>f-c:d<f+c){const g=f-c*t;u.Oi(g);const v=g-t*c/2;if((t===1?v<0:v>e)&&l>0){const _=t===1?-1-v:v-e,m=Math.min(_,l);for(let p=s;p<n.length;p++)n[p].Oi(n[p].Vi()+t*m);l-=m}}else s=a,l=t===1?f-c-d:d-(f+c)}}class rd{constructor(t,e,i,s){this.Li=null,this.Lv=null,this.Ev=!1,this.Nv=new _s(200),this.Jr=null,this.Fv=0,this.Wv=!1,this.jv=()=>{this.Wv||this.tn.Hv().$t().$h()},this.$v=()=>{this.Wv||this.tn.Hv().$t().$h()},this.tn=t,this.cn=e,this.So=e.layout,this.Vc=i,this.Uv=s==="left",this.qv=xl("normal",s),this.Yv=xl("top",s),this.Zv=xl("bottom",s),this.Xv=document.createElement("div"),this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Xv.style.width="25px",this.Xv.style.left="0",this.Xv.style.position="relative",this.Kv=Sn(this.Xv,W({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const r=this.Kv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gv=Sn(this.Xv,W({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const o=this.Gv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={mv:this.Jv.bind(this),vv:this.Jv.bind(this),lv:this.Qv.bind(this),rv:this.Qv.bind(this),bv:this.tp.bind(this),uv:this.ip.bind(this),ov:this.ip.bind(this),Uf:this.np.bind(this),Wf:this.np.bind(this),Jf:this.sp.bind(this),Tv:this.ep.bind(this)};this.rp=new Ju(this.Gv.canvasElement,l,{sv:()=>!this.cn.handleScroll.vertTouchDrag,ev:()=>!0})}S(){this.rp.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),kn(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),kn(this.Kv.canvasElement),this.Kv.dispose(),this.Li!==null&&this.Li.Xo().p(this),this.Li=null}hp(){return this.Xv}P(){return this.So.fontSize}lp(){const t=this.Vc.W();return this.Jr!==t.R&&(this.Nv.ir(),this.Jr=t.R),t}ap(){if(this.Li===null)return 0;let t=0;const e=this.lp(),i=C(this.Kv.canvasElement.getContext("2d"));i.save();const s=this.Li.ja();i.font=this.op(),s.length>0&&(t=Math.max(this.Nv.xi(i,s[0].no),this.Nv.xi(i,s[s.length-1].no)));const r=this._p();for(let a=r.length;a--;){const u=this.Nv.xi(i,r[a].Kt());u>t&&(t=u)}const o=this.Li.Ct();if(o!==null&&this.Lv!==null&&this.cn.crosshair.mode!==2){const a=this.Li.pn(1,o),u=this.Li.pn(this.Lv.height-2,o);t=Math.max(t,this.Nv.xi(i,this.Li.Fi(Math.floor(Math.min(a,u))+.11111111111111,o)),this.Nv.xi(i,this.Li.Fi(Math.ceil(Math.max(a,u))-.11111111111111,o)))}i.restore();const l=t||34;return $a(Math.ceil(e.C+e.T+e.A+e.I+5+l))}up(t){this.Lv!==null&&pn(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`)}cp(){return C(this.Lv).width}Gi(t){this.Li!==t&&(this.Li!==null&&this.Li.Xo().p(this),this.Li=t,t.Xo().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){const t=this.tn.dp();this.tn.Hv().$t().L_(t,C(this.Dt()))}fp(t){if(this.Lv===null)return;if(t!==1){this.vp(),this.Kv.applySuggestedBitmapSize();const i=_n(this.Kv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.pp(s),this.Ae(s)}),this.tn.mp(i,this.Zv),this.bp(i),this.tn.mp(i,this.qv),this.wp(i))}this.Gv.applySuggestedBitmapSize();const e=_n(this.Gv);e!==null&&(e.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.gp(e),this.tn.mp(e,this.Yv))}Mp(){return this.Kv.bitmapSize}xp(t,e,i){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,e,i)}bt(){var t;(t=this.Li)===null||t===void 0||t.ja()}Jv(t){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Hv().$t(),i=this.tn.dp();this.Ev=!0,e.D_(i,this.Li,t.localY)}Qv(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Hv().$t(),i=this.tn.dp(),s=this.Li;e.V_(i,s,t.localY)}tp(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Hv().$t(),e=this.tn.dp(),i=this.Li;this.Ev&&(this.Ev=!1,t.O_(e,i))}ip(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.Hv().$t(),i=this.tn.dp();this.Ev=!1,e.O_(i,this.Li)}np(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}sp(t){this.Li!==null&&(!this.tn.Hv().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Vo()||this.Sp(1))}ep(t){this.Sp(0)}_p(){const t=[],e=this.Li===null?void 0:this.Li;return(i=>{for(let s=0;s<i.length;++s){const r=i[s].Rn(this.tn.dp(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.tn.dp().$o()),t}pp({context:t,bitmapSize:e}){const{width:i,height:s}=e,r=this.tn.dp().$t(),o=r.q(),l=r.md();o===l?xo(t,0,0,i,s,o):fm(t,0,0,i,s,o,l)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:i}){if(this.Lv===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.lp().C*i));let r;r=this.Uv?e.width-s:0,t.fillRect(r,0,s,e.height)}bp(t){if(this.Lv===null||this.Li===null)return;const e=this.Li.ja(),i=this.Li.W(),s=this.lp(),r=this.Uv?this.Lv.width-s.T:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),c=Math.round(s.T*l);o.beginPath();for(const d of e)o.rect(Math.floor(r*l),Math.round(d.La*a)-h,c,u);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this.op(),o.fillStyle=(l=i.textColor)!==null&&l!==void 0?l:this.So.textColor,o.textAlign=this.Uv?"right":"left",o.textBaseline="middle";const a=this.Uv?Math.round(r-s.A):Math.round(r+s.T+s.A),u=e.map(h=>this.Nv.Mi(o,h.no));for(let h=e.length;h--;){const c=e[h];o.fillText(c.no,a,c.La+u[h])}})}vp(){if(this.Lv===null||this.Li===null)return;const t=[],e=this.Li.$o().slice(),i=this.tn.dp(),s=this.lp();this.Li===i.vr()&&this.tn.dp().$o().forEach(o=>{i.dr(o)&&e.push(o)});const r=this.Li;e.forEach(o=>{o.Rn(i,r).forEach(l=>{l.Oi(null),l.Bi()&&t.push(l)})}),t.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.kp(t,s)}kp(t,e){if(this.Lv===null)return;const i=this.Lv.height/2,s=t.filter(o=>o.ki()<=i),r=t.filter(o=>o.ki()>i);s.sort((o,l)=>l.ki()-o.ki()),r.sort((o,l)=>o.ki()-l.ki());for(const o of t){const l=Math.floor(o.At(e)/2),a=o.ki();a>-l&&a<l&&o.Oi(l),a>this.Lv.height-l&&a<this.Lv.height+l&&o.Oi(this.Lv.height-l)}sd(s,1,this.Lv.height,e),sd(r,-1,this.Lv.height,e)}wp(t){if(this.Lv===null)return;const e=this._p(),i=this.lp(),s=this.Uv?"right":"left";e.forEach(r=>{r.Ai()&&r.gt(C(this.Li)).X(t,i,this.Nv,s)})}gp(t){if(this.Lv===null||this.Li===null)return;const e=this.tn.Hv().$t(),i=[],s=this.tn.dp(),r=e.Yc().Rn(s,this.Li);r.length&&i.push(r);const o=this.lp(),l=this.Uv?"right":"left";i.forEach(a=>{a.forEach(u=>{u.gt(C(this.Li)).X(t,o,this.Nv,l)})})}Sp(t){this.Xv.style.cursor=t===1?"ns-resize":"default"}do(){const t=this.ap();this.Fv<t&&this.tn.Hv().$t().Xl(),this.Fv=t}op(){return ci(this.So.fontSize,this.So.fontFamily)}}function Uw(n,t){var e,i;return(i=(e=n._a)===null||e===void 0?void 0:e.call(n,t))!==null&&i!==void 0?i:[]}function ar(n,t){var e,i;return(i=(e=n.Pn)===null||e===void 0?void 0:e.call(n,t))!==null&&i!==void 0?i:[]}function Fw(n,t){var e,i;return(i=(e=n.Ji)===null||e===void 0?void 0:e.call(n,t))!==null&&i!==void 0?i:[]}function Bw(n,t){var e,i;return(i=(e=n.la)===null||e===void 0?void 0:e.call(n,t))!==null&&i!==void 0?i:[]}class Gu{constructor(t,e){this.Lv=W({width:0,height:0}),this.yp=null,this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=!1,this.Dp=new Y,this.Vp=new Y,this.Op=0,this.Bp=!1,this.Ap=null,this.Ip=!1,this.zp=null,this.Lp=null,this.Wv=!1,this.jv=()=>{this.Wv||this.Ep===null||this.$i().$h()},this.$v=()=>{this.Wv||this.Ep===null||this.$i().$h()},this.Jd=t,this.Ep=e,this.Ep.F_().l(this.Np.bind(this),this,!0),this.Fp=document.createElement("td"),this.Fp.style.padding="0",this.Fp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Fp.appendChild(i),this.Kv=Sn(i,W({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const s=this.Kv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Gv=Sn(i,W({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Hp=document.createElement("tr"),this.Hp.appendChild(this.Wp),this.Hp.appendChild(this.Fp),this.Hp.appendChild(this.jp),this.$p(),this.rp=new Ju(this.Gv.canvasElement,this,{sv:()=>this.Ap===null&&!this.Jd.W().handleScroll.vertTouchDrag,ev:()=>this.Ap===null&&!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.yp!==null&&this.yp.S(),this.Cp!==null&&this.Cp.S(),this.Tp=null,this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),kn(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),kn(this.Kv.canvasElement),this.Kv.dispose(),this.Ep!==null&&this.Ep.F_().p(this),this.rp.S()}dp(){return C(this.Ep)}Up(t){var e,i;this.Ep!==null&&this.Ep.F_().p(this),this.Ep=t,this.Ep!==null&&this.Ep.F_().l(Gu.prototype.Np.bind(this),this,!0),this.$p(),this.Jd.qp().indexOf(this)===this.Jd.qp().length-1?(this.Tp=(e=this.Tp)!==null&&e!==void 0?e:new Dw(this.Fp,this.Jd),this.Tp.bt()):((i=this.Tp)===null||i===void 0||i.tf(),this.Tp=null)}Hv(){return this.Jd}hp(){return this.Hp}$p(){if(this.Ep!==null&&(this.Yp(),this.$i().wt().length!==0)){if(this.yp!==null){const t=this.Ep.P_();this.yp.Gi(C(t))}if(this.Cp!==null){const t=this.Ep.R_();this.Cp.Gi(C(t))}}}Zp(){this.yp!==null&&this.yp.bt(),this.Cp!==null&&this.Cp.bt()}g_(){return this.Ep!==null?this.Ep.g_():0}M_(t){this.Ep&&this.Ep.M_(t)}Jf(t){if(!this.Ep)return;this.Xp();const e=t.localX,i=t.localY;this.Kp(e,i,t)}mv(t){this.Xp(),this.Gp(),this.Kp(t.localX,t.localY,t)}Qf(t){var e;if(!this.Ep)return;this.Xp();const i=t.localX,s=t.localY;this.Kp(i,s,t);const r=this.br(i,s);this.Jd.Jp((e=r==null?void 0:r.zv)!==null&&e!==void 0?e:null),this.$i().Wc(r&&{jc:r.jc,Av:r.Av})}cv(t){this.Ep!==null&&(this.Xp(),this.Qp(t))}Uf(t){this.Ep!==null&&this.tm(this.Vp,t)}Wf(t){this.Uf(t)}lv(t){this.Xp(),this.im(t),this.Kp(t.localX,t.localY,t)}uv(t){this.Ep!==null&&(this.Xp(),this.Bp=!1,this.nm(t))}_v(t){this.Ep!==null&&this.Qp(t)}Pv(t){if(this.Bp=!0,this.Ap===null){const e={x:t.localX,y:t.localY};this.sm(e,e,t)}}Tv(t){this.Ep!==null&&(this.Xp(),this.Ep.$t().Wc(null),this.rm())}hm(){return this.Dp}lm(){return this.Vp}Mv(){this.Op=1,this.$i().Un()}xv(t,e){if(!this.Jd.W().handleScale.pinch)return;const i=5*(e-this.Op);this.Op=e,this.$i().Jc(t.nt,i)}vv(t){this.Bp=!1,this.Ip=this.Ap!==null,this.Gp();const e=this.$i().Yc();this.Ap!==null&&e.yt()&&(this.zp={x:e.Yt(),y:e.Zt()},this.Ap={x:t.localX,y:t.localY})}rv(t){if(this.Ep===null)return;const e=t.localX,i=t.localY;if(this.Ap===null)this.im(t);else{this.Ip=!1;const s=C(this.zp),r=s.x+(e-this.Ap.x),o=s.y+(i-this.Ap.y);this.Kp(r,o,t)}}ov(t){this.Hv().W().trackingMode.exitMode===0&&(this.Ip=!0),this.am(),this.nm(t)}br(t,e){const i=this.Ep;return i===null?null:function(s,r,o){const l=s.$o(),a=function(u,h,c){var d,f;let g,v;for(const p of u){const y=(f=(d=p.fa)===null||d===void 0?void 0:d.call(p,h,c))!==null&&f!==void 0?f:[];for(const b of y)_=b.zOrder,(!(m=g==null?void 0:g.zOrder)||_==="top"&&m!=="top"||_==="normal"&&m==="bottom")&&(g=b,v=p)}var _,m;return g&&v?{Iv:g,jc:v}:null}(l,r,o);if((a==null?void 0:a.Iv.zOrder)==="top")return lr(a);for(const u of l){if(a&&a.jc===u&&a.Iv.zOrder!=="bottom"&&!a.Iv.isBackground)return lr(a);const h=Vw(u.Pn(s),r,o);if(h!==null)return{jc:u,Ov:h.Ov,Av:h.Av};if(a&&a.jc===u&&a.Iv.zOrder!=="bottom"&&a.Iv.isBackground)return lr(a)}return a!=null&&a.Iv?lr(a):null}(i,t,e)}om(t,e){C(e==="left"?this.yp:this.Cp).up(W({width:t,height:this.Lv.height}))}_m(){return this.Lv}up(t){pn(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Fp.style.width=t.width+"px",this.Fp.style.height=t.height+"px")}um(){const t=C(this.Ep);t.T_(t.P_()),t.T_(t.R_());for(const e of t.Oa())if(t.dr(e)){const i=e.Dt();i!==null&&t.T_(i),e.Vn()}}Mp(){return this.Kv.bitmapSize}xp(t,e,i){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,e,i)}fp(t){if(t===0||this.Ep===null)return;if(t>1&&this.um(),this.yp!==null&&this.yp.fp(t),this.Cp!==null&&this.Cp.fp(t),t!==1){this.Kv.applySuggestedBitmapSize();const i=_n(this.Kv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.pp(s)}),this.Ep&&(this.dm(i,Uw),this.fm(i),this.vm(i),this.dm(i,ar),this.dm(i,Fw)))}this.Gv.applySuggestedBitmapSize();const e=_n(this.Gv);e!==null&&(e.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.pm(e),this.dm(e,Bw))}bm(){return this.yp}wm(){return this.Cp}mp(t,e){this.dm(t,e)}Np(){this.Ep!==null&&this.Ep.F_().p(this),this.Ep=null}Qp(t){this.tm(this.Dp,t)}tm(t,e){const i=e.localX,s=e.localY;t.M()&&t.m(this.$i().St().Eu(i),{x:i,y:s},e)}pp({context:t,bitmapSize:e}){const{width:i,height:s}=e,r=this.$i(),o=r.q(),l=r.md();o===l?xo(t,0,0,i,s,l):fm(t,0,0,i,s,o,l)}fm(t){const e=C(this.Ep).W_().Uh().gt();e!==null&&e.X(t,!1)}vm(t){const e=this.$i().qc();this.gm(t,ar,za,e),this.gm(t,ar,Tr,e)}pm(t){this.gm(t,ar,Tr,this.$i().Yc())}dm(t,e){const i=C(this.Ep).$o();for(const s of i)this.gm(t,e,za,s);for(const s of i)this.gm(t,e,Tr,s)}gm(t,e,i,s){const r=C(this.Ep),o=r.$t().Fc(),l=o!==null&&o.jc===s,a=o!==null&&l&&o.Av!==void 0?o.Av.gr:void 0;Ra(e,u=>i(u,t,l,a),s,r)}Yp(){if(this.Ep===null)return;const t=this.Jd,e=this.Ep.P_().W().visible,i=this.Ep.R_().W().visible;e||this.yp===null||(this.Wp.removeChild(this.yp.hp()),this.yp.S(),this.yp=null),i||this.Cp===null||(this.jp.removeChild(this.Cp.hp()),this.Cp.S(),this.Cp=null);const s=t.$t()._d();e&&this.yp===null&&(this.yp=new rd(this,t.W(),s,"left"),this.Wp.appendChild(this.yp.hp())),i&&this.Cp===null&&(this.Cp=new rd(this,t.W(),s,"right"),this.jp.appendChild(this.Cp.hp()))}Mm(t){return t.Rv&&this.Bp||this.Ap!==null}xm(t){return Math.max(0,Math.min(t,this.Lv.width-1))}Sm(t){return Math.max(0,Math.min(t,this.Lv.height-1))}Kp(t,e,i){this.$i().hd(this.xm(t),this.Sm(e),i,C(this.Ep))}rm(){this.$i().ad()}am(){this.Ip&&(this.Ap=null,this.rm())}sm(t,e,i){this.Ap=t,this.Ip=!1,this.Kp(e.x,e.y,i);const s=this.$i().Yc();this.zp={x:s.Yt(),y:s.Zt()}}$i(){return this.Jd.$t()}nm(t){if(!this.Rp)return;const e=this.$i(),i=this.dp();if(e.I_(i,i.vn()),this.Pp=null,this.Rp=!1,e.sd(),this.Lp!==null){const s=performance.now(),r=e.St();this.Lp.Dr(r.ju(),s),this.Lp.Ju(s)||e.Zn(this.Lp)}}Xp(){this.Ap=null}Gp(){if(this.Ep){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)C(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Ep.vn().Ni()&&this.$i().St().Ni()}}im(t){if(this.Ep===null)return;const e=this.$i(),i=e.St();if(i.Ni())return;const s=this.Jd.W(),r=s.handleScroll,o=s.kineticScroll;if((!r.pressedMouseMove||t.Rv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Rv))return;const l=this.Ep.vn(),a=performance.now();if(this.Pp!==null||this.Mm(t)||(this.Pp={x:t.clientX,y:t.clientY,Vd:a,km:t.localX,ym:t.localY}),this.Pp!==null&&!this.Rp&&(this.Pp.x!==t.clientX||this.Pp.y!==t.clientY)){if(t.Rv&&o.touch||!t.Rv&&o.mouse){const u=i.he();this.Lp=new Iw(.2/u,7/u,.997,15/u),this.Lp.qd(i.ju(),this.Pp.Vd)}else this.Lp=null;l.Ni()||e.B_(this.Ep,l,t.localY),e.td(t.localX),this.Rp=!0}this.Rp&&(l.Ni()||e.A_(this.Ep,l,t.localY),e.nd(t.localX),this.Lp!==null&&this.Lp.qd(i.ju(),a))}}class od{constructor(t,e,i,s,r){this.ft=!0,this.Lv=W({width:0,height:0}),this.jv=()=>this.fp(3),this.Uv=t==="left",this.Vc=i._d,this.cn=e,this.Cm=s,this.Tm=r,this.Xv=document.createElement("div"),this.Xv.style.width="25px",this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Kv=Sn(this.Xv,W({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv)}S(){this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),kn(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Xv}_m(){return this.Lv}up(t){pn(this.Lv,t)||(this.Lv=t,this.Kv.resizeCanvasElement(t),this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`,this.ft=!0)}fp(t){if(t<3&&!this.ft||this.Lv.width===0||this.Lv.height===0)return;this.ft=!1,this.Kv.applySuggestedBitmapSize();const e=_n(this.Kv);e!==null&&e.useBitmapCoordinateSpace(i=>{this.pp(i),this.Ae(i)})}Mp(){return this.Kv.bitmapSize}xp(t,e,i){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,e,i)}Ae({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.Cm())return;t.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Vc.W().C*i),o=Math.floor(this.Vc.W().C*s),l=this.Uv?e.width-r:0;t.fillRect(l,0,r,o)}pp({context:t,bitmapSize:e}){xo(t,0,0,e.width,e.height,this.Tm())}}function Xu(n){return t=>{var e,i;return(i=(e=t.da)===null||e===void 0?void 0:e.call(t,n))!==null&&i!==void 0?i:[]}}const Ww=Xu("normal"),Hw=Xu("top"),Kw=Xu("bottom");class Jw{constructor(t,e){this.Pm=null,this.Rm=null,this.k=null,this.Dm=!1,this.Lv=W({width:0,height:0}),this.Vm=new Y,this.Nv=new _s(5),this.Wv=!1,this.jv=()=>{this.Wv||this.Jd.$t().$h()},this.$v=()=>{this.Wv||this.Jd.$t().$h()},this.Jd=t,this.U_=e,this.cn=t.W().layout,this.Zd=document.createElement("tr"),this.Om=document.createElement("td"),this.Om.style.padding="0",this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Xv=document.createElement("td"),this.Xv.style.height="25px",this.Xv.style.padding="0",this.Am=document.createElement("div"),this.Am.style.width="100%",this.Am.style.height="100%",this.Am.style.position="relative",this.Am.style.overflow="hidden",this.Xv.appendChild(this.Am),this.Kv=Sn(this.Am,W({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const i=this.Kv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Gv=Sn(this.Am,W({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Zd.appendChild(this.Om),this.Zd.appendChild(this.Xv),this.Zd.appendChild(this.Bm),this.Im(),this.Jd.$t().w_().l(this.Im.bind(this),this),this.rp=new Ju(this.Gv.canvasElement,this,{sv:()=>!0,ev:()=>!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.rp.S(),this.Pm!==null&&this.Pm.S(),this.Rm!==null&&this.Rm.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),kn(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),kn(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Zd}zm(){return this.Pm}Lm(){return this.Rm}mv(t){if(this.Dm)return;this.Dm=!0;const e=this.Jd.$t();!e.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&e.Gc(t.localX)}vv(t){this.mv(t)}bv(){const t=this.Jd.$t();!t.St().Ni()&&this.Dm&&(this.Dm=!1,this.Jd.W().handleScale.axisPressedMouseMove.time&&t.rd())}lv(t){const e=this.Jd.$t();!e.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&e.ed(t.localX)}rv(t){this.lv(t)}uv(){this.Dm=!1;const t=this.Jd.$t();t.St().Ni()&&!this.Jd.W().handleScale.axisPressedMouseMove.time||t.rd()}ov(){this.uv()}Uf(){this.Jd.W().handleScale.axisDoubleClickReset.time&&this.Jd.$t().Kn()}Wf(){this.Uf()}Jf(){this.Jd.$t().W().handleScale.axisPressedMouseMove.time&&this.Sp(1)}Tv(){this.Sp(0)}_m(){return this.Lv}Em(){return this.Vm}Nm(t,e,i){pn(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`,this.Vm.m(t)),this.Pm!==null&&this.Pm.up(W({width:e,height:t.height})),this.Rm!==null&&this.Rm.up(W({width:i,height:t.height}))}Fm(){const t=this.Wm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.jm)}bt(){this.Jd.$t().St().ja()}Mp(){return this.Kv.bitmapSize}xp(t,e,i){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,e,i)}fp(t){if(t===0)return;if(t!==1){this.Kv.applySuggestedBitmapSize();const i=_n(this.Kv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.pp(s),this.Ae(s),this.Hm(i,Kw)}),this.bp(i),this.Hm(i,Ww)),this.Pm!==null&&this.Pm.fp(t),this.Rm!==null&&this.Rm.fp(t)}this.Gv.applySuggestedBitmapSize();const e=_n(this.Gv);e!==null&&(e.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.$m([...this.Jd.$t().wt(),this.Jd.$t().Yc()],e),this.Hm(e,Hw))}Hm(t,e){const i=this.Jd.$t().wt();for(const s of i)Ra(e,r=>za(r,t,!1,void 0),s,void 0);for(const s of i)Ra(e,r=>Tr(r,t,!1,void 0),s,void 0)}pp({context:t,bitmapSize:e}){xo(t,0,0,e.width,e.height,this.Jd.$t().md())}Ae({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Jd.W().timeScale.borderVisible){t.fillStyle=this.Um();const s=Math.max(1,Math.floor(this.Wm().C*i));t.fillRect(0,0,e.width,s)}}bp(t){const e=this.Jd.$t().St(),i=e.ja();if(!i||i.length===0)return;const s=this.U_.maxTickMarkWeight(i),r=this.Wm(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.strokeStyle=this.Um(),l.fillStyle=this.Um();const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a);l.beginPath();const d=Math.round(r.T*u);for(let f=i.length;f--;){const g=Math.round(i[f].coord*a);l.rect(g-c,0,h,d)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const a=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this.op();for(const u of i)if(u.weight<s){const h=u.needAlignCoordinate?this.qm(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}this.Jd.W().timeScale.allowBoldLabels&&(l.font=this.Ym());for(const u of i)if(u.weight>=s){const h=u.needAlignCoordinate?this.qm(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}})}qm(t,e,i){const s=this.Nv.xi(t,i),r=s/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+s>this.Lv.width&&(e-=Math.abs(this.Lv.width-(o+s))),e}$m(t,e){const i=this.Wm();for(const s of t)for(const r of s.Qi())r.gt().X(e,i)}Um(){return this.Jd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}op(){return ci(this.j(),this.cn.fontFamily)}Ym(){return ci(this.j(),this.cn.fontFamily,"bold")}Wm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new _s,jm:0});const t=this.k,e=this.op();if(t.R!==e){const i=this.j();t.P=i,t.R=e,t.L=3*i/12,t.B=3*i/12,t.ji=9*i/12,t.N=0,t.jm=4*i/12,t.Wi.ir()}return this.k}Sp(t){this.Xv.style.cursor=t===1?"ew-resize":"default"}Im(){const t=this.Jd.$t(),e=t.W();e.leftPriceScale.visible||this.Pm===null||(this.Om.removeChild(this.Pm.hp()),this.Pm.S(),this.Pm=null),e.rightPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.hp()),this.Rm.S(),this.Rm=null);const i={_d:this.Jd.$t()._d()},s=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t.md();e.leftPriceScale.visible&&this.Pm===null&&(this.Pm=new od("left",e,i,s,r),this.Om.appendChild(this.Pm.hp())),e.rightPriceScale.visible&&this.Rm===null&&(this.Rm=new od("right",e,i,s,r),this.Bm.appendChild(this.Rm.hp()))}}const Gw=!!di&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(n=>n.brand.includes("Chromium"))&&!!di&&(!((Cl=navigator==null?void 0:navigator.userAgentData)===null||Cl===void 0)&&Cl.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Cl;class Xw{constructor(t,e,i){var s;this.Zm=[],this.Xm=0,this.ro=0,this.o_=0,this.Km=0,this.Gm=0,this.Jm=null,this.Qm=!1,this.Dp=new Y,this.Vp=new Y,this.Pc=new Y,this.tb=null,this.ib=null,this.Gd=t,this.cn=e,this.U_=i,this.Zd=document.createElement("div"),this.Zd.classList.add("tv-lightweight-charts"),this.Zd.style.overflow="hidden",this.Zd.style.direction="ltr",this.Zd.style.width="100%",this.Zd.style.height="100%",(s=this.Zd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.nb=document.createElement("table"),this.nb.setAttribute("cellspacing","0"),this.Zd.appendChild(this.nb),this.sb=this.eb.bind(this),El(this.cn)&&this.rb(!0),this.$i=new $w(this.Dc.bind(this),this.cn,i),this.$t().Zc().l(this.hb.bind(this),this),this.lb=new Jw(this,this.U_),this.nb.appendChild(this.lb.hp());const r=e.autoSize&&this.ab();let o=this.cn.width,l=this.cn.height;if(r||o===0||l===0){const a=t.getBoundingClientRect();o=o||a.width,l=l||a.height}this.ob(o,l),this._b(),t.appendChild(this.Zd),this.ub(),this.$i.St().sc().l(this.$i.Xl.bind(this.$i),this),this.$i.w_().l(this.$i.Xl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}qp(){return this.Zm}cb(){return this.lb}S(){this.rb(!1),this.Xm!==0&&window.cancelAnimationFrame(this.Xm),this.$i.Zc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S();for(const t of this.Zm)this.nb.removeChild(t.hp()),t.hm().p(this),t.lm().p(this),t.S();this.Zm=[],C(this.lb).S(),this.Zd.parentElement!==null&&this.Zd.parentElement.removeChild(this.Zd),this.Pc.S(),this.Dp.S(),this.Vp.S(),this.fb()}ob(t,e,i=!1){if(this.ro===e&&this.o_===t)return;const s=function(l){const a=Math.floor(l.width),u=Math.floor(l.height);return W({width:a-a%2,height:u-u%2})}(W({width:t,height:e}));this.ro=s.height,this.o_=s.width;const r=this.ro+"px",o=this.o_+"px";C(this.Zd).style.height=r,C(this.Zd).style.width=o,this.nb.style.height=r,this.nb.style.width=o,i?this.pb(at.es(),performance.now()):this.$i.Xl()}fp(t){t===void 0&&(t=at.es());for(let e=0;e<this.Zm.length;e++)this.Zm[e].fp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.lb.fp(t.jn())}Hh(t){const e=El(this.cn);this.$i.Hh(t);const i=El(this.cn);i!==e&&this.rb(i),this.ub(),this.mb(t)}hm(){return this.Dp}lm(){return this.Vp}Zc(){return this.Pc}bb(){this.Jm!==null&&(this.pb(this.Jm,performance.now()),this.Jm=null);const t=this.wb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=C(e.getContext("2d"));return this.wb(i),e}gb(t){return t==="left"&&!this.Mb()||t==="right"&&!this.xb()||this.Zm.length===0?0:C(t==="left"?this.Zm[0].bm():this.Zm[0].wm()).cp()}Sb(){return this.cn.autoSize&&this.tb!==null}kb(){return this.Zd}Jp(t){this.ib=t,this.ib?this.kb().style.setProperty("cursor",t):this.kb().style.removeProperty("cursor")}yb(){return this.ib}Cb(){return gt(this.Zm[0])._m()}mb(t){(t.autoSize!==void 0||!this.tb||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.tb&&this.ab(),t.autoSize===!1&&this.tb!==null&&this.fb(),t.autoSize||t.width===void 0&&t.height===void 0||this.ob(t.width||this.o_,t.height||this.ro))}wb(t){let e=0,i=0;const s=this.Zm[0],r=(l,a)=>{let u=0;for(let h=0;h<this.Zm.length;h++){const c=this.Zm[h],d=C(l==="left"?c.bm():c.wm()),f=d.Mp();t!==null&&d.xp(t,a,u),u+=f.height}};this.Mb()&&(r("left",0),e+=C(s.bm()).Mp().width);for(let l=0;l<this.Zm.length;l++){const a=this.Zm[l],u=a.Mp();t!==null&&a.xp(t,e,i),i+=u.height}e+=s.Mp().width,this.xb()&&(r("right",e),e+=C(s.wm()).Mp().width);const o=(l,a,u)=>{C(l==="left"?this.lb.zm():this.lb.Lm()).xp(C(t),a,u)};if(this.cn.timeScale.visible){const l=this.lb.Mp();if(t!==null){let a=0;this.Mb()&&(o("left",a,i),a=C(s.bm()).Mp().width),this.lb.xp(t,a,i),a+=l.width,this.xb()&&o("right",a,i)}i+=l.height}return W({width:e,height:i})}Tb(){let t=0,e=0,i=0;for(const g of this.Zm)this.Mb()&&(e=Math.max(e,C(g.bm()).ap(),this.cn.leftPriceScale.minimumWidth)),this.xb()&&(i=Math.max(i,C(g.wm()).ap(),this.cn.rightPriceScale.minimumWidth)),t+=g.g_();e=$a(e),i=$a(i);const s=this.o_,r=this.ro,o=Math.max(s-e-i,0),l=this.cn.timeScale.visible;let a=l?Math.max(this.lb.Fm(),this.cn.timeScale.minimumHeight):0;var u;a=(u=a)+u%2;const h=0+a,c=r<h?0:r-h,d=c/t;let f=0;for(let g=0;g<this.Zm.length;++g){const v=this.Zm[g];v.Up(this.$i.Uc()[g]);let _=0,m=0;m=g===this.Zm.length-1?c-f:Math.round(v.g_()*d),_=Math.max(m,2),f+=_,v.up(W({width:o,height:_})),this.Mb()&&v.om(e,"left"),this.xb()&&v.om(i,"right"),v.dp()&&this.$i.Xc(v.dp(),_)}this.lb.Nm(W({width:l?o:0,height:a}),l?e:0,l?i:0),this.$i.x_(o),this.Km!==e&&(this.Km=e),this.Gm!==i&&(this.Gm=i)}rb(t){t?this.Zd.addEventListener("wheel",this.sb,{passive:!1}):this.Zd.removeEventListener("wheel",this.sb)}Pb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Gw?1/window.devicePixelRatio:1}eb(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const e=this.Pb(t),i=e*t.deltaX/100,s=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),o=t.clientX-this.Zd.getBoundingClientRect().left;this.$t().Jc(o,r)}i!==0&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*i)}pb(t,e){var i;const s=t.jn();s===3&&this.Rb(),s!==3&&s!==2||(this.Db(t),this.Vb(t,e),this.lb.bt(),this.Zm.forEach(r=>{r.Zp()}),((i=this.Jm)===null||i===void 0?void 0:i.jn())===3&&(this.Jm.ts(t),this.Rb(),this.Db(this.Jm),this.Vb(this.Jm,e),t=this.Jm,this.Jm=null)),this.fp(t)}Vb(t,e){for(const i of t.Qn())this.ns(i,e)}Db(t){const e=this.$i.Uc();for(let i=0;i<e.length;i++)t.Hn(i).Wn&&e[i].E_()}ns(t,e){const i=this.$i.St();switch(t.qn){case 0:i.rc();break;case 1:i.hc(t.Vt);break;case 2:i.Gn(t.Vt);break;case 3:i.Jn(t.Vt);break;case 4:i.Uu();break;case 5:t.Vt.Ju(e)||i.Jn(t.Vt.Qu(e))}}Dc(t){this.Jm!==null?this.Jm.ts(t):this.Jm=t,this.Qm||(this.Qm=!0,this.Xm=window.requestAnimationFrame(e=>{if(this.Qm=!1,this.Xm=0,this.Jm!==null){const i=this.Jm;this.Jm=null,this.pb(i,e);for(const s of i.Qn())if(s.qn===5&&!s.Vt.Ju(e)){this.$t().Zn(s.Vt);break}}}))}Rb(){this._b()}_b(){const t=this.$i.Uc(),e=t.length,i=this.Zm.length;for(let s=e;s<i;s++){const r=gt(this.Zm.pop());this.nb.removeChild(r.hp()),r.hm().p(this),r.lm().p(this),r.S()}for(let s=i;s<e;s++){const r=new Gu(this,t[s]);r.hm().l(this.Ob.bind(this),this),r.lm().l(this.Bb.bind(this),this),this.Zm.push(r),this.nb.insertBefore(r.hp(),this.lb.hp())}for(let s=0;s<e;s++){const r=t[s],o=this.Zm[s];o.dp()!==r?o.Up(r):o.$p()}this.ub(),this.Tb()}Ab(t,e,i){var s;const r=new Map;t!==null&&this.$i.wt().forEach(h=>{const c=h.In().hl(t);c!==null&&r.set(h,c)});let o;if(t!==null){const h=(s=this.$i.St().Ui(t))===null||s===void 0?void 0:s.originalTime;h!==void 0&&(o=h)}const l=this.$t().Fc(),a=l!==null&&l.jc instanceof Hu?l.jc:void 0,u=l!==null&&l.Av!==void 0?l.Av.wr:void 0;return{Ib:o,se:t??void 0,zb:e??void 0,Lb:a,Eb:r,Nb:u,Fb:i??void 0}}Ob(t,e,i){this.Dp.m(()=>this.Ab(t,e,i))}Bb(t,e,i){this.Vp.m(()=>this.Ab(t,e,i))}hb(t,e,i){this.Pc.m(()=>this.Ab(t,e,i))}ub(){const t=this.cn.timeScale.visible?"":"none";this.lb.hp().style.display=t}Mb(){return this.Zm[0].dp().P_().W().visible}xb(){return this.Zm[0].dp().R_().W().visible}ab(){return"ResizeObserver"in window&&(this.tb=new ResizeObserver(t=>{const e=t.find(i=>i.target===this.Gd);e&&this.ob(e.contentRect.width,e.contentRect.height)}),this.tb.observe(this.Gd,{box:"border-box"}),!0)}fb(){this.tb!==null&&this.tb.disconnect(),this.tb=null}}function El(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function Zw(n){return function(t){return t.open!==void 0}(n)||function(t){return t.value!==void 0}(n)}function $m(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]])}return e}function ld(n,t,e,i){const s=e.value,r={se:t,ot:n,Vt:[s,s,s,s],Ib:i};return e.color!==void 0&&(r.V=e.color),r}function Qw(n,t,e,i){const s=e.value,r={se:t,ot:n,Vt:[s,s,s,s],Ib:i};return e.lineColor!==void 0&&(r.lt=e.lineColor),e.topColor!==void 0&&(r.Ts=e.topColor),e.bottomColor!==void 0&&(r.Ps=e.bottomColor),r}function Yw(n,t,e,i){const s=e.value,r={se:t,ot:n,Vt:[s,s,s,s],Ib:i};return e.topLineColor!==void 0&&(r.Pe=e.topLineColor),e.bottomLineColor!==void 0&&(r.Re=e.bottomLineColor),e.topFillColor1!==void 0&&(r.Se=e.topFillColor1),e.topFillColor2!==void 0&&(r.ke=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.ye=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.Ce=e.bottomFillColor2),r}function qw(n,t,e,i){const s={se:t,ot:n,Vt:[e.open,e.high,e.low,e.close],Ib:i};return e.color!==void 0&&(s.V=e.color),s}function t_(n,t,e,i){const s={se:t,ot:n,Vt:[e.open,e.high,e.low,e.close],Ib:i};return e.color!==void 0&&(s.V=e.color),e.borderColor!==void 0&&(s.Ot=e.borderColor),e.wickColor!==void 0&&(s.Zh=e.wickColor),s}function e_(n,t,e,i,s){const r=gt(s)(e),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],u=[a,o,l,a],h=e,{time:c,color:d}=h;return{se:t,ot:n,Vt:u,Ib:i,He:$m(h,["time","color"]),V:d}}function ur(n){return n.Vt!==void 0}function ad(n,t){return t.customValues!==void 0&&(n.Wb=t.customValues),n}function en(n){return(t,e,i,s,r,o)=>function(l,a){return a?a(l):(u=l).open===void 0&&u.value===void 0;var u}(i,o)?ad({ot:t,se:e,Ib:s},i):ad(n(t,e,i,s,r),i)}function ud(n){return{Candlestick:en(t_),Bar:en(qw),Area:en(Qw),Baseline:en(Yw),Histogram:en(ld),Line:en(ld),Custom:en(e_)}[n]}function hd(n){return{se:0,jb:new Map,ha:n}}function cd(n,t){if(n!==void 0&&n.length!==0)return{Hb:t.key(n[0].ot),$b:t.key(n[n.length-1].ot)}}function dd(n){let t;return n.forEach(e=>{t===void 0&&(t=e.Ib)}),gt(t)}class n_{constructor(t){this.Ub=new Map,this.qb=new Map,this.Yb=new Map,this.Zb=[],this.U_=t}S(){this.Ub.clear(),this.qb.clear(),this.Yb.clear(),this.Zb=[]}Xb(t,e){let i=this.Ub.size!==0,s=!1;const r=this.qb.get(t);if(r!==void 0)if(this.qb.size===1)i=!1,s=!0,this.Ub.clear();else for(const a of this.Zb)a.pointData.jb.delete(t)&&(s=!0);let o=[];if(e.length!==0){const a=e.map(f=>f.time),u=this.U_.createConverterToInternalObj(e),h=ud(t.Jh()),c=t.ya(),d=t.Ca();o=e.map((f,g)=>{const v=u(f.time),_=this.U_.key(v);let m=this.Ub.get(_);m===void 0&&(m=hd(v),this.Ub.set(_,m),s=!0);const p=h(v,m.se,f,a[g],c,d);return m.jb.set(t,p),p})}i&&this.Kb(),this.Gb(t,o);let l=-1;if(s){const a=[];this.Ub.forEach(u=>{a.push({timeWeight:0,time:u.ha,pointData:u,originalTime:dd(u.jb)})}),a.sort((u,h)=>this.U_.key(u.time)-this.U_.key(h.time)),l=this.Jb(a)}return this.Qb(t,l,function(a,u,h){const c=cd(a,h),d=cd(u,h);if(c!==void 0&&d!==void 0)return{Ql:c.$b>=d.$b&&c.Hb>=d.Hb}}(this.qb.get(t),r,this.U_))}fd(t){return this.Xb(t,[])}tw(t,e){const i=e;(function(v){v.Ib===void 0&&(v.Ib=v.time)})(i),this.U_.preprocessData(e);const s=this.U_.createConverterToInternalObj([e])(e.time),r=this.Yb.get(t);if(r!==void 0&&this.U_.key(s)<this.U_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let o=this.Ub.get(this.U_.key(s));const l=o===void 0;o===void 0&&(o=hd(s),this.Ub.set(this.U_.key(s),o));const a=ud(t.Jh()),u=t.ya(),h=t.Ca(),c=a(s,o.se,e,i.Ib,u,h);o.jb.set(t,c),this.iw(t,c);const d={Ql:ur(c)};if(!l)return this.Qb(t,-1,d);const f={timeWeight:0,time:o.ha,pointData:o,originalTime:dd(o.jb)},g=js(this.Zb,this.U_.key(f.time),(v,_)=>this.U_.key(v.time)<_);this.Zb.splice(g,0,f);for(let v=g;v<this.Zb.length;++v)Pl(this.Zb[v].pointData,v);return this.U_.fillWeightsForPoints(this.Zb,g),this.Qb(t,g,d)}iw(t,e){let i=this.qb.get(t);i===void 0&&(i=[],this.qb.set(t,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.U_.key(e.ot)>this.U_.key(s.ot)?ur(e)&&i.push(e):ur(e)?i[i.length-1]=e:i.splice(-1,1),this.Yb.set(t,e.ot)}Gb(t,e){e.length!==0?(this.qb.set(t,e.filter(ur)),this.Yb.set(t,e[e.length-1].ot)):(this.qb.delete(t),this.Yb.delete(t))}Kb(){for(const t of this.Zb)t.pointData.jb.size===0&&this.Ub.delete(this.U_.key(t.time))}Jb(t){let e=-1;for(let i=0;i<this.Zb.length&&i<t.length;++i){const s=this.Zb[i],r=t[i];if(this.U_.key(s.time)!==this.U_.key(r.time)){e=i;break}r.timeWeight=s.timeWeight,Pl(r.pointData,i)}if(e===-1&&this.Zb.length!==t.length&&(e=Math.min(this.Zb.length,t.length)),e===-1)return-1;for(let i=e;i<t.length;++i)Pl(t[i].pointData,i);return this.U_.fillWeightsForPoints(t,e),this.Zb=t,e}nw(){if(this.qb.size===0)return null;let t=0;return this.qb.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].se))}),t}Qb(t,e,i){const s={sw:new Map,St:{Lu:this.nw()}};if(e!==-1)this.qb.forEach((r,o)=>{s.sw.set(o,{He:r,ew:o===t?i:void 0})}),this.qb.has(t)||s.sw.set(t,{He:[],ew:i}),s.St.rw=this.Zb,s.St.hw=e;else{const r=this.qb.get(t);s.sw.set(t,{He:r||[],ew:i})}return s}}function Pl(n,t){n.se=t,n.jb.forEach(e=>{e.se=t})}function Zu(n){const t={value:n.Vt[3],time:n.Ib};return n.Wb!==void 0&&(t.customValues=n.Wb),t}function fd(n){const t=Zu(n);return n.V!==void 0&&(t.color=n.V),t}function i_(n){const t=Zu(n);return n.lt!==void 0&&(t.lineColor=n.lt),n.Ts!==void 0&&(t.topColor=n.Ts),n.Ps!==void 0&&(t.bottomColor=n.Ps),t}function s_(n){const t=Zu(n);return n.Pe!==void 0&&(t.topLineColor=n.Pe),n.Re!==void 0&&(t.bottomLineColor=n.Re),n.Se!==void 0&&(t.topFillColor1=n.Se),n.ke!==void 0&&(t.topFillColor2=n.ke),n.ye!==void 0&&(t.bottomFillColor1=n.ye),n.Ce!==void 0&&(t.bottomFillColor2=n.Ce),t}function zm(n){const t={open:n.Vt[0],high:n.Vt[1],low:n.Vt[2],close:n.Vt[3],time:n.Ib};return n.Wb!==void 0&&(t.customValues=n.Wb),t}function r_(n){const t=zm(n);return n.V!==void 0&&(t.color=n.V),t}function o_(n){const t=zm(n),{V:e,Ot:i,Zh:s}=n;return e!==void 0&&(t.color=e),i!==void 0&&(t.borderColor=i),s!==void 0&&(t.wickColor=s),t}function Na(n){return{Area:i_,Line:fd,Baseline:s_,Histogram:fd,Bar:r_,Candlestick:o_,Custom:l_}[n]}function l_(n){const t=n.Ib;return Object.assign(Object.assign({},n.He),{time:t})}const a_={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},u_={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},h_={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Au,attributionLogo:!0},Tl={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},c_={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},d_={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Au,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function pd(){return{width:0,height:0,autoSize:!1,layout:h_,crosshair:a_,grid:u_,overlayPriceScales:Object.assign({},Tl),leftPriceScale:Object.assign(Object.assign({},Tl),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Tl),{visible:!0}),timeScale:c_,watermark:d_,localization:{locale:di?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class f_{constructor(t,e){this.lw=t,this.aw=e}applyOptions(t){this.lw.$t().Hc(this.aw,t)}options(){return this.Li().W()}width(){return Eo(this.aw)?this.lw.gb(this.aw):0}Li(){return C(this.lw.$t().$c(this.aw)).Dt}}function md(n,t,e){const i=$m(n,["time","originalTime"]),s=Object.assign({time:t},i);return e!==void 0&&(s.originalTime=e),s}const p_={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class m_{constructor(t){this.Eh=t}applyOptions(t){this.Eh.Hh(t)}options(){return this.Eh.W()}ow(){return this.Eh}}class v_{constructor(t,e,i,s,r){this._w=new Y,this.Ls=t,this.uw=e,this.cw=i,this.U_=r,this.dw=s}S(){this._w.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(t){const e=this.Ls.Ct();return e===null?null:this.Ls.Dt().Rt(t,e.Vt)}coordinateToPrice(t){const e=this.Ls.Ct();return e===null?null:this.Ls.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(t===null)return null;const e=new ni(new Xi(t.from,t.to)).hu(),i=this.Ls.In();if(i.Ni())return null;const s=i.hl(e.Vs(),1),r=i.hl(e.ui(),-1),o=C(i.sl()),l=C(i.An());if(s!==null&&r!==null&&s.se>r.se)return{barsBefore:t.from-o,barsAfter:l-t.to};const a={barsBefore:s===null||s.se===o?t.from-o:s.se-o,barsAfter:r===null||r.se===l?l-t.to:l-r.se};return s!==null&&r!==null&&(a.from=s.Ib,a.to=r.Ib),a}setData(t){this.U_,this.Ls.Jh(),this.uw.fw(this.Ls,t),this.pw("full")}update(t){this.Ls.Jh(),this.uw.mw(this.Ls,t),this.pw("update")}dataByIndex(t,e){const i=this.Ls.In().hl(t,e);return i===null?null:Na(this.seriesType())(i)}data(){const t=Na(this.seriesType());return this.Ls.In().ie().map(e=>t(e))}subscribeDataChanged(t){this._w.l(t)}unsubscribeDataChanged(t){this._w.v(t)}setMarkers(t){this.U_;const e=t.map(i=>md(i,this.U_.convertHorzItemToInternal(i.time),i.time));this.Ls.ia(e)}markers(){return this.Ls.na().map(t=>md(t,t.originalTime,void 0))}applyOptions(t){this.Ls.Hh(t)}options(){return fe(this.Ls.W())}priceScale(){return this.cw.priceScale(this.Ls.Dt().Ta())}createPriceLine(t){const e=Yt(fe(p_),t),i=this.Ls.sa(e);return new m_(i)}removePriceLine(t){this.Ls.ea(t.ow())}seriesType(){return this.Ls.Jh()}attachPrimitive(t){this.Ls.Sa(t),t.attached&&t.attached({chart:this.dw,series:this,requestUpdate:()=>this.Ls.$t().Xl()})}detachPrimitive(t){this.Ls.ka(t),t.detached&&t.detached()}pw(t){this._w.M()&&this._w.m(t)}}class g_{constructor(t,e,i){this.bw=new Y,this.pu=new Y,this.Vm=new Y,this.$i=t,this.kl=t.St(),this.lb=e,this.kl.tc().l(this.ww.bind(this)),this.kl.nc().l(this.gw.bind(this)),this.lb.Em().l(this.Mw.bind(this)),this.U_=i}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.lb.Em().p(this),this.bw.S(),this.pu.S(),this.Vm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(t,e){e?this.kl.Gu(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.kl.Ku()}getVisibleRange(){const t=this.kl.Du();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.U_.convertHorzItemToInternal(t.from),to:this.U_.convertHorzItemToInternal(t.to)},i=this.kl.Au(e);this.$i.vd(i)}getVisibleLogicalRange(){const t=this.kl.Ru();return t===null?null:{from:t.Vs(),to:t.ui()}}setVisibleLogicalRange(t){Je(t.from<=t.to,"The from index cannot be after the to index."),this.$i.vd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.rc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.kl.Ni()?null:this.kl.Eu(t)}timeToCoordinate(t){const e=this.U_.convertHorzItemToInternal(t),i=this.kl.Da(e,!1);return i===null?null:this.kl.It(i)}coordinateToTime(t){const e=this.$i.St(),i=e.Eu(t),s=e.Ui(i);return s===null?null:s.originalTime}width(){return this.lb._m().width}height(){return this.lb._m().height}subscribeVisibleTimeRangeChange(t){this.bw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.bw.v(t)}subscribeVisibleLogicalRangeChange(t){this.pu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.pu.v(t)}subscribeSizeChange(t){this.Vm.l(t)}unsubscribeSizeChange(t){this.Vm.v(t)}applyOptions(t){this.kl.Hh(t)}options(){return Object.assign(Object.assign({},fe(this.kl.W())),{barSpacing:this.kl.he()})}ww(){this.bw.M()&&this.bw.m(this.getVisibleRange())}gw(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}Mw(t){this.Vm.m(t.width,t.height)}}function y_(n){if(n===void 0||n.type==="custom")return;const t=n;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let i=0;for(;i<8;i++){const s=Math.round(e);if(Math.abs(s-e)<1e-8)return i;e*=10}return i}(t.minMove))}function vd(n){return function(t){if(tr(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=t.handleScale;tr(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),tr(s)&&(t.handleScale.axisDoubleClickReset={time:s,price:s})}const e=t.handleScroll;tr(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(n),n}class w_{constructor(t,e,i){this.xw=new Map,this.Sw=new Map,this.kw=new Y,this.yw=new Y,this.Cw=new Y,this.Tw=new n_(e);const s=i===void 0?fe(pd()):Yt(fe(pd()),vd(i));this.U_=e,this.lw=new Xw(t,s,e),this.lw.hm().l(o=>{this.kw.M()&&this.kw.m(this.Pw(o()))},this),this.lw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Pw(o()))},this),this.lw.Zc().l(o=>{this.Cw.M()&&this.Cw.m(this.Pw(o()))},this);const r=this.lw.$t();this.Rw=new g_(r,this.lw.cb(),this.U_)}remove(){this.lw.hm().p(this),this.lw.lm().p(this),this.lw.Zc().p(this),this.Rw.S(),this.lw.S(),this.xw.clear(),this.Sw.clear(),this.kw.S(),this.yw.S(),this.Cw.S(),this.Tw.S()}resize(t,e,i){this.autoSizeActive()||this.lw.ob(t,e,i)}addCustomSeries(t,e){const i=Gn(t),s=Object.assign(Object.assign({},am),i.defaultOptions());return this.Dw("Custom",s,e,i)}addAreaSeries(t){return this.Dw("Area",n1,t)}addBaselineSeries(t){return this.Dw("Baseline",i1,t)}addBarSeries(t){return this.Dw("Bar",t1,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.Dw("Candlestick",qy,t)}addHistogramSeries(t){return this.Dw("Histogram",s1,t)}addLineSeries(t){return this.Dw("Line",e1,t)}removeSeries(t){const e=gt(this.xw.get(t)),i=this.Tw.fd(e);this.lw.$t().fd(e),this.Vw(i),this.xw.delete(t),this.Sw.delete(e)}fw(t,e){this.Vw(this.Tw.Xb(t,e))}mw(t,e){this.Vw(this.Tw.tw(t,e))}subscribeClick(t){this.kw.l(t)}unsubscribeClick(t){this.kw.v(t)}subscribeCrosshairMove(t){this.Cw.l(t)}unsubscribeCrosshairMove(t){this.Cw.v(t)}subscribeDblClick(t){this.yw.l(t)}unsubscribeDblClick(t){this.yw.v(t)}priceScale(t){return new f_(this.lw,t)}timeScale(){return this.Rw}applyOptions(t){this.lw.Hh(vd(t))}options(){return this.lw.W()}takeScreenshot(){return this.lw.bb()}autoSizeActive(){return this.lw.Sb()}chartElement(){return this.lw.kb()}paneSize(){const t=this.lw.Cb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,i){const s=this.xw.get(i);if(s===void 0)return;const r=this.lw.$t().cr(s);r!==null&&this.lw.$t().ld(t,e,r)}clearCrosshairPosition(){this.lw.$t().ad(!0)}Dw(t,e,i={},s){y_(i.priceFormat);const r=Yt(fe(um),fe(e),i),o=this.lw.$t().ud(t,r,s),l=new v_(o,this,this,this,this.U_);return this.xw.set(l,o),this.Sw.set(o,l),l}Vw(t){const e=this.lw.$t();e.od(t.St.Lu,t.St.rw,t.St.hw),t.sw.forEach((i,s)=>s.J(i.He,i.ew)),e.Fu()}Ow(t){return gt(this.Sw.get(t))}Pw(t){const e=new Map;t.Eb.forEach((s,r)=>{const o=r.Jh(),l=Na(o)(s);if(o!=="Custom")Je(Zw(l));else{const a=r.Ca();Je(!a||a(l)===!1)}e.set(this.Ow(r),l)});const i=t.Lb!==void 0&&this.Sw.has(t.Lb)?this.Ow(t.Lb):void 0;return{time:t.Ib,logical:t.se,point:t.zb,hoveredSeries:i,hoveredObjectId:t.Nb,seriesData:e,sourceEvent:t.Fb}}}function __(n,t,e){let i;if(Ms(n)){const r=document.getElementById(n);Je(r!==null,`Cannot find element in DOM with id=${n}`),i=r}else i=n;const s=new w_(i,t,e);return t.setOptions(s.options()),s}function b_(n,t){return __(n,new ed,ed.Ad(t))}Object.assign(Object.assign({},um),am);function S_({data:n}){const t=k.useRef(null);return k.useEffect(()=>{if(!(!t.current||!n.length))try{const e=b_(t.current,{layout:{background:{type:Ma.Solid,color:"rgba(0, 0, 0, 0.0)"},textColor:"#00ffff"},grid:{vertLines:{color:"rgba(0, 255, 255, 0.1)"},horzLines:{color:"rgba(0, 255, 255, 0.1)"}},width:t.current.clientWidth,height:400,crosshair:{mode:1,vertLine:{color:"#ff00ff",width:1,style:3,labelBackgroundColor:"#ff00ff"},horzLine:{color:"#ff00ff",width:1,style:3,labelBackgroundColor:"#ff00ff"}}}),i=e.addLineSeries({color:"#ff00ff",lineWidth:2,crosshairMarkerVisible:!0,crosshairMarkerRadius:6,crosshairMarkerBorderColor:"#ff00ff",crosshairMarkerBackgroundColor:"#ff00ff",priceLineVisible:!1}),s=new Map;n.forEach(a=>{s.set(a.time,a)});const r=Array.from(s.values()).sort((a,u)=>new Date(a.time).getTime()-new Date(u.time).getTime());i.setData(r),e.addAreaSeries({lineColor:"#ff00ff",topColor:"rgba(255, 0, 255, 0.4)",bottomColor:"rgba(255, 0, 255, 0.0)",lineWidth:2}).setData(r);try{const a=e.addHistogramSeries({color:"#ff00ff",priceFormat:{type:"volume"},priceScaleId:""}),u=r.map((h,c)=>({time:h.time,value:h.value*1e6,color:c>0&&h.value>r[c-1].value?"rgba(0, 255, 255, 0.5)":"rgba(255, 0, 255, 0.5)"}));a.setData(u)}catch(a){console.error("Error setting volume data:",a)}e.timeScale().fitContent();const l=()=>{t.current&&e.applyOptions({width:t.current.clientWidth})};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l),e.remove()}}catch(e){console.error("Error creating chart:",e)}},[n]),w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Price History"}),w.jsx("div",{ref:t,className:"w-full"})]})}const k_="modulepreload",x_=function(n){return"/LegionRoiTracker_v2/"+n},gd={},fi=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(e.map(a=>{if(a=x_(a),a in gd)return;gd[a]=!0;const u=a.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":k_,u||(c.as="script"),c.crossOrigin="",c.href=a,l&&c.setAttribute("nonce",l),document.head.appendChild(c),u)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},C_=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>fi(async()=>{const{default:i}=await Promise.resolve().then(()=>wi);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};class Qu extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}}class E_ extends Qu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class P_ extends Qu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class T_ extends Qu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Oa;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Oa||(Oa={}));var L_=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};class M_{constructor(t,{headers:e={},customFetch:i,region:s=Oa.Any}={}){this.url=t,this.headers=e,this.region=s,this.fetch=C_(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return L_(this,void 0,void 0,function*(){try{const{headers:s,method:r,body:o}=e;let l={},{region:a}=e;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new E_(g)}),c=h.headers.get("x-relay-error");if(c&&c==="true")throw new P_(h);if(!h.ok)throw new T_(h);let d=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield h.json():d==="application/octet-stream"?f=yield h.blob():d==="text/event-stream"?f=h:d==="multipart/form-data"?f=yield h.formData():f=yield h.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}}var kt={},Yu={},Lo={},$s={},Mo={},jo={},j_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pi=j_();const $_=pi.fetch,Rm=pi.fetch.bind(pi),Nm=pi.Headers,z_=pi.Request,R_=pi.Response,wi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nm,Request:z_,Response:R_,default:Rm,fetch:$_},Symbol.toStringTag,{value:"Module"})),N_=r0(wi);var $o={};Object.defineProperty($o,"__esModule",{value:!0});let O_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};$o.default=O_;var Om=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(jo,"__esModule",{value:!0});const I_=Om(N_),D_=Om($o);let A_=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=I_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,l,a;let u=null,h=null,c=null,d=r.status,f=r.statusText;if(r.ok){if(this.method!=="HEAD"){const m=await r.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=m:h=JSON.parse(m))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&_&&_.length>1&&(c=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,c=null,d=406,f="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await r.text();try{u=JSON.parse(v),Array.isArray(u)&&r.status===404&&(h=[],u=null,d=200,f="OK")}catch{r.status===404&&v===""?(d=204,f="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,d=200,f="OK"),u&&this.shouldThrowOnError)throw new D_.default(u)}return{error:u,data:h,count:c,status:d,statusText:f}});return this.shouldThrowOnError||(s=s.catch(r=>{var o,l,a;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(l=r==null?void 0:r.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=r==null?void 0:r.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}};jo.default=A_;var V_=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mo,"__esModule",{value:!0});const U_=V_(jo);let F_=class extends U_.default{select(t){let e=!1;const i=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:s,referencedTable:r=s}={}){const o=r?`${r}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:s=i}={}){const r=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:s=!1,wal:r=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,e?"verbose":null,i?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Mo.default=F_;var B_=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($s,"__esModule",{value:!0});const W_=B_(Mo);let H_=class extends W_.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${r}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}};$s.default=H_;var K_=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Lo,"__esModule",{value:!0});const Mi=K_($s);let J_=class{constructor(t,{headers:e={},schema:i,fetch:s}){this.url=t,this.headers=e,this.schema=i,this.fetch=s}select(t,{head:e=!1,count:i}={}){const s=e?"HEAD":"GET";let r=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:i=!0}={}){const s="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:s,defaultToNull:r=!0}={}){const o="POST",l=[`resolution=${i?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),r||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(a.length>0){const u=[...new Set(a)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new Mi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Mi.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Lo.default=J_;var zo={},Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.version=void 0;Ro.version="0.0.0-automated";Object.defineProperty(zo,"__esModule",{value:!0});zo.DEFAULT_HEADERS=void 0;const G_=Ro;zo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${G_.version}`};var Im=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yu,"__esModule",{value:!0});const X_=Im(Lo),Z_=Im($s),Q_=zo;let Y_=class Dm{constructor(t,{headers:e={},schema:i,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Q_.DEFAULT_HEADERS),e),this.schemaName=i,this.fetch=s}from(t){const e=new URL(`${this.url}/${t}`);return new X_.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:i=!1,get:s=!1,count:r}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;i||s?(o=i?"HEAD":"GET",Object.entries(e).filter(([h,c])=>c!==void 0).map(([h,c])=>[h,Array.isArray(c)?`{${c.join(",")}}`:`${c}`]).forEach(([h,c])=>{l.searchParams.append(h,c)})):(o="POST",a=e);const u=Object.assign({},this.headers);return r&&(u.Prefer=`count=${r}`),new Z_.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};Yu.default=Y_;var _i=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(kt,"__esModule",{value:!0});kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const Am=_i(Yu);kt.PostgrestClient=Am.default;const Vm=_i(Lo);kt.PostgrestQueryBuilder=Vm.default;const Um=_i($s);kt.PostgrestFilterBuilder=Um.default;const Fm=_i(Mo);kt.PostgrestTransformBuilder=Fm.default;const Bm=_i(jo);kt.PostgrestBuilder=Bm.default;const Wm=_i($o);kt.PostgrestError=Wm.default;var q_=kt.default={PostgrestClient:Am.default,PostgrestQueryBuilder:Vm.default,PostgrestFilterBuilder:Um.default,PostgrestTransformBuilder:Fm.default,PostgrestBuilder:Bm.default,PostgrestError:Wm.default};const{PostgrestClient:tb,PostgrestQueryBuilder:FS,PostgrestFilterBuilder:BS,PostgrestTransformBuilder:WS,PostgrestBuilder:HS,PostgrestError:KS}=q_,eb="2.11.2",nb={"X-Client-Info":`realtime-js/${eb}`},ib="1.0.0",Hm=1e4,sb=1e3;var ii;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ii||(ii={}));var Lt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Lt||(Lt={}));var Jt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Jt||(Jt={}));var Ia;(function(n){n.websocket="websocket"})(Ia||(Ia={}));var an;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(an||(an={}));class rb{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){const s=e.getUint8(1),r=e.getUint8(2);let o=this.HEADER_LENGTH+2;const l=i.decode(t.slice(o,o+s));o=o+s;const a=i.decode(t.slice(o,o+r));o=o+r;const u=JSON.parse(i.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Km{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(V||(V={}));const yd=(n,t,e={})=>{var i;const s=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((r,o)=>(r[o]=ob(o,n,t,s),r),{})},ob=(n,t,e,i)=>{const s=t.find(l=>l.name===n),r=s==null?void 0:s.type,o=e[n];return r&&!i.includes(r)?Jm(r,o):Da(o)},Jm=(n,t)=>{if(n.charAt(0)==="_"){const e=n.slice(1,n.length);return hb(t,e)}switch(n){case V.bool:return lb(t);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return ab(t);case V.json:case V.jsonb:return ub(t);case V.timestamp:return cb(t);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Da(t);default:return Da(t)}},Da=n=>n,lb=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ab=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},ub=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},hb=(n,t)=>{if(typeof n!="string")return n;const e=n.length-1,i=n[e];if(n[0]==="{"&&i==="}"){let r;const o=n.slice(1,e);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(l=>Jm(t,l))}return n},cb=n=>typeof n=="string"?n.replace(" ","T"):n,Gm=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ll{constructor(t,e,i={},s=Hm){this.channel=t,this.event=e,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wd;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(wd||(wd={}));class Zi{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:r,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zi.syncState(this.state,s,r,o),this.pendingDiffs.forEach(a=>{this.state=Zi.syncDiff(this.state,a,r,o)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},s=>{const{onJoin:r,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Zi.syncDiff(this.state,s,r,o),l())}),this.onJoin((s,r,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:r,newPresences:o})}),this.onLeave((s,r,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,s){const r=this.cloneDeep(t),o=this.transformState(e),l={},a={};return this.map(r,(u,h)=>{o[u]||(a[u]=h)}),this.map(o,(u,h)=>{const c=r[u];if(c){const d=h.map(_=>_.presence_ref),f=c.map(_=>_.presence_ref),g=h.filter(_=>f.indexOf(_.presence_ref)<0),v=c.filter(_=>d.indexOf(_.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(a[u]=v)}else l[u]=h}),this.syncDiff(r,{joins:l,leaves:a},i,s)}static syncDiff(t,e,i,s){const{joins:r,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(r,(l,a)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),h.length>0){const c=t[l].map(f=>f.presence_ref),d=h.filter(f=>c.indexOf(f.presence_ref)<0);t[l].unshift(...d)}i(l,h,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const h=a.map(c=>c.presence_ref);u=u.filter(c=>h.indexOf(c.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{const s=t[i];return"metas"in s?e[i]=s.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):e[i]=s,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _d;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(_d||(_d={}));var bd;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(bd||(bd={}));var ue;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ue||(ue={}));class qu{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Ll(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Km(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(s,r)=>{this._trigger(this._replyEventName(r),s)}),this.presence=new Zi(this),this.broadcastEndpointURL=Gm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:l}}=this.params;this._onError(h=>t==null?void 0:t(ue.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ue.CLOSED));const a={},u={broadcast:r,presence:o,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(h=>h.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:h})=>{var c;if(this.socket.setAuth(),h===void 0){t==null||t(ue.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(c=d==null?void 0:d.length)!==null&&c!==void 0?c:0,g=[];for(let v=0;v<f;v++){const _=d[v],{filter:{event:m,schema:p,table:y,filter:b}}=_,S=h&&h[v];if(S&&S.event===m&&S.schema===p&&S.table===y&&S.filter===b)g.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),t==null||t(ue.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ue.SUBSCRIBED);return}}).receive("error",h=>{t==null||t(ue.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ue.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this._on(t,e,i)}async send(t,e={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){const{event:r,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,l,a;const u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Lt.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new Ll(this,Jt.leave,{},t);s.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,e,i){const s=new AbortController,r=setTimeout(()=>s.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:s.signal}));return clearTimeout(r),o}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ll(this,t,e,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var s,r;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:h}=Jt;if(i&&[l,a,u,h].indexOf(o)>=0&&i!==this._joinRef())return;let d=this._onMessage(o,e,i);if(e&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,v,_;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=f.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(f=>f.callback(d,i)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,v,_,m,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return b&&((v=e.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=e.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(p=(m=f==null?void 0:f.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=e==null?void 0:e.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:v,table:_,commit_timestamp:m,type:p,errors:y}=g;d=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(g))}f.callback(d,i)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){const s=t.toLocaleLowerCase(),r={type:s,filter:e,callback:i};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(t,e){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var r;return!(((r=s.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&qu.isEqual(s.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=yd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=yd(t.columns,t.old_record)),e}}const db=()=>{},fb=typeof WebSocket<"u",pb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mb{constructor(t,e){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=nb,this.params={},this.timeout=Hm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=db,this.conn=null,this.sendBuffer=[],this.serializer=new rb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...l)=>fi(async()=>{const{default:a}=await Promise.resolve().then(()=>wi);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Ia.websocket}`,this.httpEndpoint=Gm(t),e!=null&&e.transport?this.transport=e.transport:this.transport=null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const s=(i=e==null?void 0:e.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(r,o)=>o(JSON.stringify(r)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Km(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e==null?void 0:e.fetch),e!=null&&e.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(e==null?void 0:e.worker)||!1,this.workerUrl=e==null?void 0:e.workerUrl}this.accessToken=(e==null?void 0:e.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(fb){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vb(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),fi(async()=>{const{default:t}=await import("./browser-CseFz16_.js").then(e=>e.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ib}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ii.connecting:return an.Connecting;case ii.open:return an.Open;case ii.closing:return an.Closing;default:return an.Closed}}isConnected(){return this.connectionState()===an.Open}channel(t,e={config:{}}){const i=new qu(`realtime:${t}`,e,this);return this.channels.push(i),i}push(t){const{topic:e,event:i,payload:s,ref:r}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${e} ${i} (${r})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let i=null;try{i=JSON.parse(atob(e.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Jt.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(sb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:i,event:s,payload:r,ref:o}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${i} ${s} ${o&&"("+o+")"||""}`,r),this.channels.filter(l=>l._isMember(i)).forEach(l=>l._trigger(s,r,o)),this.stateChangeCallbacks.message.forEach(l=>l(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(e);return`${t}${i}${s}`}_workerObjectUrl(t){let e;if(t)e=t;else{const i=new Blob([pb],{type:"application/javascript"});e=URL.createObjectURL(i)}return e}}class vb{constructor(t,e,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ii.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class gb extends th{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Aa extends th{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var yb=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};const Xm=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>fi(async()=>{const{default:i}=await Promise.resolve().then(()=>wi);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},wb=()=>yb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fi(()=>Promise.resolve().then(()=>wi),void 0)).Response:Response}),Va=n=>{if(Array.isArray(n))return n.map(e=>Va(e));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,i])=>{const s=e.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[s]=Va(i)}),t};var Pn=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};const Ml=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_b=(n,t,e)=>Pn(void 0,void 0,void 0,function*(){const i=yield wb();n instanceof i&&!(e!=null&&e.noResolveJson)?n.json().then(s=>{t(new gb(Ml(s),n.status||500))}).catch(s=>{t(new Aa(Ml(s),s))}):t(new Aa(Ml(n),n))}),bb=(n,t,e,i)=>{const s={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),e))};function zs(n,t,e,i,s,r){return Pn(this,void 0,void 0,function*(){return new Promise((o,l)=>{n(e,bb(t,i,s,r)).then(a=>{if(!a.ok)throw a;return i!=null&&i.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>_b(a,l,i))})})}function io(n,t,e,i){return Pn(this,void 0,void 0,function*(){return zs(n,"GET",t,e,i)})}function Le(n,t,e,i,s){return Pn(this,void 0,void 0,function*(){return zs(n,"POST",t,i,s,e)})}function Sb(n,t,e,i,s){return Pn(this,void 0,void 0,function*(){return zs(n,"PUT",t,i,s,e)})}function kb(n,t,e,i){return Pn(this,void 0,void 0,function*(){return zs(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),i)})}function Zm(n,t,e,i,s){return Pn(this,void 0,void 0,function*(){return zs(n,"DELETE",t,i,s,e)})}var bt=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};const xb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cb{constructor(t,e={},i,s){this.url=t,this.headers=e,this.bucketId=i,this.fetch=Xm(s)}uploadOrUpdate(t,e,i,s){return bt(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Sd),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),a&&r.append("metadata",this.encodeMetadata(a)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl),a&&r.append("metadata",this.encodeMetadata(a))):(r=i,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(e),h=this._getFinalPath(u),c=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:r,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield c.json();return c.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(r){if(st(r))return{data:null,error:r};throw r}})}upload(t,e,i){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,s){return bt(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",e);try{let a;const u=Object.assign({upsert:Sd.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",u.cacheControl)):(a=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const c=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:h}),d=yield c.json();return c.ok?{data:{path:r,fullPath:d.Key},error:null}:{data:null,error:d}}catch(a){if(st(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,e){return bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const r=yield Le(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),o=new URL(this.url+r.url),l=o.searchParams.get("token");if(!l)throw new th("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}update(t,e,i){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e,i){return bt(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}copy(t,e,i){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}createSignedUrl(t,e,i){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),r=yield Le(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}createSignedUrls(t,e,i){return bt(this,void 0,void 0,function*(){try{const s=yield Le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}download(t,e){return bt(this,void 0,void 0,function*(){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield io(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(st(l))return{data:null,error:l};throw l}})}info(t){return bt(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const i=yield io(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Va(i),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}exists(t){return bt(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield kb(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(st(i)&&i instanceof Aa){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,e){const i=this._getFinalPath(t),s=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&s.push(r);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${u}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(st(e))return{data:null,error:e};throw e}})}list(t,e,i){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xb),e),{prefix:t||""});return{data:yield Le(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const Eb="2.7.1",Pb={"X-Client-Info":`storage-js/${Eb}`};var zn=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};class Tb{constructor(t,e={},i){this.url=t,this.headers=Object.assign(Object.assign({},Pb),e),this.fetch=Xm(i)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}})}getBucket(t){return zn(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(st(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return zn(this,void 0,void 0,function*(){try{return{data:yield Sb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(st(i))return{data:null,error:i};throw i}})}emptyBucket(t){return zn(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(st(e))return{data:null,error:e};throw e}})}deleteBucket(t){return zn(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(st(e))return{data:null,error:e};throw e}})}}class Lb extends Tb{constructor(t,e={},i){super(t,e,i)}from(t){return new Cb(this.url,this.headers,t,this.fetch)}}const Mb="2.47.12";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const jb={"X-Client-Info":`supabase-js-${Oi}/${Mb}`},$b={headers:jb},zb={schema:"public"},Rb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={};var Ob=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};const Ib=n=>{let t;return n?t=n:typeof fetch>"u"?t=Rm:t=fetch,(...e)=>t(...e)},Db=()=>typeof Headers>"u"?Nm:Headers,Ab=(n,t,e)=>{const i=Ib(e),s=Db();return(r,o)=>Ob(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:n;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),i(r,Object.assign(Object.assign({},o),{headers:u}))})};var Vb=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};function Ub(n){return n.replace(/\/$/,"")}function Fb(n,t){const{db:e,auth:i,realtime:s,global:r}=n,{db:o,auth:l,realtime:a,global:u}=t,h={db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},a),s),global:Object.assign(Object.assign({},u),r),accessToken:()=>Vb(this,void 0,void 0,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}const Qm="2.67.3",Bb="http://localhost:9999",Wb="supabase.auth.token",Hb={"X-Client-Info":`gotrue-js/${Qm}`},kd=10,Ua="X-Supabase-Api-Version",Ym={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Kb(n){return Math.round(Date.now()/1e3)+n}function Jb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const ne=()=>typeof window<"u"&&typeof document<"u",nn={tested:!1,writable:!1},Qi=()=>{if(!ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nn.tested)return nn.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),nn.tested=!0,nn.writable=!0}catch{nn.tested=!0,nn.writable=!1}return nn.writable};function Gb(n){const t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((s,r)=>{t[r]=s})}catch{}return e.searchParams.forEach((i,s)=>{t[s]=i}),t}const qm=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>fi(async()=>{const{default:i}=await Promise.resolve().then(()=>wi);return{default:i}},void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},Xb=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",t0=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},hr=async(n,t)=>{const e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},cr=async(n,t)=>{await n.removeItem(t)};function Zb(n){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let e="",i,s,r,o,l,a,u,h=0;for(n=n.replace("-","+").replace("_","/");h<n.length;)o=t.indexOf(n.charAt(h++)),l=t.indexOf(n.charAt(h++)),a=t.indexOf(n.charAt(h++)),u=t.indexOf(n.charAt(h++)),i=o<<2|l>>4,s=(l&15)<<4|a>>2,r=(a&3)<<6|u,e=e+String.fromCharCode(i),a!=64&&s!=0&&(e=e+String.fromCharCode(s)),u!=64&&r!=0&&(e=e+String.fromCharCode(r));return e}class No{constructor(){this.promise=new No.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}No.promiseConstructor=Promise;function xd(n){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=n.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=e[1];return JSON.parse(Zb(i))}async function Qb(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Yb(n,t){return new Promise((i,s)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await n(r);if(!t(r,null,o)){i(o);return}}catch(o){if(!t(r,o)){s(o);return}}})()})}function qb(n){return("0"+n.toString(16)).substr(-2)}function tS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length;let s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,qb).join("")}async function eS(n){const e=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",e),s=new Uint8Array(i);return Array.from(s).map(r=>String.fromCharCode(r)).join("")}function nS(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=await eS(n);return nS(e)}async function Rn(n,t,e=!1){const i=tS();let s=i;e&&(s+="/PASSWORD_RECOVERY"),await t0(n,`${t}-code-verifier`,s);const r=await iS(i);return[r,i===r?"plain":"s256"]}const sS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rS(n){const t=n.headers.get(Ua);if(!t||!t.match(sS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class eh extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}}function R(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class oS extends eh{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}}function lS(n){return R(n)&&n.name==="AuthApiError"}class e0 extends eh{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Tn extends eh{constructor(t,e,i,s){super(t,i,s),this.name=e,this.status=i}}class Ce extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function aS(n){return R(n)&&n.name==="AuthSessionMissingError"}class jl extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dr extends Tn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fr extends Tn{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uS(n){return R(n)&&n.name==="AuthImplicitGrantRedirectError"}class Cd extends Tn{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fa extends Tn{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function $l(n){return R(n)&&n.name==="AuthRetryableFetchError"}class Ed extends Tn{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}}var hS=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const ln=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cS=[502,503,504];async function Pd(n){var t;if(!Xb(n))throw new Fa(ln(n),0);if(cS.includes(n.status))throw new Fa(ln(n),n.status);let e;try{e=await n.json()}catch(r){throw new e0(ln(r),r)}let i;const s=rS(n);if(s&&s.getTime()>=Ym["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new Ed(ln(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Ce}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Ed(ln(e),n.status,e.weak_password.reasons);throw new oS(ln(e),n.status||500,i)}const dS=(n,t,e,i)=>{const s={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),e))};async function I(n,t,e,i){var s;const r=Object.assign({},i==null?void 0:i.headers);r[Ua]||(r[Ua]=Ym["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await fS(n,t,e+l,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(a):{data:Object.assign({},a),error:null}}async function fS(n,t,e,i,s,r){const o=dS(t,i,s,r);let l;try{l=await n(e,Object.assign({},o))}catch(a){throw console.error(a),new Fa(ln(a),0)}if(l.ok||await Pd(l),i!=null&&i.noResolveJson)return l;try{return await l.json()}catch(a){await Pd(a)}}function Ee(n){var t;let e=null;gS(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=Kb(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:i},error:null}}function Td(n){const t=Ee(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function $e(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function pS(n){return{data:n,error:null}}function mS(n){const{action_link:t,email_otp:e,hashed_token:i,redirect_to:s,verification_type:r}=n,o=hS(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:e,hashed_token:i,redirect_to:s,verification_type:r},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function vS(n){return n}function gS(n){return n.access_token&&n.refresh_token&&n.expires_in}var yS=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class wS{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=qm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(R(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:$e})}catch(i){if(R(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:e}=t,i=yS(t,["options"]),s=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mS,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(R(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$e})}catch(e){if(R(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,s,r,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},h=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(r=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:vS});if(h.error)throw h.error;const c=await h.json(),d=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(g.split(";")[1].split("=")[1]);u[`${_}Page`]=v}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},c),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$e})}catch(e){if(R(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:$e})}catch(i){if(R(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:$e})}catch(i){if(R(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:e,error:i}=await I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:e,error:i}}catch(e){if(R(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(R(e))return{data:null,error:e};throw e}}}const _S={getItem:n=>Qi()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{Qi()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{Qi()&&globalThis.localStorage.removeItem(n)}};function Ld(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function bS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&Qi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SS extends n0{}async function kS(n,t,e){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await e()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(t===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new SS(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Nn.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}bS();const xS={url:Bb,storageKey:Wb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ji=30*1e3,Md=3;async function jd(n,t,e){return await e()}class Ss{constructor(t){var e,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xS),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qm(s.fetch),this.lock=s.lock||jd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ne()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=kS:this.lock=jd,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Qi()?this.storage=_S:(this.memoryStorage={},this.storage=Ld(this.memoryStorage)):(this.memoryStorage={},this.storage=Ld(this.memoryStorage)),ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=Gb(window.location.href);let i="none";if(this._isImplicitGrantCallback(e)?i="implicit":await this._isPKCECallback(e)&&(i="pkce"),ne()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:r}=await this._getSessionFromURL(e,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),uS(r)){const a=(t=r.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return R(e)?{error:e}:{error:new e0("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,i,s;try{const r=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ee}),{data:o,error:l}=r;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var e,i,s;try{let r;if("email"in t){const{email:h,password:c,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Rn(this.storage,this.storageKey)),r=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:c,data:(e=d==null?void 0:d.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ee})}else if("phone"in t){const{phone:h,password:c,options:d}=t;r=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ee})}else throw new dr("You must provide either an email or phone number and a password");const{data:o,error:l}=r;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let e;if("email"in t){const{email:r,password:o,options:l}=t;e=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Td})}else if("phone"in t){const{phone:r,password:o,options:l}=t;e=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Td})}else throw new dr("You must provide either an email or phone number and a password");const{data:i,error:s}=e;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new jl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,i,s,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const e=await hr(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(e??"").split("/");try{const{data:r,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ee});if(await cr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new jl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:s??null}),error:o})}catch(r){if(R(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:e,provider:i,token:s,access_token:r,nonce:o}=t,l=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:Ee}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new jl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,i,s,r,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Rn(this.storage,this.storageKey));const{error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(e=a==null?void 0:a.data)!==null&&e!==void 0?e:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new dr("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var e,i;try{let s,r;"options"in t&&(s=(e=t.options)===null||e===void 0?void 0:e.redirectTo,r=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:s,xform:Ee});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var e,i,s;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await Rn(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:pS})}catch(r){if(R(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:i}=t;if(i)throw i;if(!e)throw new Ce;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:r}=t,{error:o}=await I(this.fetch,"POST",e,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:i,type:s,options:r}=t,{data:o,error:l}=await I(this.fetch,"POST",e,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new dr("You must provide either an email or phone number and a type")}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await e()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=e();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,h))})}return{data:{session:t},error:null}}const{session:s,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$e}):await this._useSession(async e=>{var i,s,r;const{data:o,error:l}=e;if(l)throw l;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ce}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0,xform:$e})})}catch(e){if(R(e))return aS(e)&&(await this._removeSession(),await cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async i=>{const{data:s,error:r}=i;if(r)throw r;if(!s.session)throw new Ce;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await Rn(this.storage,this.storageKey));const{data:u,error:h}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:$e});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(R(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return xd(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ce;const e=Date.now()/1e3;let i=e,s=!0,r=null;const o=xd(t.access_token);if(o.exp&&(i=o.exp,s=i<=e),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;r={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-e,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(e){if(R(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var i;if(!t){const{data:o,error:l}=e;if(l)throw l;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Ce;const{session:s,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!ne())throw new fr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new Cd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fr("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cd("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:r,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!r||!l||!o||!u)throw new fr("No session defined in URL");const h=Math.round(Date.now()/1e3),c=parseInt(l);let d=h+c;a&&(d=parseInt(a));const f=d-h;f*1e3<=ji&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${c}s`);const g=d-c;h-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,h):h-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,d,h);const{data:v,error:_}=await this._getUser(r);if(_)throw _;const m={provider_token:i,provider_refresh_token:s,access_token:r,expires_in:c,expires_at:d,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(i){if(R(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await hr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var i;const{data:s,error:r}=e;if(r)return{error:r};const o=(i=s.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(lS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=Jb(),i={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async e=>{var i,s;try{const{data:{session:r},error:o}=e;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,e={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Rn(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(r){if(R(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:e,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(R(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:i,error:s}=await this._useSession(async r=>{var o,l,a,u,h;const{data:c,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(u=c.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ne()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(R(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var i,s;const{data:r,error:o}=e;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(e){if(R(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await Yb(async s=>(s>0&&await Qb(200*Math.pow(2,s-1)),this._debug(e,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ee})),(s,r)=>{const o=200*Math.pow(2,s);return r&&$l(r)&&Date.now()+o-i<ji})}catch(i){if(this._debug(e,"error",i),R(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",i),ne()&&!e.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const i=await hr(this.storage,this.storageKey);if(this._debug(e,"session from storage",i),!this._isValidSession(i)){this._debug(e,"session is not valid"),i!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),r=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<s+kd;if(this._debug(e,`session has${r?"":" not"} expired with margin of ${kd}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),$l(o)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(e,"error",i),console.error(i);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,i;if(!t)throw new Ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new No;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Ce;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={session:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(s,"error",r),R(r)){const o={session:null,error:r};return $l(r)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,e,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",e,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:e});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,e)}catch(a){r.push(a)}});if(await Promise.all(o),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await t0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await cr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ji);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:i}}=e;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/ji);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ji}ms, refresh threshold is ${Md} ticks`),s<=Md&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,i){const s=[`provider=${encodeURIComponent(e)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await Rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);s.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var i;const{data:s,error:r}=e;return r?{data:null,error:r}:await I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(R(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var i,s;const{data:r,error:o}=e;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(R(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:s,error:r}=e;if(r)return{data:null,error:r};const{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(e){if(R(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:s,error:r}=e;return r?{data:null,error:r}:await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(R(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const i=(t==null?void 0:t.factors)||[],s=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:s,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,i;const{data:{session:s},error:r}=t;if(r)return{data:null,error:r};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((i=(e=s.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(a="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:h},error:null}}))}}Ss.nextInstanceID=0;const CS=Ss;class ES extends CS{constructor(t){super(t)}}var PS=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(i.next(h))}catch(c){o(c)}}function a(h){try{u(i.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((i=i.apply(n,t||[])).next())})};class TS{constructor(t,e,i){var s,r,o;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const l=Ub(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:zb,realtime:Nb,auth:Object.assign(Object.assign({},Rb),{storageKey:a}),global:$b},h=Fb(i??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=h.global.headers)!==null&&r!==void 0?r:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Ab(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new tb(`${l}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new M_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Lb(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return PS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:s,storageKey:r,flowType:o,lock:l,debug:a},u,h){var c;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ES({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:r,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:s,flowType:o,lock:l,debug:a,fetch:h,hasCustomAuthorizationHeader:(c="Authorization"in this.headers)!==null&&c!==void 0?c:!1})}_initRealtimeClient(t){return new mb(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LS=(n,t,e)=>new TS(n,t,e),MS="",jS="";console.warn('Missing Supabase credentials. Please connect to Supabase using the "Connect to Supabase" button.');const sn=LS(MS,jS);function $S({tokenId:n}){const[t,e]=k.useState([]),[i,s]=k.useState([]),[r,o]=k.useState(""),[l,a]=k.useState(""),[u,h]=k.useState(""),[c,d]=k.useState("all"),[f,g]=k.useState(!0),[v,_]=k.useState(null);k.useEffect(()=>{sn.auth.getUser().then(({data:{user:x}})=>{_(x)});const{data:{subscription:S}}=sn.auth.onAuthStateChange((x,P)=>{_((P==null?void 0:P.user)??null)});return()=>S.unsubscribe()},[]),k.useEffect(()=>{m()},[n,c]);async function m(){g(!0);try{let S=sn.from("comments").select("*").eq("token_id",n).order("created_at",{ascending:!1});if(c!=="all"){const T=new Date;c==="day"&&T.setDate(T.getDate()-1),c==="week"&&T.setDate(T.getDate()-7),c==="month"&&T.setMonth(T.getMonth()-1),S=S.gte("created_at",T.toISOString())}const{data:x}=await S;x&&e(x);const{data:P}=await sn.from("price_predictions").select("*").eq("token_id",n).order("created_at",{ascending:!1});P&&s(P)}catch(S){console.error("Error fetching social data:",S)}finally{g(!1)}}async function p(S){if(S.preventDefault(),!v){alert("Please sign in to comment");return}if(r.trim())try{const{error:x}=await sn.from("comments").insert({token_id:n,content:r.trim(),user_id:v.id});if(x)throw x;o(""),m()}catch(x){console.error("Error posting comment:",x),alert("Failed to post comment. Please try again.")}}async function y(S){if(S.preventDefault(),!v){alert("Please sign in to submit predictions");return}if(!(!l||!u))try{const{error:x}=await sn.from("price_predictions").insert({token_id:n,predicted_price:parseFloat(l),target_date:new Date(u).toISOString(),user_id:v.id});if(x)throw x;a(""),h(""),m()}catch(x){console.error("Error submitting prediction:",x),alert("Failed to submit prediction. Please try again.")}}async function b(S,x,P){if(!v){alert("Please sign in to vote");return}try{const T=S==="comment"?"comments":"price_predictions",{error:O}=await sn.rpc("increment_votes",{table_name:T,row_id:x,increment_by:P==="up"?1:-1});if(O)throw O;m()}catch(T){console.error("Error voting:",T),alert("Failed to vote. Please try again.")}}return w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex gap-2 mb-4",children:w.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"px-3 py-2 bg-black/40 border border-cyan-500/20 rounded-md text-cyan-100",children:[w.jsx("option",{value:"all",children:"All Time"}),w.jsx("option",{value:"day",children:"Last 24h"}),w.jsx("option",{value:"week",children:"Last Week"}),w.jsx("option",{value:"month",children:"Last Month"})]})}),w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Community Discussion"}),w.jsxs("form",{onSubmit:p,className:"mb-4",children:[w.jsx("textarea",{value:r,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 bg-black/40 border border-cyan-500/20 rounded-md text-cyan-100",placeholder:v?"Add a comment...":"Please sign in to comment",rows:3,disabled:!v}),w.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors disabled:opacity-50",disabled:!v,children:"Post Comment"})]}),f?w.jsxs("div",{className:"animate-pulse space-y-4",children:[w.jsx("div",{className:"h-20 bg-black/40 rounded-lg"}),w.jsx("div",{className:"h-20 bg-black/40 rounded-lg"})]}):w.jsx("div",{className:"space-y-4",children:t.map(S=>w.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-cyan-500/20",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("span",{className:"text-cyan-300",children:"Anonymous"}),w.jsx("span",{className:"text-cyan-500/60 text-sm",children:new Date(S.created_at).toLocaleDateString()})]}),w.jsx("p",{className:"mt-2 text-cyan-100",children:S.content}),w.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[w.jsx("button",{onClick:()=>b("comment",S.id,"up"),className:"text-cyan-400 hover:text-pink-400",disabled:!v,children:w.jsx(Sc,{size:20})}),w.jsx("span",{className:"text-cyan-300",children:S.votes}),w.jsx("button",{onClick:()=>b("comment",S.id,"down"),className:"text-cyan-400 hover:text-pink-400",disabled:!v,children:w.jsx(bc,{size:20})})]})]},S.id))})]}),w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Price Predictions"}),w.jsxs("form",{onSubmit:y,className:"mb-4 space-y-4",children:[w.jsx("div",{children:w.jsx("input",{type:"number",value:l,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 bg-black/40 border border-cyan-500/20 rounded-md text-cyan-100",placeholder:"Enter predicted price...",step:"0.000001",min:"0",disabled:!v})}),w.jsx("div",{children:w.jsx("input",{type:"date",value:u,onChange:S=>h(S.target.value),className:"w-full px-3 py-2 bg-black/40 border border-cyan-500/20 rounded-md text-cyan-100",min:new Date().toISOString().split("T")[0],disabled:!v})}),w.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors disabled:opacity-50",disabled:!v,children:"Submit Prediction"})]}),f?w.jsxs("div",{className:"animate-pulse space-y-4",children:[w.jsx("div",{className:"h-20 bg-black/40 rounded-lg"}),w.jsx("div",{className:"h-20 bg-black/40 rounded-lg"})]}):w.jsx("div",{className:"space-y-4",children:i.map(S=>w.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-cyan-500/20",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("span",{className:"text-cyan-300",children:"Anonymous"}),w.jsx("span",{className:"text-cyan-500/60 text-sm",children:new Date(S.created_at).toLocaleDateString()})]}),w.jsxs("div",{className:"mt-2",children:[w.jsxs("p",{className:"text-cyan-100",children:["Predicted Price: $",S.predicted_price.toFixed(6)]}),w.jsxs("p",{className:"text-cyan-300/60",children:["Target Date: ",new Date(S.target_date).toLocaleDateString()]})]}),w.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[w.jsx("button",{onClick:()=>b("prediction",S.id,"up"),className:"text-cyan-400 hover:text-pink-400",disabled:!v,children:w.jsx(Sc,{size:20})}),w.jsx("span",{className:"text-cyan-300",children:S.votes}),w.jsx("button",{onClick:()=>b("prediction",S.id,"down"),className:"text-cyan-400 hover:text-pink-400",disabled:!v,children:w.jsx(bc,{size:20})})]})]},S.id))})]})]})}function zS({tokenId:n}){const[t,e]=k.useState([]),[i,s]=k.useState(!0);return k.useEffect(()=>{async function r(){try{const l=[{id:"1",title:"Fuel Network Mainnet Launch Update",content:"Exciting progress on our path to mainnet. Stay tuned for more updates!",source:"@fuel_network",url:"https://twitter.com/fuel_network",timestamp:new Date().toISOString()},{id:"2",title:"New Partnership Announcement",content:"We are thrilled to announce our latest partnership to expand the Fuel ecosystem.",source:"@fuel_network",url:"https://twitter.com/fuel_network",timestamp:new Date(Date.now()-864e5).toISOString()}];e(l)}catch(l){console.error("Error fetching news:",l)}finally{s(!1)}}r();const o=setInterval(r,3e5);return()=>clearInterval(o)},[n]),i?w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Latest News"}),w.jsxs("div",{className:"animate-pulse space-y-4",children:[w.jsx("div",{className:"h-20 bg-black/40 rounded-lg"}),w.jsx("div",{className:"h-20 bg-black/40 rounded-lg"})]})]}):w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Latest News"}),w.jsx("div",{className:"space-y-4",children:t.map(r=>w.jsxs("div",{className:"p-4 bg-black/40 rounded-lg border border-cyan-500/20",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h3",{className:"text-cyan-300 font-semibold",children:r.title}),w.jsx("span",{className:"text-cyan-500/60 text-sm",children:new Date(r.timestamp).toLocaleDateString()})]}),w.jsx("p",{className:"mt-2 text-cyan-100",children:r.content}),w.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[w.jsx("span",{className:"text-cyan-500/60 text-sm",children:r.source}),w.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 text-sm",children:"View on Twitter "})]})]},r.id))})]})}const $d={market_data:{current_price:{usd:.04}}};function RS(){var g,v;const{id:n}=ay(),t=em(),[e,i]=k.useState(null),[s,r]=k.useState(!0),[o,l]=k.useState(null),[a,u]=k.useState([]),[h,c]=k.useState(0),d=om.find(_=>_.id===n);if(k.useEffect(()=>{if(!d){t("/");return}const _=async()=>{if(d.status!=="live"){r(!1);return}try{l(null);const p=await lm();if(p["fuel-network"]){i({market_data:{current_price:{usd:p["fuel-network"].usd}}});const y=new Date;y.setDate(y.getDate()-30);const b=Array.from({length:31},(S,x)=>{const P=new Date(y);P.setDate(P.getDate()+x);const T=p["fuel-network"].usd,O=1+(Math.random()*.1-.05);return{time:P.toISOString().split("T")[0],value:T*O}});u(b.sort((S,x)=>new Date(S.time).getTime()-new Date(x.time).getTime()))}c(0)}catch(p){if(console.error("Error fetching data:",p),l(p instanceof Error?p.message:"Failed to fetch data"),!e){i($d);const y=new Date;y.setDate(y.getDate()-30);const b=Array.from({length:31},(S,x)=>{const P=new Date(y);return P.setDate(P.getDate()+x),{time:P.toISOString().split("T")[0],value:$d.market_data.current_price.usd*(1+Math.random()*.1-.05)}});u(b.sort((S,x)=>new Date(S.time).getTime()-new Date(x.time).getTime()))}h<3&&setTimeout(()=>{c(y=>y+1)},Math.pow(2,h)*1e3)}finally{r(!1)}};_();const m=setInterval(_,6e4);return()=>clearInterval(m)},[d,t,h]),!d)return null;const f=e!=null&&e.market_data.current_price.usd?Er(d,{[d.id]:{usd:e.market_data.current_price.usd}}):null;return w.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:[w.jsx(Hy,{logoUrl:d.logo}),w.jsxs(rm,{to:"/",className:"flex items-center gap-2 text-cyan-400 hover:text-pink-400 mb-8",children:[w.jsx(Iy,{size:20}),"Back to Overview"]}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"bg-black/40 rounded-xl p-4 md:p-8 backdrop-blur-sm shadow-xl border border-cyan-500/20",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[w.jsx("img",{src:d.logo,alt:`${d.name} logo`,className:"w-16 h-16 rounded-full ring-2 ring-cyan-500/20"}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-cyan-300",children:d.name}),w.jsxs("p",{className:"text-pink-400",children:["Sale Date: ",d.date]})]})]}),o&&w.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:[w.jsx("p",{className:"text-pink-500",children:o}),w.jsx("p",{className:"text-cyan-300 mt-2",children:"Displaying last known data"})]}),s?w.jsxs("div",{className:"animate-pulse space-y-4",children:[w.jsx("div",{className:"h-8 bg-cyan-500/20 rounded w-1/3"}),w.jsx("div",{className:"h-8 bg-cyan-500/20 rounded w-1/2"}),w.jsx("div",{className:"h-8 bg-cyan-500/20 rounded w-2/3"})]}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.status==="live"&&w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Investment Details"}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("p",{children:["Buy Price: ",w.jsxs("span",{className:"text-cyan-300",children:["$",d.buyPrice]})]}),(e==null?void 0:e.market_data.current_price.usd)&&w.jsxs("p",{children:["Current Price: ",w.jsxs("span",{className:"text-cyan-300",children:["$",e.market_data.current_price.usd.toFixed(6)]})]}),f&&w.jsxs("p",{children:["Current ROI: ",w.jsx("span",{className:f>=100?"text-green-400":"text-pink-500",children:Pr(f)})]}),d.unlockPrice&&w.jsxs("p",{children:["Unlock Price: ",w.jsxs("span",{className:"text-cyan-300",children:["$",d.unlockPrice]})]}),d.highestPrice&&w.jsxs("p",{children:["ATH Price: ",w.jsxs("span",{className:"text-cyan-300",children:["$",d.highestPrice]})]})]})]}),w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Links"}),w.jsxs("div",{className:"space-y-2",children:[((g=d.links)==null?void 0:g.website)&&w.jsx("p",{children:w.jsx("a",{href:d.links.website,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-pink-400",children:"Website"})}),((v=d.links)==null?void 0:v.twitter)&&w.jsx("p",{children:w.jsx("a",{href:d.links.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-pink-400",children:"Twitter"})})]})]})]}),d.status==="live"&&w.jsxs(w.Fragment,{children:[w.jsx(S_,{data:a}),w.jsx(Wy,{currentPrice:(e==null?void 0:e.market_data.current_price.usd)||null})]}),d.about&&w.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[w.jsxs("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:["About ",d.name]}),w.jsx("p",{className:"text-cyan-100 leading-relaxed",children:d.about})]})]})]}),d.status==="live"&&w.jsxs(w.Fragment,{children:[w.jsx($S,{tokenId:d.id}),w.jsx(zS,{tokenId:d.id})]})]})]})}function NS(){const[n,t]=k.useState([]),[e,i]=k.useState(!0);return k.useEffect(()=>{const r=Array.from({length:15},(l,a)=>({id:a,x:Math.random()*100,y:Math.random()*100,rotation:Math.random()*360,delay:Math.random()*500}));t(r);const o=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(o)},[]),e?w.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.map(s=>w.jsx("div",{className:"absolute text-2xl",style:{left:`${s.x}%`,top:`${s.y}%`,animation:`float ${2e3+Math.random()*1e3}ms ease-in-out ${s.delay}ms`,transform:`rotate(${s.rotation}deg)`},children:""},s.id))}):null}function OS(){return w.jsx(jy,{basename:"/LegionRoiTracker_v2",children:w.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-900 via-black to-blue-900 text-cyan-300",children:[w.jsx(NS,{}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[w.jsxs("header",{className:"text-center mb-12",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mb-6",children:[w.jsx(Dy,{size:48,className:"text-pink-500 animate-pulse"}),w.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 via-cyan-300 to-purple-500 text-transparent bg-clip-text",children:"Legion Sales Tracker"}),w.jsx("svg",{width:"165",height:"32",viewBox:"0 0 165 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mt-2",children:w.jsx("path",{d:"M4.56043 31.191H0V0.613505H4.55763L4.56043 31.191ZM8.18359 27.2053V31.191H23.2694V27.2053H8.18359ZM136.809 16.0177C136.809 18.1019 136.505 20.1082 135.899 22.0352C135.292 23.9621 134.384 25.6694 133.172 27.1529C131.959 28.6378 130.451 29.8152 128.647 30.6866C127.414 31.2816 126.04 31.6741 124.529 31.8626V27.8585C125.387 27.6871 126.17 27.4065 126.876 27.0183C128.144 26.3212 129.182 25.4002 129.99 24.2526C130.799 23.1049 131.392 21.8141 131.77 20.3817C132.148 18.9478 132.336 17.4927 132.336 16.0191C132.336 14.5456 132.148 13.0905 131.77 11.6552C131.392 10.2213 130.799 8.93053 129.99 7.78428C129.182 6.63662 128.142 5.71565 126.876 5.01855C125.609 4.32145 124.098 3.97432 122.345 3.97432C120.593 3.97432 119.082 4.32287 117.816 5.01855C116.548 5.71565 115.51 6.63662 114.702 7.78428C113.893 8.93195 113.299 10.2213 112.922 11.6552C112.545 13.089 112.356 14.5442 112.356 16.0191C112.356 17.4941 112.545 18.9478 112.922 20.3817C113.3 21.8155 113.893 23.1063 114.702 24.2526C115.51 25.4002 116.548 26.3212 117.816 27.0183C118.522 27.4065 119.306 27.6871 120.163 27.8585V31.8626C118.652 31.6741 117.279 31.2831 116.045 30.6866C114.24 29.8166 112.732 28.6378 111.521 27.1529C110.308 25.668 109.399 23.9621 108.793 22.0352C108.187 20.1082 107.884 18.1019 107.884 16.0177C107.884 13.9335 108.186 11.9272 108.793 10.0003C109.399 8.07332 110.308 6.36741 111.521 4.88253C112.732 3.39765 114.242 2.21315 116.045 1.32761C117.848 0.44348 119.949 0 122.345 0C124.742 0 126.841 0.44348 128.646 1.32761C130.451 2.21315 131.959 3.39765 133.17 4.88253C134.382 6.36741 135.291 8.07332 135.898 10.0003C136.504 11.9272 136.807 13.9335 136.807 16.0177H136.809ZM83.1005 27.2053H92.3613V31.191H83.1005V27.2053ZM92.3627 0.613505H83.1019V4.59916H92.3627V0.613505ZM96.7259 31.191H106.369V27.2053H96.7259V31.191ZM92.3627 4.59916V27.2039H96.7259V4.59916H92.3627ZM96.7259 0.613505V4.59916H106.369V0.613505H96.7259ZM164.5 8.6259V31.2306H159.637L144.645 7.90047V31.2306H140.295V0.653177H144.96L160.149 24.4311V8.6259H164.5ZM164.5 4.63883V0.653177H160.149V4.63883H164.5ZM50.1619 27.2053V31.191H26.8939V17.4601H31.4544L31.4516 27.2039H50.1619V27.2053ZM31.4516 13.4744V4.59916H50.0374V0.613505H26.8939V13.4744H31.4516ZM47.6621 13.4744H31.4474V17.4459H47.6621V13.4744ZM79.2927 17.4898V31.2179H75.1282V28.1872C74.044 29.4284 72.7472 30.3564 71.263 30.9501C69.52 31.6472 67.7392 32 65.9681 32C63.7229 32 61.6847 31.5735 59.9095 30.7319C58.1371 29.8917 56.6109 28.7426 55.3728 27.3172C54.1362 25.8947 53.1822 24.2356 52.5359 22.3865C51.891 20.5432 51.565 18.6021 51.565 16.6142C51.565 14.4081 51.87 12.28 52.4701 10.2879C53.073 8.28585 53.9837 6.50627 55.177 4.99872C56.3745 3.4855 57.8881 2.26416 59.6745 1.36586C61.4651 0.467567 63.5816 0.0127518 65.9681 0.0127518C67.5895 0.0127518 69.1423 0.206863 70.5859 0.589418C72.038 0.974806 73.3558 1.59114 74.5015 2.42143C75.6486 3.25313 76.6334 4.3172 77.4028 5.59805C78.8521 8.00815 79.0563 10.5897 79.0563 10.5897H74.4945C74.4945 10.5897 74.2846 8.95745 73.4173 7.48674C72.9445 6.68479 72.2912 6.04578 71.5554 5.53996C70.814 5.0313 69.9592 4.64308 69.0164 4.38663C68.0651 4.12876 67.0397 3.99841 65.9667 3.99841C64.2321 3.99841 62.7283 4.35262 61.4958 5.04972C60.2578 5.75107 59.2324 6.68762 58.449 7.83104C57.6587 8.98437 57.0669 10.3205 56.692 11.8025C56.3129 13.2945 56.1213 14.8431 56.1213 16.4059C56.1213 17.9687 56.3395 19.4224 56.7703 20.8266C57.1984 22.2236 57.8363 23.4761 58.6659 24.5458C59.4898 25.6113 60.5222 26.4714 61.7351 27.1061C62.9409 27.7381 64.365 28.0583 65.9653 28.0583C67.4636 28.0583 68.8037 27.8117 69.9494 27.3272C71.0909 26.8426 72.066 26.1682 72.848 25.3237C73.6299 24.4764 74.2287 23.469 74.626 22.327C74.8932 21.5591 75.061 20.7331 75.1254 19.8688V17.4913H79.2899L79.2927 17.4898ZM75.1282 13.5014H65.4296V17.4728H75.1282V13.5014Z",fill:"#F03C24"})})]}),w.jsx("p",{className:"text-cyan-200 max-w-2xl mx-auto border-b border-cyan-500/20 pb-4",children:"Track your ICO investments and monitor their performance in real-time. Stay updated with the latest prices and ROI calculations."})]}),w.jsx("main",{children:w.jsxs(xy,{children:[w.jsx(Ea,{path:"/",element:w.jsx("div",{className:"bg-black/40 rounded-xl p-6 backdrop-blur-sm shadow-xl border border-cyan-500/20",children:w.jsx(By,{})})}),w.jsx(Ea,{path:"/token/:id",element:w.jsx(RS,{})})]})}),w.jsx("footer",{className:"mt-12 text-center text-cyan-300/60 text-sm",children:w.jsxs("p",{children:[" ",new Date().getFullYear()," Legion Sales Tracker. All rights reserved. Not affiliated with Legion, not official tracker."]})})]})]})})}Kp(document.getElementById("root")).render(w.jsx(k.StrictMode,{children:w.jsx(OS,{})}));export{s0 as g};
