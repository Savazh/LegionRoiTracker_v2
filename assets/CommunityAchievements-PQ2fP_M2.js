import{c as m,j as t,m as c}from"./index-DUfwL6qt.js";import{r as n}from"./vendor-DLkZsigC.js";import{A as d}from"./award-Nima97WF.js";import{s as l}from"./supabase-ch8yMExo.js";import{T as p,M as x,a as u}from"./trending-up-BLrc29FY.js";import"./charts-R36fmogF.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=m("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function y({title:e,description:o,color:a,icon:s,earned:i=!1}){return t.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:`relative p-4 rounded-lg border ${i?`bg-${a}-500/10 border-${a}-500/20`:"bg-black/40 border-cyan-500/20 opacity-50"} overflow-hidden group`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),t.jsxs("div",{className:"relative flex items-start gap-3",children:[t.jsx("div",{className:`p-2 rounded-full bg-${a}-500/10`,children:s||t.jsx(d,{className:`text-${a}-400`,size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-${a}-400 font-semibold`,children:e}),t.jsx("p",{className:"text-cyan-300/60 text-sm mt-1",children:o})]}),i&&t.jsx(c.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Earned"})]})]})}const h=[{id:"first-prediction",title:"Oracle Initiate",description:"Made your first price prediction",color:"pink",icon:t.jsx(g,{className:"text-pink-400",size:20}),condition:e=>e.totalPredictions>=1},{id:"accuracy-master",title:"Accuracy Master",description:"Achieved 80% prediction accuracy",color:"yellow",icon:t.jsx(p,{className:"text-yellow-400",size:20}),condition:e=>e.accuratePredictions/e.totalPredictions>=.8},{id:"community-voice",title:"Community Voice",description:"Posted 10 or more comments",color:"cyan",icon:t.jsx(x,{className:"text-cyan-400",size:20}),condition:e=>e.totalComments>=10},{id:"engagement-hero",title:"Engagement Hero",description:"Cast 50 votes on predictions or comments",color:"green",icon:t.jsx(u,{className:"text-green-400",size:20}),condition:e=>e.totalVotes>=50},{id:"streak-master",title:"Streak Master",description:"Maintained a 5-day prediction streak",color:"purple",icon:t.jsx(d,{className:"text-purple-400",size:20}),condition:e=>e.bestStreak>=5}];function S({tokenId:e}){const[o,a]=n.useState({totalPredictions:0,accuratePredictions:0,totalComments:0,totalVotes:0,bestStreak:0});return n.useEffect(()=>{(async()=>{try{const{data:i}=await l.from("price_predictions").select("*").eq("token_id",e),{data:r}=await l.from("comments").select("*").eq("token_id",e);a({totalPredictions:(i==null?void 0:i.length)||0,accuratePredictions:(i==null?void 0:i.filter(f=>Math.random()>.5).length)||0,totalComments:(r==null?void 0:r.length)||0,totalVotes:Math.floor(Math.random()*100),bestStreak:Math.floor(Math.random()*10)})}catch(i){console.error("Error fetching user stats:",i)}})()},[e]),t.jsxs("div",{className:"bg-black/20 p-6 rounded-lg border border-cyan-500/10",children:[t.jsx("h2",{className:"text-xl font-semibold text-pink-500 mb-4",children:"Community Achievements"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(s=>t.jsx(y,{title:s.title,description:s.description,color:s.color,icon:s.icon,earned:s.condition(o)},s.id))})]})}export{S as CommunityAchievements};
